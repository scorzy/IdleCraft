import{c as Fs,t as Ir,a as Le,b as j,j as l,S as So,G as Gn,d as br,e as jr,f as yr,g as vr,h as Sr,L as Vn,i as zn,k as Cr,l as wr,m as kr,n as Co,o as Nr,p as wn,q as Dr,r as Ar,s as _r,u as wo,v as Tr,w as Mr,x as Pr,y as Er,z as Rr,A as Lr,B as $r,C as Br,D as qr,E as Or,F as Hr,H as Ws,I as Us,J as Fr,K as Qs,M as ko,N as Wr,O as Ur,P as Qr,Q as Gr,R as Vr,T as kn,U as zr,V as No,W as Kr,X as Yr,Y as Xr,Z as Ge,_ as Do,$ as Zr,a0 as v,a1 as Ao,a2 as _o,a3 as To,a4 as Mo,a5 as Po,a6 as Eo,a7 as Jr,a8 as ec,a9 as tc,aa as sc,ab as nc,ac as Ro,ad as we,ae as ic,af as oc,ag as ac,ah as lc,ai as rc,aj as cc,ak as dc,al as mc,am as fc,an as uc,ao as gc,ap as hc,aq as pc,ar as tt,as as Oe,at as xc,au as Ic,av as Lo,aw as bc,ax as jc,ay as $o,az as yc,aA as vc,aB as Bo,aC as St,aD as qo,aE as Oo,aF as Kn,aG as Sc,aH as Cc,aI as wc,aJ as kc,aK as Ho,aL as Nc,aM as Dc,aN as Ac,aO as Fo,aP as _c,aQ as Tc,aR as Mc,aS as Pc,aT as Ec,aU as Yn,aV as Rc,aW as Lc,aX as $c,aY as Wo,aZ as Uo,a_ as Bc,a$ as qc,b0 as Oc,b1 as Hc,b2 as Fc,b3 as Wc,b4 as Uc,b5 as Qc,b6 as Gc,b7 as Vc,b8 as zc,b9 as Kc,ba as Yc,bb as Xc,bc as ls,bd as Zc,be as Jc,bf as ed,bg as td,bh as Qo,bi as sd,bj as nd,bk as id,bl as od,bm as ad,bn as ld,bo as rd,bp as Go,bq as cd,br as dd,bs as Xn,bt as md,bu as fd,bv as ud,bw as gd,bx as hd,by as pd,bz as xd,bA as Id,bB as bd,bC as Hi,bD as jd,bE as yd,bF as vd,bG as Sd,bH as Cd}from"./vendor-Dce2BB1S.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const Qt=Fs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",health:"bg-health text-health-foreground hover:bg-health/90",stamina:"bg-stamina text-stamina-foreground hover:bg-stamina/90",mana:"bg-mana text-mana-foreground hover:bg-mana/90"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-7 rounded-md px-2",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function L(...n){return Ir(Le(n))}function se(n){const e=j.c(14);let t,s,i,o,a;e[0]!==n?({className:t,variant:a,size:i,asChild:o,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o,e[5]=a):(t=e[1],s=e[2],i=e[3],o=e[4],a=e[5]);const c=(o===void 0?!1:o)?So:"button";let d;e[6]!==t||e[7]!==i||e[8]!==a?(d=L(Qt({variant:a,size:i,className:t})),e[6]=t,e[7]=i,e[8]=a,e[9]=d):d=e[9];let m;return e[10]!==c||e[11]!==s||e[12]!==d?(m=l.jsx(c,{"data-slot":"button",className:d,...s}),e[10]=c,e[11]=s,e[12]=d,e[13]=m):m=e[13],m}function wd(n,e,t){return n.ids.push(e),n.entries[e]=t,n}function kd(n,e){delete n.entries[e];const t=n.ids.indexOf(e);return n.ids.splice(t,1),n}function Nd(n,e,t){const s=n.entries[e];if(!s)throw new Error(`${e} doesn't exists`);const i={...s,...t};return n.entries[e]=i,n}function Dd(n,e,t){if(n.entries[e]===void 0)throw new Error(`${e} doesn't exists`);return n.entries[e]=t,n}class Ad{create=wd;remove=kd;update=Nd;replace=Dd}const Es=new Ad;class Ve{getInitialState(){return{ids:[],entries:{}}}create(e,t){Es.create(e,this.getId(t),t)}update(e,t,s){Es.update(e,t,s)}replace(e,t,s){Es.replace(e,t,s)}upsertMerge(e,t){const s=this.getId(t);e.entries[s]?this.update(e,s,t):this.create(e,t)}remove(e,t){if(!e.entries[t])throw new Error(`${t} doesn't exists`);Es.remove(e,t)}getIds(e){return e.ids.slice()}select(e,t){return e.entries[t]}selectEx(e,t){const s=e.entries[t];if(s===void 0)throw new Error(`Data not found ${t}`);return s}find(e,t){const s=e.ids;for(const i of s){const o=e.entries[i];if(o&&t(o))return o}}findMany(e,t){const s=[],i=e.ids;for(const o of i){const a=e.entries[o];a&&t(a)&&s.push(a)}return s}findManyIds(e,t){return this.findMany(e,t)?.map(s=>this.getId(s))??[]}count(e,t){let s=0;return this.forEach(e,i=>{t(i)&&s++}),s}load(e){const t=this.getInitialState();if(e&&typeof e=="object"&&"ids"in e&&"entries"in e&&e.ids&&e.entries&&Array.isArray(e.ids)){const s=e.entries;for(const i of e.ids){if(typeof i!="string")continue;const o=s[i],a=this.complete(o);a&&this.create(t,a)}}return t}complete(e){return e}findIds(e){return e.ids}forEach(e,t){const s=e.ids;for(const i of s){const o=e.entries[i];o&&t(o)}}every(e,t){const s=e.ids;for(const i of s){const o=e.entries[i];if(o&&!t(o))return!1}return!0}}var $e=(n=>(n.NormalAttack="NormalAttack",n.ChargedAttack="ChargedAttack",n))($e||{});class _d extends Ve{getId(e){return e.id}getInitialState(){return{ids:[$e.NormalAttack],entries:{[$e.NormalAttack]:{id:$e.NormalAttack,abilityId:$e.NormalAttack}}}}}const Gs=new _d;class Td extends Ve{getId(e){return e.id}}const lt=new Td;var D=(n=>(n.Axe="Axe",n.Log="Log",n.Plank="Plank",n.Handle="Handle",n.Ore="Ore",n.Bar="Bar",n.Pickaxe="Pickaxe",n.Heart="Heart",n.HeartPlus="HeartPlus",n.Strong="Strong",n.MagicPalm="MagicPalm",n.Boar="Boar",n.Forest="Forest",n.WolfHead="WolfHead",n.DeadWood="DeadWood",n.Oak="Oak",n.Punch="Punch",n.SaberSlash="SaberSlash",n.Sword="Sword",n.Breastplate="Breastplate",n.Dagger="Dagger",n.Broadsword="Broadsword",n.MeatCleaver="MeatCleaver",n.Steak="Steak",n.AnimalHide="AnimalHide",n.Shield="Shield",n.CrossedSwords="CrossedSwords",n.Skull="Skull",n.Coins="Coins",n.Potion="Potion",n.OppositeIngredient="OppositeIngredient",n.MultipleEffects="MultipleEffects",n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.RoundPotion="RoundPotion",n.VanillaFlower="VanillaFlower",n.Chicken="Chicken",n.Leaf="Leaf",n.Mushroom="Mushroom",n.SwapBag="SwapBag",n))(D||{});const te={Axe:l.jsx(kn,{}),Log:l.jsx(Vr,{}),Plank:l.jsx(Gr,{}),Handle:l.jsx(Qr,{}),Ore:l.jsx(Ur,{}),Bar:l.jsx(Wr,{}),Pickaxe:l.jsx(ko,{}),Heart:l.jsx(Qs,{}),HeartPlus:l.jsx(Fr,{}),Strong:l.jsx(Us,{}),MagicPalm:l.jsx(Ws,{}),Boar:l.jsx(Hr,{}),Forest:l.jsx(Or,{}),WolfHead:l.jsx(qr,{}),DeadWood:l.jsx(Br,{}),Oak:l.jsx($r,{}),Punch:l.jsx(Lr,{}),SaberSlash:l.jsx(Rr,{}),Sword:l.jsx(Er,{}),Breastplate:l.jsx(Pr,{}),Dagger:l.jsx(Mr,{}),Broadsword:l.jsx(Tr,{}),MeatCleaver:l.jsx(wo,{}),Steak:l.jsx(_r,{}),AnimalHide:l.jsx(Ar,{}),Shield:l.jsx(Dr,{}),CrossedSwords:l.jsx(wn,{}),Skull:l.jsx(Nr,{}),Coins:l.jsx(Co,{}),Potion:l.jsx(kr,{}),OppositeIngredient:l.jsx(wr,{}),MultipleEffects:l.jsx(Cr,{}),ArrowUp:l.jsx(zn,{}),ArrowDown:l.jsx(Vn,{}),RoundPotion:l.jsx(Sr,{}),VanillaFlower:l.jsx(vr,{}),Chicken:l.jsx(yr,{}),Leaf:l.jsx(jr,{}),Mushroom:l.jsx(br,{}),SwapBag:l.jsx(Gn,{})},ie="Player",Zn={iconId:D.Axe,templateId:"Player",nameId:"Activities",id:ie,inventory:{},exp:0,level:0,healthPoints:0,manaPoints:0,staminaPoints:0,isEnemy:!1,perks:{},skillsExp:{},skillsLevel:{},combatAbilities:[],allCombatAbilities:Gs.getInitialState(),health:100,mana:100,stamina:100,lastCombatAbilityNum:0,lastCombatAbilityId:null},Jn=l.jsx(zr,{className:"text-lg"}),Md=l.jsx(No,{}),Vo=l.jsx(Kr,{className:"ml-2 h-4"}),Rs=l.jsx(Vn,{}),Ls=l.jsx(zn,{}),Pd=l.jsx(Yr,{}),Ed=l.jsx(Co,{className:"text-money-foreground"}),zo=l.jsx(Xr,{color:"var(--color-success)",className:"text-lg"}),Rd={maxSize:30};function Nn(n){return Ge(n,Rd)}const Fi=3600,Wi=3600*24,Ui=3600*24*30,Qi=3600*24*365,Gi=Nn(function(e){e/=1e3;const t=Math.floor(e/Qi);e-=t*Qi;const s=Math.floor(e/Ui);e-=s*Ui;const i=Math.floor(e/Wi);e-=i*Wi;const o=Math.floor(e/Fi);e-=o*Fi;const a=Math.floor(e/60),r=Math.floor(e%60*10)/10;return{years:t,months:s,days:i,hours:o,minutes:a,seconds:r}}),Ko=30;function Ld(n,e){return Math.abs(n-e)<1e-6}const Yo=30,Xo=10,jt="primary";var Xe=(n=>(n.Copper="Copper",n.Tin="Tin",n.DeadWood="DeadWood",n.Oak="Oak",n))(Xe||{});const Zo={Copper:{id:"Copper",color:"text-copper-foreground",nameId:"CopperMat"},Tin:{id:"Tin",color:"text-tin-foreground",nameId:"TinMat"},DeadWood:{id:"Tin",color:"text-dead-tree-foreground",nameId:"DeadWoodMat"},Oak:{id:"Tin",color:"text-oak-foreground",nameId:"OakMat"}};function $d(n){const e=n[jt];if(e){const t=Zo[e];if(t)return t.nameId}}const Vi={LevelToLow:"Level to low",Activities:"Activities",Abilities:"Abilities",Storage:"Storage",Woodcutting:"Woodcutting",Woodworking:"Woodworking",Time:"Time",Stop:"Stop",Info:"Info",Add:"Add",Points:"Points",Loading:"Loading...",StartNow:"Start Now",Ago:"ago",Fight:"Fight",CraftingUnknown:"Crafting ??",DeadTree:"Dead Tree",Oak:"Oak",DeadTreeForest:"Dead Tree Forest",OakForest:"Oak Forest",Cutting:"Cutting",TreeHP:"Tree HP",Cut:"Cut",Trees:"Trees",GrowingTrees:"Growing Trees",MoveUp:"Move Up",MoveDown:"Move Down",Remove:"Remove",Log:"Log",None:"None",Recipe:"Recipe",Plank:"Plank",Requirements:"Requirements",NoItems:"You don't possess anything!",NoActivities:"There aren't any activity",Craft:"Craft",Sort:"Sort",Name:"Name",Quantity:"Quantity",Value:"Value",Handle:"Handle",DeadTreeHandle:"Dead Tree Handle",OakHandle:"Oak Handle",Mining:"Mining",OreHp:"Ore Hp",Mine:"Mine",OreQta:"Quantity",Level:"Level",XP:"XP",MiningExp:"Mining Level",WoodcuttingExp:"Woodcutting Level",WoodworkingExp:"Woodworking Level",SmithingExp:"Smithing Level",Ore:"Ore",Bar:"Bar",Smithing:"Smithing",Crafting:"Crafting",Gathering:"Gathering",ItemType:"Type",Damage:"Damage",AttackSpeed:"Attack Speed",ArmourPen:"Armour Pen.",WoodcuttingDamage:"Woodcutting Damage",WoodcuttingTime:"Woodcutting  Time",MiningTime:"Mining Time",MiningDamage:"Mining Damage",SelectARecipe:"Select a recipe",Perks:"Perks",Available:"Available",NotAvailable:"Not Available",Completed:"Owned",Select:"Select",Base:"Base",Total:"Total",Used:"Used",Filter:"Filter",Attributes:"Attributes",healthPoints:"Health Points",StaminaPoints:"Stamina Points",ManaPoints:"Mana Points",Health:"Health",Stamina:"Stamina",Mana:"Mana",HealthRegen:"Health Regen",StaminaRegen:"Stamina Regen",ManaRegen:"Mana Regen",FastWoodcuttingPerk:"Faster Woodcutting",FastWoodcuttingPerkDesc:`Increase woodcutting speed by ${Yo}%`,FastMiningPerk:"Faster Mining",FastMiningPerkDesc:`Increase mining speed by ${Ko}%`,ChargedAttackPerk:"Charged Attack",ChargedAttackPerkDesc:"Unlock Charged Attack",ActivityAdded:"Activity added",NormalAttack:"Normal Attack",NormalAttackDesc:"Normal Attack",ChargedAttack:"Charged Attack",ChargedAttackDesc:"Charged Attack",CombatZones:"Combat Zones",Characters:"Characters",Forest:"Forest",Boar:"Boar",Wolves:"Wolves",Combat:"Combat",Pickaxe:"Pickaxe",Unharmed:"Unharmed",Stats:"Stats",BludgeoningArmour:"Bludgeoning Armour",BludgeoningDamage:"Bludgeoning Damage",PiercingArmour:"Piercing Armour",PiercingDamage:"Piercing Damage",SlashingArmour:"Slashing Armour",SlashingDamage:"Slashing Damage",OneHand:"Main Hand",TwoHands:"Two Hands",Body:"Body Armour",DamageType:"Damage Type",Defence:"Defence",Attack:"Attack",Equipments:"Equipments",YouDied:"You died",Archery:"Archery",OneHanded:"One Handed",TwoHanded:"Two Handed ",Block:"Block",Skills:"Skills",Start:"Start",NewGame:"New Game",Delete:"Delete",SavedGames:"Saved Games",Dagger:"Dagger",TwoHSword:"2H Sword",LongSword:"Long Sword",WoodAxe:"Wood Axe",Armour:"Armour",OffensiveInfo:"Offensive Info",DefensiveInfo:"Defensive Info",Allies:"Allies",Enemies:"Enemies",Empty:"Empty",FilterDots:"Filter...",Battle:"Battle",DeadBoar:"Dead Boar",Loot:"Loot",Collect:"Collect",Corpse:"Corpse",Butchering:"Butchering",BoarMeat:"Boar Meat",BoarSkin:"Boar Skin",ButcheringExp:"Butchering Level",Results:"Results",YouHave:"you have",RawFood:"Raw Food",RawSkin:"Raw Skin",Wolf:"Wolf",DeadWolf:"Dead Wolf",BattleStarted:"Battle started",BattleFinished:"Battle finished",Killed:"Killed",Quests:"Quests",BoarQuest1:"Boar Quest 1",BoarQuest1Desc:"Kill 5 Boars",AcceptedQuests:"Accepted Quests",AvailableQuests:"Available Quests",Complete:"Complete",Accept:"Accept",Gold:"Gold",KillRequestDesc:"Kill the following targets:",collectReqDesc:"Collect the following items",Rewards:"Rewards",items:"items",with1:"with",withProps:"with the following properties:",highPriority:"Hight Priority",mediumPriority:"Medium Priority",lowPriority:"Low Priority",selectPlaceholder:"-- Select --",collectConsume:"The following items will be consumed: ",deleteSaveTitle:"Are you absolutely sure?",deleteSaveDesc:"This action cannot be undone. This will permanently delete your save",cancel:"Cancel",Active:"Active",InQueue:"In Queue",BoarTusk:"Boar Tusk",NoResults:"No results found.",Close:"Close",CopperMat:"Copper",TinMat:"Tin",DeadWoodMat:"Dead Wood",OakMat:"Oak",Potion:"Potion",Solvent:"Solvent",Flask:"Flask",Ingredient:"Ingredient",OppositeEffects:"Opposite Effects",MultipleEffects:"Multiple Effects",IngredientsStability:"Ingredients Stability",Alchemy:"Alchemy",Stability:"Stability",GlassFlask:"Glass Flask",Water:"Water",RedFlower:"Red Flower",GreenFlower:"Green Flower",BlueFlower:"Blue Flower",Restore:"Restore",RegenHealth:"Regen Health",RegenMana:"Regen Mana",RegenStamina:"Regen Stamina",DamageHealth:"Damage Health",DamageMana:"Damage Mana",DamageStamina:"Damage Stamina",DamageRegenHealth:"Damage Regen Health",DamageRegenMana:"Damage Regen Mana",DamageRegenStamina:"Damage Regen Stamina",RestoreHealth:"Restore Health",RestoreMana:"Restore Mana",RestoreStamina:"Restore Stamina",CraftingIngredient:"Ingredient",AlchemyIngredient:"Alchemy Ingredient:",UnknownProperty:"Unknown Property",LowStabilityNotCraftable:"Not Craftable",LowStabilityNotCraftableDesc:"Stability is too low.",Lv:"Lv.",Drops:"Drops",IncreaseMaxHealthBy:"Increase max health by",IncreaseMaxManaBy:"Increase max mana by",IncreaseMaxStaminaBy:"Increase max stamina by",IncreaseMaxHealthBy2:"",IncreaseMaxManaBy2:"",IncreaseMaxStaminaBy2:"",IncreaseMaxHealth:"Increase max health",IncreaseMaxMana:"Increase max mana",IncreaseMaxStamina:"Increase max stamina",PerSecFor:"per sec for",PerSec:"per sec",Stable:"Stable",Unstable:"Unstable",Chaotic:"Chaotic",Unknown:"Unknown",NormalPotionDesc:"Normal potion.",UnstablePotionDesc:"Reduced efficiency.",ChaoticPotionDesc:"Reduced efficiency and less effects.",UnknownPotionDesc:"Unknown potion.",startVillageName:"Start Village",startVillageDesc:"Peaceful village surrounded by nature.",testName:"testName",testDesc:"testDesc",Use:"Use",TestSupplyQuest:"Test Supply Quest",TestSupplyQuestDesc:"Test Supply Quest",Chicken:"Chicken",DeadChicken:"Dead Chicken",RedMeat:"Red Meat",WhiteMeat:"White Meat",VitalHerb:"Vital Herb",ManaBloom:"Mana Bloom",StaminaLeaf:"Stamina Leaf",HealingFungus:"Healing Fungus",ManaSpore:"Mana Spore",HeartCrystalDust:"Heart Crystal Dust",ManaCrystalDust:"Mana Crystal Dust",UnknownEffects:"Unknown Effects, potion may have unexpected results"},Bd=(n,e)=>{const t=c=>`${e(c)} ${c===1?"year":"years"}`,s=c=>`${e(c)} ${c===1?"month":"months"}`,i=c=>`${e(c)} ${c===1?"day":"days"}`,o=c=>`${e(c)}h`,a=c=>`${e(c)}m`,r=c=>`${e(c)}s`;return{years:t,months:s,days:i,h:o,m:a,s:r,formatTime:c=>{const d=Gi(c);return d.years>0?t(d.years):d.months>0?s(d.months):d.days>0?i(d.days):d.hours>0?o(d.hours):d.minutes>0?a(d.minutes):d.seconds>=10||d.seconds>10?r(Math.floor(d.seconds)):r(Math.floor(d.seconds*10)/10)},formatTimePrecise:c=>{const d=Gi(c);return d.years>0?t(d.years):d.months>0?s(d.months):d.days>0?`${i(d.days)} ${o(d.hours)}`:d.hours>0?`${o(d.hours)} ${a(d.minutes)}`:d.minutes>0?`${a(d.minutes)} ${r(Math.floor(d.seconds))}`:d.seconds>=10||d.seconds>10?r(Math.floor(d.seconds)):r(Math.floor(d.seconds*10)/10)},cutting:c=>`Cutting ${n[c]}`,crafting:c=>`Crafting ${c}`,mining:c=>`Mining ${n[c]}`,speedBonusPercent:c=>`Speed bonus +${c}%`,prestigePercent:c=>`Value bonus +${c}%`,fighting:c=>`Fighting ${n[c]}`,requireWoodcuttingLevel:c=>`Require woodcutting level ${c}`,requireMiningLevel:c=>`Require mining level ${c}`,OreVein:c=>`${c} Vein`,testQuestName:c=>"Kill or Collect",testQuestDesc:c=>"Kill or Collect, debug quest",testOutcomeDesc:c=>"Kill some boars",testOutcome2Desc:c=>"Collect some items",collectN:c=>`Collect ${e(c)}`,collectItemsTotal:c=>c<Number.EPSILON?"You don't have any item that can be used to complete the quest":Ld(c,1)?"You have one item that can be used to complete the quest":`You have ${e(c)} items that can be used to complete the quest`,getItemName:c=>{let d=n[c.itemNameId]||c.itemNameId;if(c.materials){const m=$d(c.materials);m&&(d=`${n[m]} ${d}`)}return d}}},Jo={eng:n=>({t:Vi,fun:Bd(Vi,n)})};var Q=(n=>(n.Woodcutting="Woodcutting",n.Crafting="Crafting",n.Mining="Mining",n.Battle="Battle",n.Tree="Tree",n.Ability="Ability",n.StartBattle="StartBattle",n.Effect="Effect",n))(Q||{});class qd extends Ve{getId(e){return e.id}}const re=new qd;var Bs=(n=>(n.AUTO="",n.IT="it-IT",n.US="en-US",n))(Bs||{}),ps=(n=>(n[n.STANDARD=0]="STANDARD",n[n.SCIENTIFIC=1]="SCIENTIFIC",n[n.ENGINEERING=2]="ENGINEERING",n))(ps||{}),at=(n=>(n.StartVillage="StartVillage",n.Test="Test",n))(at||{});const Od={StartVillage:{id:"StartVillage",name:"startVillageName",description:"startVillageDesc"},Test:{id:"Test",name:"testName",description:"testDesc"}};var Dt=(n=>(n.Copper="Copper",n.Tin="Tin",n))(Dt||{});class Hd extends Ve{getId(e){return e.id}complete(e){return!e||typeof e!="object"||!("id"in e)?null:e}}const Bt=new Hd;class Fd extends Ve{getId(e){return e.id}}const Te=new Fd;var J=(n=>(n.Activities="Activities",n.Storage="Storage",n.Woodcutting="Woodcutting",n.Woodworking="Woodworking",n.Mining="Mining",n.Smithing="Smithing",n.CombatZones="CombatZones",n.Combat="Combat",n.Characters="Characters",n.Butchering="Butchering",n.Quest="Quest",n.Alchemy="Alchemy",n))(J||{}),qt=(n=>(n.DeadTree="DeadTree",n.Oak="Oak",n))(qt||{});Object.values(qt);class Wd extends Ve{getId(e){return e.id}}const Ot=new Wd;class Ud extends Ve{getId=e=>e.id}const qs=new Ud;var he=(n=>(n.Woodworking="Woodworking",n.Smithing="Smithing",n.Butchering="Butchering",n.Alchemy="Alchemy",n))(he||{}),ve=(n=>(n.ItemType="ItemType",n))(ve||{});function Qd(n){return n.type==="ItemType"}var Me=(n=>(n.ACCEPTED="ACCEPTED",n.AVAILABLE="AVAILABLE",n))(Me||{});class Gd extends Ve{getId(e){return e.id}}const le=new Gd;class Vd extends Ve{getId(e){return e.id}}const _t=new Vd;class zd extends Ve{getId(e){return e.itemId}}const ht=new zd;class Kd extends Ve{getId(e){return e.id}}const Be=new Kd,zi=()=>({storage:ht.getInitialState(),forests:{},ores:{},loot:[]}),ea={gameId:"",isTimer:!1,lastRegen:0,gold:0,ui:{open:!1,theme:"system",themeColor:"",page:J.Storage,comma:Bs.AUTO,lang:"eng",numberFormatNotation:ps.STANDARD,woodType:qt.DeadTree,selectedItemId:null,selectedItemLocation:null,storageOrder:"name",storageAsc:!0,oreType:Dt.Copper,showAvailablePerks:!0,showOwnedPerks:!0,showUnavailablePerks:!0,battleZone:null,selectedCharId:ie,collapsed:{},defaultClosed:{},deadDialog:!1,recipeType:he.Smithing,selectedQuestId:null},notifications:[],location:at.StartVillage,activities:re.getInitialState(),orderedActivities:[],activityId:null,activityDone:0,lastActivityDone:0,timers:Te.getInitialState(),now:Date.now(),loading:!1,craftedItems:Bt.getInitialState(),waitingTrees:null,locations:{[at.StartVillage]:zi(),[at.Test]:zi()},treeGrowth:Ot.getInitialState(),recipeId:"",craftingForm:{params:[],paramsValue:[],result:void 0},characters:{ids:[ie],entries:{[ie]:Zn}},castCharAbility:lt.getInitialState(),battleLogs:qs.getInitialState(),quests:le.getInitialState(),discoveredEffects:{},effects:Be.getInitialState()},ei=()=>structuredClone(ea),b=Do()(Zr(()=>ea)),gs=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QiDc","SxDc","SpDc","ODc","NDc","Vi","UVi","DVi","TVi","QaVi","QiVi","SxVi","SpVi","OVi","NVi","Tg","UTg","DTg","TTg","QaTg","QiTg","SxTg","SpTg","OTg","NTg","Qd","UQd","DQd","TQd","QaQd","QiQd","SxQd","SpQd","OQd","NQd","Qq","UQq","DQq","TQq","QaQq","QiQq","SxQq","SpQq","OQq","NQq","Sg","USg","DSg","TSg","QaSg","QiSg","SxSg","SpSg","OSg","NSg","St","USt","DSt","TSt","QaSt","QiSt","SxSt","SpSt","OSt","NSt","Og","UOg","DOg","TOg","QaOg","QiOg","SxOg","SpOg","OOg","NOg"],Ki=gs.map(n=>n.toUpperCase()),rs=4;function Yd(n,e){let t;(e===Bs.IT||e===Bs.US)&&(t=e);const s=new Intl.NumberFormat(t,{maximumSignificantDigits:rs,notation:"engineering"}),i=new Intl.NumberFormat(t,{maximumSignificantDigits:rs,notation:"scientific"}),o=new Intl.NumberFormat(t,{maximumSignificantDigits:rs,notation:"compact"}),a=gs.length,r=new Intl.NumberFormat(t).formatToParts(123456.789),c=r.find(u=>u.type==="group")?.value??"",d=r.find(u=>u.type==="decimal")?.value??".",m=Nn(u=>{u=u.replace(c,"").toUpperCase();let g=a-1;for(;g>=0;g--){const I=Ki[g];if(I&&u.endsWith(I))break}let h=1;if(g<a&&g>-1){h=10**(g*3);const I=Ki[g];I&&(u=u.replace(I,""))}else{const I=u.split("E");if(I.length>1){const y=Number(I[1]);isFinite(y)&&(h=10**y),u=I[0]??u}}const p=d==="A"?u:u.replace(d,"."),x=Number(p);return isFinite(x)?x*h:0});let f;switch(n){case ps.STANDARD:f=u=>{if(u>=Number.POSITIVE_INFINITY)return"∞";if(isNaN(u))return"NaN";if(u<1e4)return o.format(u);u=$s(u,4);const g=s.format(u),h=Math.max(0,Math.floor(Math.log10(Math.abs(u))/3));if(h>gs.length)return i.format(u);const p=(gs[h]!==""?gs[h]:"")??"";return`${g.split("E")[0]??""}${p}`};break;case ps.SCIENTIFIC:f=u=>u>=Number.POSITIVE_INFINITY?"∞":isNaN(u)?"NaN":u<1e3?o.format(u):(u=$s(u,rs),i.format(u));break;case ps.ENGINEERING:f=u=>u>=Number.POSITIVE_INFINITY?"∞":isNaN(u)?"NaN":u<1e4?o.format(u):(u=$s(u,rs),s.format(u));break}return f=Nn(f),[f,m]}function $s(n,e){if(n<0)return-$s(-n,e);const t=10**(e-Math.floor(Math.log(n)/Math.LN10)-1);return Math.floor(n*t)/t}const Xd=Ge((n,e,t)=>{const s=Yd(n,e);if(!Jo[t])throw new Error(`Language ${t} not found`);return{f:s[0],p:s[1]}}),ta=n=>{const e=n.ui.numberFormatNotation,t=n.ui.comma,s=n.ui.lang;return Xd(e,t,s)},G=()=>b(ta),Dn=new Map;class Zd extends Ve{getId(e){return e.id}complete(e){let t=structuredClone(Zn);return t={...t,...e},t}remove(e,t){const s=super.remove(e,t);return Dn.delete(t),s}}const R=new Zd,Jd=n=>n.ui.theme,em=n=>n.ui.themeColor,tm=n=>n.ui.lang,sm=n=>e=>e.ui.woodType===n,Mt=n=>n.ui.woodType,ys=n=>n.ui.oreType,nm=n=>n.ui.showAvailablePerks,im=n=>n.ui.showUnavailablePerks,om=n=>n.ui.showOwnedPerks,Ne=n=>n.ui.selectedCharId,Gt=n=>R.select(n.characters,n.ui.selectedCharId)?.isEnemy??!0,am=n=>e=>e.ui.selectedCharId===n,Vs=n=>e=>e.ui.collapsed[n]??!1,lm=n=>n.ui.storageOrder,rm=n=>n.ui.storageAsc,cm=n=>n.ui.storageOrder==="name",dm=n=>n.ui.storageOrder==="quantity",mm=n=>n.ui.storageOrder==="value",fm=n=>e=>n?e.sidebarWidths[n]??0:-1,um=Ge((n,e)=>{const t=Jo[n];if(!t)throw new Error(`Language ${n} not found`);return t(e)}),ke=n=>{const e=tm(n),t=ta(n);return um(e,t.f)},k=()=>b(ke);let gm=0;const hm=new Date(2024,1).getTime();function He(){return`${(gm++).toString(36)}${(Date.now()-hm).toString(36)}`}const Ct=v.memo(function(e){const t=j.c(8),{value:s,className:i,color:o}=e,a=-100+s;let r;t[0]!==i||t[1]!==o?(r=Le("progress__root",i,o),t[0]=i,t[1]=o,t[2]=r):r=t[2];const c=`translateX(${a}%)`;let d;t[3]!==c?(d=l.jsx("div",{className:"progress__bar",style:{transform:c}}),t[3]=c,t[4]=d):d=t[4];let m;return t[5]!==r||t[6]!==d?(m=l.jsx("div",{className:r,children:d}),t[5]=r,t[6]=d,t[7]=m):m=t[7],m}),pm={sidebarWidths:{}},yt=Do()(()=>pm),xm=ec,Im=Jr,bm=tc,sa=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Ao,{className:o,...s,ref:i}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};sa.displayName=Ao.displayName;const na=n=>{const e=j.c(11);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(sa,{}),e[4]=o):o=e[4];let a;e[5]!==t?(a=L("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed top-[50%] left-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg",t),e[5]=t,e[6]=a):a=e[6];let r;return e[7]!==s||e[8]!==i||e[9]!==a?(r=l.jsxs(bm,{children:[o,l.jsx(_o,{ref:i,className:a,...s})]}),e[7]=s,e[8]=i,e[9]=a,e[10]=r):r=e[10],r};na.displayName=_o.displayName;const ia=n=>{const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex flex-col space-y-2 text-center sm:text-left",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o};ia.displayName="AlertDialogHeader";const oa=n=>{const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o};oa.displayName="AlertDialogFooter";const aa=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("text-lg font-semibold",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(To,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};aa.displayName=To.displayName;const la=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("text-muted-foreground text-sm",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Mo,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};la.displayName=Mo.displayName;const ra=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L(Qt(),t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Po,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};ra.displayName=Po.displayName;const ca=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L(Qt({variant:"outline"}),"mt-2 sm:mt-0",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Eo,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};ca.displayName=Eo.displayName;function jm(n){const e=ei();e.characters=R.getInitialState();const t=sc(e,n);return R.select(t.characters,ie)||R.create(t.characters,Zn),t}const An=3600*1e3*24,ym=3600*1e3*1,_n=1e3,Os=1.2,da=1e4,Tn=1.2,vm=(n,e,t)=>R.selectEx(n.characters,t).skillsLevel[e]??0,ma=n=>Math.round(_n*(Os**n-1)/(Os-1)),fa=(n,e)=>t=>vm(t,n,e),Sm=(n,e)=>t=>R.selectEx(t.characters,e).skillsExp[n]??0,zs=(n,e)=>t=>{const s=R.selectEx(t.characters,e).skillsLevel[n]??0;return ma(s)},Cm=(n,e)=>t=>{const s=R.selectEx(t.characters,e).skillsLevel[n]??0;return ma(s+1)},wm=(n,e)=>{const t=R.selectEx(n.characters,e);if(!t)throw new Error("Player not found");return t.skillsExp},km=(n,e)=>{const t=R.selectEx(n.characters,e);if(!t)throw new Error("Player not found");return t.level},Nm=(n,e,t)=>Math.floor(Math.log(n*(e-1)/t+1)/Math.log(e)),Dm=n=>Nm(n,Tn,da),Yi=n=>{let e=Math.round(da*(Tn**n-1)/(Tn-1));return e.toString().endsWith("9")&&(e=Math.floor(e+1)),e};var Fe=(n=>(n.FAST_WOODCUTTING="FAST_WOODCUTTING",n.FAST_MINING="FAST_MINING",n.CHARGED_ATTACK="CHARGED_ATTACK",n))(Fe||{});const wt={[Fe.FAST_WOODCUTTING]:{id:Fe.FAST_WOODCUTTING,iconId:D.Axe,nameId:"FastWoodcuttingPerk",descId:"FastWoodcuttingPerkDesc"},[Fe.FAST_MINING]:{id:Fe.FAST_MINING,iconId:D.Pickaxe,nameId:"FastMiningPerk",descId:"FastMiningPerkDesc"},[Fe.CHARGED_ATTACK]:{id:Fe.CHARGED_ATTACK,iconId:D.SaberSlash,nameId:"ChargedAttackPerk",descId:"ChargedAttackPerkDesc",abilityUnlock:$e.ChargedAttack}};function Se(n){let e=0;for(const t of n)e+=t.add??0;for(const t of n)t.multi&&(e*=1+t.multi/100);return e}function vs(n,e){return{id:n.id,nameId:n.nameId,iconId:n.icon,...e}}function ua(n,e){const t=wt[n];return{id:t.id,nameId:t.nameId,iconId:t.iconId,...e}}var O=(n=>(n.Log="Log",n.Plank="Plank",n.Handle="Handle",n.Ore="Ore",n.Bar="Bar",n.WoodAxe="WoodAxe",n.Pickaxe="Pickaxe",n.OneHand="OneHand",n.TwoHands="TwoHands",n.Body="Body",n.Corpse="Corpse",n.RawFood="RawFood",n.RawSkin="RawSkin",n.Potion="Potion",n.Flask="Flask",n.CraftingIngredient="CraftingIngredient",n.Solvent="Solvent",n))(O||{}),qe=(n=>(n.Weapon="Weapon",n.Armour="Armour",n.Tool="Tool",n.Crafting="Crafting",n.Potion="Potion",n))(qe||{}),Ae=(n=>(n.Slashing="Slashing",n.Piercing="Piercing",n.Bludgeoning="Bludgeoning",n))(Ae||{}),fe=(n=>(n.Low="Low",n.Medium="Medium",n.High="High",n))(fe||{}),B=(n=>(n.Health="Health",n.Mana="Mana",n.Stamina="Stamina",n.RegenHealth="RegenHealth",n.RegenMana="RegenMana",n.RegenStamina="RegenStamina",n.MaxHealth="MaxHealth",n.MaxMana="MaxMana",n.MaxStamina="MaxStamina",n.DamageHealth="DamageHealth",n.DamageMana="DamageMana",n.DamageStamina="DamageStamina",n.DamageRegenHealth="DamageRegenHealth",n.DamageRegenMana="DamageRegenMana",n.DamageRegenStamina="DamageRegenStamina",n))(B||{}),je=(n=>(n.Stable="Stable",n.Unstable="Unstable",n.Chaotic="Chaotic",n.Unknown="Unknown",n.NotPotion="NotPotion",n))(je||{}),Ye=(n=>(n.Herb="Herb",n.Mineral="Mineral",n.Animal="Animal",n))(Ye||{});const ga={GlassFlask:{id:"GlassFlask",icon:D.RoundPotion,nameId:"GlassFlask",value:10,type:O.Flask,flaskData:{reusePercent:0}},Water:{id:"Water",icon:D.RoundPotion,nameId:"Water",color:"text-mana",value:1,type:O.Solvent,unlimited:!0,solventData:{potency:fe.Low}},RedFlower:{id:"RedFlower",icon:D.VanillaFlower,nameId:"RedFlower",value:3,color:"text-health",type:O.CraftingIngredient,ingredientData:{stability:10,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.Health},{potency:fe.Low,effect:B.RegenHealth}]}},BlueFlower:{id:"BlueFlower",icon:D.VanillaFlower,nameId:"BlueFlower",value:3,color:"text-mana",type:O.CraftingIngredient,ingredientData:{stability:10,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.Mana},{potency:fe.Low,effect:B.RegenMana}]}},GreenFlower:{id:"GreenFlower",icon:D.VanillaFlower,nameId:"GreenFlower",value:3,color:"text-stamina",type:O.CraftingIngredient,ingredientData:{stability:10,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.Stamina},{potency:fe.Low,effect:B.RegenStamina}]}},VitalHerb:{id:"VitalHerb",icon:D.Leaf,nameId:"VitalHerb",value:4,color:"text-health",type:O.CraftingIngredient,ingredientData:{stability:20,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.Health}]}},ManaBloom:{id:"ManaBloom",icon:D.VanillaFlower,nameId:"ManaBloom",value:4,color:"text-mana",type:O.CraftingIngredient,ingredientData:{stability:20,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.Mana}]}},StaminaLeaf:{id:"StaminaLeaf",icon:D.Leaf,nameId:"StaminaLeaf",value:4,color:"text-stamina",type:O.CraftingIngredient,ingredientData:{stability:20,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.Stamina}]}},HealingFungus:{id:"HealingFungus",icon:D.Mushroom,nameId:"HealingFungus",value:6,color:"text-health",type:O.CraftingIngredient,ingredientData:{stability:0,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.RegenHealth}]}},ManaSpore:{id:"ManaSpore",icon:D.Mushroom,nameId:"ManaSpore",value:6,color:"text-mana",type:O.CraftingIngredient,ingredientData:{stability:0,type:Ye.Herb,effects:[{potency:fe.Low,effect:B.RegenMana}]}},HeartCrystalDust:{id:"HeartCrystalDust",icon:D.SwapBag,nameId:"HeartCrystalDust",value:10,color:"text-health",type:O.CraftingIngredient,ingredientData:{stability:5,type:Ye.Mineral,effects:[{potency:fe.Low,effect:B.MaxHealth}]}},ManaCrystalDust:{id:"ManaCrystalDust",icon:D.SwapBag,nameId:"ManaCrystalDust",value:10,color:"text-mana",type:O.CraftingIngredient,ingredientData:{stability:5,type:Ye.Mineral,effects:[{potency:fe.Low,effect:B.MaxMana}]}}},Am={WhiteMeat:{id:"WhiteMeat",icon:D.Steak,nameId:"WhiteMeat",type:O.RawFood,value:5},RedMeat:{id:"RedMeat",icon:D.Steak,nameId:"RedMeat",type:O.RawFood,value:6},BoarSkin:{id:"BoarSkin",icon:D.AnimalHide,nameId:"BoarSkin",type:O.RawSkin,value:5}};var ae=(n=>(n.Woodcutting="Woodcutting",n.Woodworking="Woodworking",n.Mining="Mining",n.Smithing="Smithing",n.Archery="Archery",n.OneHanded="OneHanded",n.TwoHanded="TwoHanded ",n.Block="Block",n.Butchering="Butchering",n.Alchemy="Alchemy",n))(ae||{});const _m={ChickenBeak:{id:"ChickenBeak",nameId:"Chicken",icon:D.Chicken,type:O.TwoHands,value:0,weaponData:{attackSpeed:3e3,expType:ae.TwoHanded,damage:{Piercing:2,Bludgeoning:0,Slashing:0}}},BoarTusk:{id:"BoarTusk",nameId:"BoarTusk",icon:D.Boar,type:O.TwoHands,value:0,weaponData:{attackSpeed:4e3,expType:ae.TwoHanded,damage:{Piercing:10,Bludgeoning:0,Slashing:0}}}},ha={DeadChicken:{id:"DeadChicken",icon:D.Chicken,nameId:"DeadChicken",type:O.Corpse,value:5,butchering:[{id:"WhiteMeat",stdItemId:"WhiteMeat",qta:1}]},DeadBoar:{id:"DeadBoar",icon:D.Boar,nameId:"DeadBoar",type:O.Corpse,value:5,butchering:[{id:"RedMeat",stdItemId:"RedMeat",qta:2}]},DeadWolf:{id:"DeadWolf",icon:D.WolfHead,nameId:"DeadWolf",type:O.Corpse,value:8,butchering:[{id:"RedMeat",stdItemId:"RedMeat",qta:2}]}},pa={CopperOre:{icon:D.Ore,id:"CopperOre",nameId:"Ore",materials:{primary:Xe.Copper},type:O.Ore,value:5},TinOre:{icon:D.Ore,id:"TinOre",nameId:"Ore",type:O.Ore,materials:{primary:Xe.Tin},value:10}},xa={CopperBar:{id:"CopperBar",icon:D.Bar,nameId:"Bar",type:O.Bar,value:10,materials:{primary:Xe.Copper},craftingData:{prestige:1.05,speedBonus:1.1,damage:{Bludgeoning:1,Piercing:1,Slashing:1},armour:{Bludgeoning:1,Piercing:1,Slashing:1}},craftingWoodAxeData:{damage:50,time:4e3},craftingPickaxeData:{damage:15,armourPen:0,time:4e3}},TinBar:{id:"TinBar",icon:D.Bar,nameId:"Bar",type:O.Bar,value:20,materials:{primary:Xe.Tin},craftingData:{prestige:1.1,speedBonus:1,damage:{Bludgeoning:1.2,Piercing:1.2,Slashing:1.2},armour:{Bludgeoning:1.2,Piercing:1.2,Slashing:1.2}},craftingWoodAxeData:{damage:60,time:4e3},craftingPickaxeData:{damage:20,armourPen:1,time:4e3}}},Ia={DeadTreeLog:{id:"DeadTreeLog",icon:D.Log,nameId:"Log",materials:{[jt]:Xe.DeadWood},type:O.Log,value:5},OakLog:{id:"OakLog",icon:D.Log,nameId:"Log",materials:{[jt]:Xe.Oak},type:O.Log,value:6},DeadTreePlank:{id:"DeadTreePlank",icon:D.Plank,nameId:"Plank",materials:{[jt]:Xe.DeadWood},type:O.Plank,value:10},OakPlank:{id:"OakPlank",icon:D.Plank,nameId:"Plank",materials:{[jt]:Xe.Oak},type:O.Plank,value:12},DeadTreeHandle:{id:"DeadTreeHandle",icon:D.Handle,nameId:"Handle",materials:{[jt]:Xe.DeadWood},type:O.Handle,value:15,craftingData:{prestige:1,speedBonus:1}},OakHandle:{id:"OakHandle",icon:D.Handle,nameId:"Handle",materials:{[jt]:Xe.Oak},type:O.Handle,value:20,craftingData:{prestige:1,speedBonus:1.1}}},Vt=Object.freeze({...Ia,...pa,...xa,...ha,...Am,..._m,...ga});Object.values(Vt);const Tm=Object.values(Vt).filter(n=>n.unlimited),ti=40,si=2500,Mm=.1,Pm=10,ba="C_",Ht=[],Em=10,Rm=(n,e=ie)=>t=>{const s=R.selectEx(t.characters,e).inventory[n];if(s)return s.itemId},Xi=(n,e)=>{if(e.itemId&&n.id!==e.itemId||e.nameId&&n.nameId!==e.nameId||e.equipSlot&&n.equipSlot!==e.equipSlot||e.itemType&&n.type!==e.itemType||e.itemSubType&&n.subType!==e.itemSubType)return!1;if(e.minStats)for(const t of Object.entries(e.minStats)){const s=t[0];if(n[s]===void 0||n[s]<t[1])return!1}if(e.has){for(const t of e.has)if(n[t]===void 0)return!1}for(const t of Object.entries(e)){if(t[0]==="minStats"||t[0]==="has")continue;const s=t[1];if(typeof s!="object")continue;const i=t[0],o=n[i];if(!o)return!1;if(typeof o=="object")for(const a of Object.entries(s)){const r=a[1];if(typeof r=="number"){const c=a[0],d=o[c];if(typeof d!="number")continue;if(d===void 0||d<r)return!1}else if(typeof r=="object"){const c=a[0],d=o[c];if(typeof d!="object")continue;if(d===void 0)return!1}}}return!0};Ge(n=>Object.entries(n).filter(e=>typeof e[1]=="object").sort((e,t)=>e[0].localeCompare(t[0])),{isDeepEqual:!0,maxSize:30});Ge(n=>Object.entries(n).filter(e=>typeof e[1]=="number").sort((e,t)=>e[0].localeCompare(t[0])),{isDeepEqual:!0,maxSize:30});const ja=Ge((n,e,t)=>{const s=t.fun[n??"getItemName"];return s?s(e):t.t[e.itemNameId]??e.itemNameId},{maxSize:100}),ya=Ge((n,e)=>({itemNameId:n,materials:e}),{maxSize:100}),W=n=>b.setState(e=>nc(e,n));function Lm(n,e){if(n===e)return!0;if(n===void 0||e===void 0)return!1;if("id"in n){const t={...n};delete t.id,n=t}if("id"in e){const t={...e};delete t.id,e=t}return Ro(n,e)}const Mn=[];function $m(n,e){n.gold=Math.max(0,n.gold+e)}function vt(n,e,t,s){if(Math.abs(t)<1e-5)return;s=s??n.location;const i=n.locations[s].storage,o=ht.select(i,e),a=Math.max(t+(o?.quantity??0),0);if(Math.abs(a)<Number.EPSILON){if(!o)return;for(const r of Mn)r(n,e,s);ht.remove(i,e)}else o?o.quantity=a:ht.upsertMerge(i,{itemId:e,quantity:a});ni(e)&&!Bm(n,e)&&Hm(n.craftedItems,e)}function ni(n){return n.startsWith(ba)}function Ks(n,e,t,s){vt(n,e,t*-1,s)}function Bm(n,e){if(R.find(n.characters,i=>!!Object.values(i.inventory).find(o=>o.itemId===e)))return!0;const s=Object.values(n.locations);for(const i of s)if(ht.select(i.storage,e)?.quantity??!1)return!0;return!1}const qm=(n,e)=>W(t=>{t.ui.selectedItemId=n??null,t.ui.selectedItemLocation=e}),va=(n,e)=>Bt.find(n,t=>Lm(t,e))?.id??null;function Om(n,e){const t=va(n,e);if(t)return{id:t};const s={...e,id:ba+He()};return Bt.create(n,s),{id:s.id}}function Hm(n,e){Bt.select(n,e)&&Bt.remove(n,e)}const Fm=n=>ht.getIds(n.locations[n.location].storage),zt=(n,e)=>ni(n)?Bt.select(e,n):Vt[n],Sa=we(n=>{const e=[],t=Object.entries(n.locations);for(const s of t)s[1].storage.ids.length>0&&e.push(s[0]);return e}),Wm=(n,e,t)=>{const s=[];for(const i of e){const o=zt(i.id,t);if(!o)continue;const a=ya(o.nameId,o.materials),r=ja(o.nameFunc,a,n);s.push({...i,name:r})}return s.sort((i,o)=>i.name.localeCompare(o.name))},Um=(n,e)=>{const t=[];for(const s of e){let i=0;i=n.entries[s.id]?.quantity??0,t.push({...s,qta:i})}return t.sort((s,i)=>s.qta-i.qta)},Qm=(n,e)=>{const t=[];for(const s of e){const i=zt(s.id,n);t.push({...s,value:i?.value??0})}return t.sort((s,i)=>s.value-i.value)},Gm=(n,e)=>{let t;const s=o=>ht.getIds(o.locations[n].storage).map(a=>({id:a})),i=o=>a=>{const r=o(a);return r.length===0?Ht:(a.ui.storageAsc||r.reverse(),r.map(c=>c.id))};if(e==="name")t=i(o=>Wm(ke(o),s(o),o.craftedItems));else if(e==="quantity")t=i(o=>Um(o.locations[n].storage,s(o)));else if(e==="value")t=i(o=>Qm(o.craftedItems,s(o)));else throw new Error(`Unknown storage order ${e}`);return t},Vm=n=>{const e=j.c(3),t=b(lm);let s;return e[0]!==n||e[1]!==t?(s=we(Gm(n,t)),e[0]=n,e[1]=t,e[2]=s):s=e[2],b(s)},Tt=(n,e)=>t=>!ni(e)&&Vt[e]?.unlimited?Number.POSITIVE_INFINITY:(n=n??t.location,t.locations[n].storage.entries[e]?.quantity??0),oe=n=>e=>zt(n,e.craftedItems),zm=n=>e=>e.ui.selectedItemLocation?!!(e.ui.selectedItemId&&e.ui.selectedItemId===n):!1,Km=n=>n.ui.selectedItemId,Ss=n=>{if(n.ui.selectedItemLocation&&n.ui.selectedItemId)return oe(n.ui.selectedItemId)(n)},ii=n=>!n.ui.selectedItemLocation||!n.ui.selectedItemId?0:Tt(n.ui.selectedItemLocation,n.ui.selectedItemId)(n),Ym=n=>n.ui.selectedItemLocation?n.ui.selectedItemLocation===n.location:!1,Xm=n=>e=>{if(!n)return Ht;const t=[];return ht.forEach(e.locations[e.location].storage,s=>{const i=zt(s.itemId,e.craftedItems);i&&i.type===n&&t.push(s.itemId)}),t.length===0?Ht:t},Zm=n=>{const e={};return Object.entries(n).sort().forEach(t=>{const s=t[0],i=t[1];e[s]={itemId:i.itemId}}),e},oi=(n,e)=>{if(!e)return Ht;const t=Fm(n),s=[];for(const i of t){const o=zt(i,n.craftedItems);o&&Xi(o,e)&&s.push(i)}return Tm.forEach(i=>{i.unlimited&&Xi(i,e)&&s.push(i.id)}),s},Jm=(n,e,t)=>{let s=0;const i=oi(n,t);for(const o of i)s+=n.locations[e].storage.entries[o]?.quantity??0;return s},ef=(n,e)=>oi(n,e).length;function Pn(n){let e;return(...s)=>{const i=n(...s);return ic(i,e)||(e=i),e}}const Ca=n=>{const e=n.healthPoints,t=[];return t.push({id:"baseHealth",add:100,iconId:D.Heart,nameId:"Base"}),e>=-9&&t.push({id:"basePoints",add:10*e,showQta:e,iconId:D.HeartPlus,nameId:"healthPoints"}),{bonuses:t,total:Se(t)}},tf=(n,e)=>{const t=R.selectEx(n.characters,e),s=Ca(t);return Be.findMany(n.effects,i=>i.effect===B.MaxHealth&&i.target===e&&i.value!==void 0&&i.value>0).forEach(i=>{s.bonuses.push({id:i.id,add:i.value||0,iconId:i.iconId,nameId:i.nameId})}),s.total=Se(s.bonuses),s},sf=(n,e)=>{const t=[];return t.push({id:"baseHealthRegen",add:.5,iconId:D.Heart,nameId:"Base"}),Be.findMany(n.effects,i=>i.effect===B.RegenHealth&&i.target!==void 0&&i.target===e&&i.value!==void 0&&i.value>0).forEach(i=>{t.push({id:i.id,add:i.value,iconId:i.iconId,nameId:i.nameId})}),Be.findMany(n.effects,i=>i.effect===B.DamageRegenHealth&&i.target!==void 0&&i.target===e&&i.value!==void 0&&i.value<0).forEach(i=>{t.push({id:i.id,add:i.value,iconId:i.iconId,nameId:i.nameId})}),{bonuses:t,total:Se(t)}},ai=n=>{const e=n.manaPoints,t=[];return t.push({id:"baseMana",add:100,iconId:D.MagicPalm,nameId:"Base"}),e>-9&&t.push({id:"basePoints",add:10*e,showQta:e,iconId:D.MagicPalm,nameId:"ManaPoints"}),{bonuses:t,total:Se(t)}},nf=(n,e)=>{const t=R.selectEx(n.characters,e),s=ai(t);return Be.findMany(n.effects,i=>i.effect===B.MaxMana&&i.target===e&&i.value!==void 0&&i.value>0).forEach(i=>{s.bonuses.push({id:i.id,add:i.value||0,iconId:i.iconId,nameId:i.nameId})}),s.total=Se(s.bonuses),s},of=(n,e)=>{const t=[];return t.push({id:"baseManaRegen",add:.5,iconId:D.Heart,nameId:"Base"}),Be.findMany(n.effects,i=>i.effect===B.RegenMana&&i.target===e&&i.value!==void 0&&i.value>0).forEach(i=>{t.push({id:i.id,add:i.value,iconId:i.iconId,nameId:i.nameId})}),Be.findMany(n.effects,i=>i.effect===B.DamageRegenMana&&i.target===e&&i.value!==void 0&&i.value<0).forEach(i=>{t.push({id:i.id,add:i.value,iconId:i.iconId,nameId:i.nameId})}),{bonuses:t,total:Se(t)}},af=n=>{const e=n.staminaPoints,t=[];return t.push({id:"baseStamina",add:100,iconId:D.Strong,nameId:"Base"}),e>-9&&t.push({id:"basePoints",add:10*e,showQta:e,iconId:D.Strong,nameId:"ManaPoints"}),{bonuses:t,total:Se(t)}},lf=(n,e)=>{const t=R.selectEx(n.characters,e),s=ai(t);return Be.findMany(n.effects,i=>i.effect===B.MaxStamina&&i.target===e&&i.value!==void 0&&i.value>0).forEach(i=>{s.bonuses.push({id:i.id,add:i.value||0,iconId:i.iconId,nameId:i.nameId})}),s.total=Se(s.bonuses),s},rf=(n,e)=>{const t=[];return t.push({id:"baseStaminaRegen",add:.5,iconId:D.Heart,nameId:"Base"}),Be.findMany(n.effects,i=>i.effect===B.RegenStamina&&i.target===e&&i.value!==void 0&&i.value>0).forEach(i=>{t.push({id:i.id,add:i.value,iconId:i.iconId,nameId:i.nameId})}),Be.findMany(n.effects,i=>i.effect===B.DamageRegenStamina&&i.target===e&&i.value!==void 0&&i.value<0).forEach(i=>{t.push({id:i.id,add:i.value,iconId:i.iconId,nameId:i.nameId})}),{bonuses:t,total:Se(t)}};var ge=(n=>(n.WoodAxe="WoodAxe",n.Pickaxe="Pickaxe",n.MainHand="MainHand",n.TwoHand="TwoHand",n.Body="Body",n))(ge||{});const cf=n=>{const e=T=>R.selectEx(T.characters,n),t=T=>e(T).templateId,s=T=>{const me=R.selectEx(T.characters,n);if(me.name)return me.name;const be=ke(T),ye=me.nameId;if(!ye)throw new Error("name not found");return be.t[ye]},i=T=>e(T).iconId,o=T=>e(T).level,a=T=>e(T).exp,r=T=>Yi(e(T).level),c=T=>Yi(e(T).level+1),d=T=>o(T),m=T=>{const me=e(T);return Math.floor(me.healthPoints+me.staminaPoints+me.manaPoints)},f=T=>d(T)-m(T),u=T=>e(T).healthPoints,g=T=>e(T).staminaPoints,h=T=>e(T).manaPoints,p=T=>e(T).health,x=T=>e(T).stamina,I=T=>e(T).mana,y=T=>tf(T,n),S=T=>nf(T,n),C=T=>lf(T,n),w=T=>y(T).total,N=T=>S(T).total,A=T=>C(T).total,_=T=>sf(T,n),P=T=>rf(T,n),E=T=>of(T,n),$=T=>_(T).total,M=T=>P(T).total,q=T=>E(T).total,F=(T,me)=>{const be=e(T).inventory[me];if(be)return oe(be.itemId)(T)},U=T=>F(T,ge.MainHand)??F(T,ge.TwoHand),K=T=>Zm(e(T).inventory),z=T=>{const me=K(T),be=T.craftedItems,ye={};return Object.entries(me).forEach(Ke=>{const it=Ke[0],bn=Ke[1],Nt=zt(bn.itemId,be);Nt&&(ye[it]=Nt)}),ye},V=T=>{const me=ye=>{const Ke=[],it=z(ye);return Object.entries(it).forEach(Nt=>{const jn=Nt[1];if(!jn.armourData)return;const yn=jn.armourData[T];yn&&yn!==0&&Ke.push(vs(jn,{add:yn}))}),{bonuses:Ke,total:Se(Ke)}};return{ArmourList:me,Armour:ye=>me(ye).total}},Y={Bludgeoning:V(Ae.Bludgeoning),Piercing:V(Ae.Piercing),Slashing:V(Ae.Slashing)},X=T=>{const me=ye=>{const Ke=[],it=U(ye);if(it&&it.weaponData){const Nt=it.weaponData.damage[T];Nt&&Ke.push({id:`w_${it.id}`,add:Nt,iconId:it.icon,nameId:it.nameId})}else Ke.push({id:"unharmed",add:30,iconId:D.Punch,nameId:"Unharmed"});return{bonuses:Ke,total:Se(Ke)}};return{DamageList:me,Damage:ye=>me(ye).total}},ne={Bludgeoning:X(Ae.Bludgeoning),Piercing:X(Ae.Piercing),Slashing:X(Ae.Slashing)},H=Pn(T=>{const me={};return Object.entries(ne).forEach(be=>{const ye=be[1].Damage(T);ye>0&&(me[be[0]]=ye)}),me}),De=T=>{const me=[],be=U(T);return be&&be.weaponData?me.push({id:`w_${be.id}`,add:be.weaponData.attackSpeed,iconId:be.icon,nameId:be.nameId}):me.push({id:"unharmed",add:5e3,iconId:D.Punch,nameId:"Unharmed"}),{bonuses:me,total:Se(me)}},xr=T=>De(T).total;return{TemplateId:t,Name:s,Icon:i,Level:o,Exp:a,AvailableAttributes:f,LevelExp:r,NextLevelExp:c,MaxAttributes:d,UsedAttributes:m,HealthPoints:u,StaminaPoint:g,ManaPoints:h,Health:p,Stamina:x,Mana:I,MaxHealth:w,MaxMana:N,MaxStamina:A,MaxHealthList:y,MaxManaList:S,MaxStaminaList:C,MaxHealthListMemo:we(y),MaxManaListMemo:we(S),MaxStaminaListMemo:we(C),HealthRegenList:_,StaminaRegenList:P,ManaRegenList:E,HealthRegen:$,StaminaRegen:M,ManaRegen:q,armour:Y,damage:ne,AllAttackDamage:H,AttackSpeedList:De,AttackSpeed:xr,EquippedItem:F,MainWeapon:U,AllCharInventory:z}},ee=n=>{let e=Dn.get(n);return e||(e=cf(n),Dn.set(n,e)),e},En=(n,e,t)=>{const s=typeof e=="string"?R.selectEx(n.characters,e):e,o=ee(s.id).MaxHealth(n);s.health=Math.min(s.health+t,o)},Rn=(n,e,t)=>{const s=typeof e=="string"?R.selectEx(n.characters,e):e,o=ee(s.id).MaxStamina(n);s.stamina=Math.min(s.stamina+t,o)},Ln=(n,e,t)=>{const s=typeof e=="string"?R.selectEx(n.characters,e):e,o=ee(s.id).MaxMana(n);s.mana=Math.min(s.mana+t,o)};function df(n,e){const t=R.getIds(n.characters);for(const s of t)mf(n,s,e)}function mf(n,e,t){const s=R.selectEx(n.characters,e),i=ee(e);En(n,s,i.HealthRegen(n)*t),Rn(n,s,i.StaminaRegen(n)*t),Ln(n,s,i.ManaRegen(n)*t)}class pt extends Map{getEx(e){const t=this.get(e);if(!t)throw new Error(`${JSON.stringify(e)} not found`);return t}}const Ft=new pt,ct=(n,e,t)=>{if(!e||!t)return null;const s=le.selectEx(n.quests,e);return _t.select(s.outcomeData,t)||null},$n=(n,e,t)=>{const s=ct(n,e,t);if(!s)throw new Error(`[selectOutcomeEx]: not found questId:${e} outcomeId:${t}`);return s},ff=(n,e,t)=>{const s=ct(n,e,t)?.reqItems;return s?s.map(i=>i.id):[]},li=(n,e,t,s)=>{const i=ct(n,e,t)?.reqItems;return i?i.find(o=>o.id===s):null};function uf(n,e,t){return!!ct(n,e,t)?.reqItems}const gf=(n,e,t,s,i)=>{const a=ct(n,e,t)?.reqItems?.find(r=>r.id===s);if(a){if(i===0)return a.selectedItem1;if(i===1)return a.selectedItem2;if(i===2)return a.selectedItem3}},hf=(n,e,t,s)=>{const i=ct(n,e,t);if(!i||!i.reqItems)return 0;const o=i.reqItems.find(a=>a.id===s);return o?Jm(n,i.location,o.itemFilter):0},pf={getDescription:(n,e)=>t=>ke(t).t.collectReqDesc,isCompleted:(n,e)=>t=>Object.values(ri(t,n,e).isReqCompleted).every(s=>s)},ri=(n,e,t)=>{const s=$n(n,e,t).reqItems,i=n.locations[$n(n,e,t).location].storage,o={isReqCompleted:{},usedItems:[]};if(!s)return o;const a={};for(const r of s){const c=oc([r.selectedItem1,r.selectedItem2,r.selectedItem3]).filter(m=>m!==void 0);let d=r.itemCount;for(const m of c){if(d<Number.EPSILON)continue;const f=(ht.select(i,m)?.quantity??0)-(a[m]??0);if(f<Number.EPSILON)continue;const u=Math.min(d,f);if(u<Number.EPSILON)continue;d-=u,a[m]=(a[m]??0)+u;const g=o.usedItems.find(h=>h.itemId===m);if(g)g.quantity+=u;else{const h={itemId:m,quantity:u};o.usedItems.push(h)}}o.isReqCompleted[r.id]=d<Number.EPSILON}return o},wa={getDescription:(n,e)=>t=>ke(t).t.KillRequestDesc,isCompleted:(n,e)=>t=>{const s=ct(t,n,e)?.targets;return s?s.every(i=>i.killedCount>=i.targetCount):!0}};function xf(n,e,t){return!!ct(n,e,t)?.targets}function If(n,e,t){return ct(n,e,t)?.targets}const bf=[wa,pf],Bn=n=>le.findManyIds(n.quests,e=>e.state===Me.ACCEPTED),qn=n=>le.findManyIds(n.quests,e=>e.state===Me.AVAILABLE),ka=n=>e=>n?Kt(e,n).getName(n)(e):"",jf=n=>e=>n?Kt(e,n).getDescription(n)(e):"",Na=n=>e=>n?Kt(e,n).getIcon(n)(e):D.Dagger,yf=n=>e=>e.ui.selectedQuestId===n,Ys=n=>n.ui.selectedQuestId,ci=n=>e=>n?le.selectEx(e.quests,n).state:Me.AVAILABLE,vf=n=>{const e=Ys(n);if(!e)return Ht;const t=le.selectEx(n.quests,e).outcomeData;return t?t.ids:Ht},Sf=(n,e)=>t=>{if(!n||!e)return"";const s=le.selectEx(t.quests,n);if(!_t.selectEx(s.outcomeData,e))return"";const o=s.templateId;return Ft.getEx(o).getOutcomeTitle(n,e)(t)},Cf=(n,e)=>t=>{if(!n||!e)return"";const s=le.selectEx(t.quests,n);if(!_t.selectEx(s.outcomeData,e))return"";const o=s.templateId;return Ft.getEx(o).getOutcomeDescription(n,e)(t)},Da=(n,e)=>t=>{const s=le.selectEx(t.quests,n);return s.state!==Me.ACCEPTED?!1:_t.selectEx(s.outcomeData,e)?bf.every(o=>o.isCompleted(n,e)(t)):!0};function Kt(n,e){const t=le.selectEx(n.quests,e);return Ft.getEx(t.templateId)}function wf(n,e,t){return Kt(n,e).getOutcomeGoldReward(e,t)(n)}function kf(n,e,t){return Kt(n,e).getOutcomeItemReward(e,t)(n)}const Nf=(n,e)=>le.selectEx(n.quests,e).expandedOutcome;function Df(n,e,t){const s=$n(n,e,t);if(!s.reqItems)return n;const i=ri(n,e,t);if(!i.isReqCompleted)return n;const o=s.location;for(const a of i.usedItems)Ks(n,a.itemId,a.quantity,o);return n}const Af=n=>W(e=>{e.ui.selectedQuestId=n});function On(n,e){return Ft.getEx(e).generateQuestData(n)}function _f(n){if(qn(n).length>Em)return;let e=0,t=0;for(const s of qn(n)){const i=le.selectEx(n.quests,s);i.templateId==="kill-n"&&e++,i.templateId==="SupplyQuest"&&t++}if(e<3){const s=On(n,"kill-n");le.create(n.quests,s)}if(t<3){const s=On(n,"SupplyQuest");le.create(n.quests,s)}}const Tf=(n,e)=>{const t=le.selectEx(n.quests,e);if(!t||t.state!==Me.AVAILABLE)return n;t.state=Me.ACCEPTED},Mf=n=>W(e=>Tf(e,n)),Pf=(n,e)=>{n&&W(t=>{le.selectEx(t.quests,n).expandedOutcome=e})},Ef=(n,e,t)=>{const s=le.selectEx(n.quests,e);if(!s||s.state!==Me.ACCEPTED)return;const i=Kt(n,e);if(!Da(e,t)(n))return;n=Df(n,e,t);const o=_t.selectEx(s.outcomeData,t);if(!o)return;if(o.itemsRewards)for(const r of o.itemsRewards)vt(n,r.itemId,r.quantity||1);o.goldReward&&$m(n,o.goldReward);const a=Bn(n).indexOf(e);if(le.remove(n.quests,e),i.nextQuestId){const r=On(n,i.nextQuestId);le.create(n.quests,r),n.ui.selectedQuestId=r.id}else{const r=Bn(n),c=r[Math.min(a,r.length-1)];n.ui.selectedQuestId=c??null}};function di(n,e){(!n.lastRegen||n.lastRegen<1)&&(n.lastRegen=e);const t=e-n.lastRegen;if(t<0)return;const s=Math.floor((t+300)/1e3);s<1||(n.lastRegen=n.lastRegen+s*1e3,df(n,s),_f(n))}function Aa(n,e){n.now+=e;for(const t of n.timers.ids){const s=n.timers.entries[t];s&&(s.from+=e,s.to+=e)}}function _a(n){return new Worker("/IdleCraft/assets/loadWorker-Csx8acKt.js",{name:n?.name})}const bt=new pt,hs=new pt,Et=new pt,Rt=new pt,Lt=new pt,xs=new pt;function Hn(n,e){const t=n.timers.entries[e];!t||(n.now=Math.max(n.now,t.to),Te.remove(n.timers,e),!t.actId)||(di(n,n.now),bt.getEx(t.type)(n,t))}function Hs(n,e){let t=Number.POSITIVE_INFINITY,s=null;return n.ids.forEach(o=>{const a=n.entries[o];a&&(a.to>e||a.to<t&&(t=a.to,s=a))}),s}function Rf(n){let t=Date.now();n.loading=!0;const s=Date.now()-n.now-An;s>0&&Aa(n,s);const i=n.now,o=Math.min(n.now+An,Date.now());let a=Hs(n.timers,o);for(;a;){Hn(n,a.id),n.now=a.to,a=Hs(n.timers,o);const r=Date.now();if(r-t>150){t=r;const c=Math.floor(100*(n.now-i)/(o-i)),d={loading:!0,start:i,now:n.now,end:o,percent:c};postMessage({state:n,loadingData:d})}}n.loading=!1}let bs=new _a,Fn;function Ta(){bs=new _a,bs.onmessage=n=>{n.data.loadingData?yt.setState({loadingData:n.data.loadingData}):n.data.state&&mi(n.data.state),n.data.state&&(Fn=n.data.state)}}Ta();function Ma(){bs&&bs.terminate(),Ta()}function mi(n){const e=Date.now()-n.now;e>0&&Aa(n,e),di(n,n.now),n.loading=!1,b.setState(structuredClone(n))}const Lf=n=>{const e=jm(n);e.loading=!0;let t=e.now;const s=Math.min(t+An,Date.now()),i={loading:!0,start:t,now:t,end:s,percent:0};yt.setState({loadingData:i}),b.setState(structuredClone(e)),s-t<ym?(Rf(e),mi(structuredClone(e))):bs.postMessage(e)},$f=()=>{Ma(),b.setState(ei())},Bf=()=>{Ma(),Fn&&mi(Fn)},qf="_container_1mzxn_1",Of="_btnContainer_1mzxn_17",Zi={container:qf,btnContainer:Of},Hf=n=>n.gameId,Pa=n=>n.loading,Ff=n=>n.loadingData?.percent??0,Wf=n=>n.loadingData?.start??0,Uf=n=>n.loadingData?.end??0,Qf=n=>n.loadingData?.now??0;function Gf(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(ac,{"data-slot":"label",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function Ea(n){const e=j.c(10);let t,s,i;e[0]!==n?({className:t,type:i,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==o||e[8]!==i?(a=l.jsx("input",{type:i,"data-slot":"input",className:o,...s}),e[6]=s,e[7]=o,e[8]=i,e[9]=a):a=e[9],a}function Yt(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(mc,{"data-slot":"dialog",...t}),e[2]=t,e[3]=s):s=e[3],s}function Ra(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(lc,{"data-slot":"dialog-trigger",...t}),e[2]=t,e[3]=s):s=e[3],s}function Vf(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(fc,{"data-slot":"dialog-portal",...t}),e[2]=t,e[3]=s):s=e[3],s}function zf(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-xs",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(hc,{"data-slot":"dialog-overlay",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function Xt(n){const e=j.c(12);let t,s,i;e[0]!==n?({className:s,children:t,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(zf,{}),e[4]=o):o=e[4];let a;e[5]!==s?(a=L("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),e[5]=s,e[6]=a):a=e[6];let r;e[7]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs(uc,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(gc,{}),l.jsx("span",{className:"sr-only",children:"Close"})]}),e[7]=r):r=e[7];let c;return e[8]!==t||e[9]!==i||e[10]!==a?(c=l.jsxs(Vf,{"data-slot":"dialog-portal",children:[o,l.jsxs(dc,{"data-slot":"dialog-content",className:a,...i,children:[t,r]})]}),e[8]=t,e[9]=i,e[10]=a,e[11]=c):c=e[11],c}function Cs(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex flex-col gap-2 text-center sm:text-left",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"dialog-header",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function La(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"dialog-footer",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function ws(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex gap-2 align-middle text-lg leading-none font-semibold",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(rc,{"data-slot":"dialog-title",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function Zt(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("text-muted-foreground text-sm",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(cc,{"data-slot":"dialog-description",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}const Kf=n=>()=>{n!==""&&b.setState(e=>{e=ei(),e.gameId=He();const t=e.characters.entries[ie];return t&&(t.name=n),e})},Yf=v.memo(function(){const{t:e}=k(),[t,s]=v.useState([]);return v.useEffect(()=>{const i=window.indexedDB.open("IdleCraft",1);i.onsuccess=()=>{const o=i.result;if(!o.objectStoreNames.contains("save"))return;const a=o.transaction("save","readonly"),r=a.objectStore("save"),c=[];a.oncomplete=()=>s(c);const d=r.getAll();d.onsuccess=()=>{d.result.forEach(f=>{if("gameId"in f&&"characters"in f)try{const u=f.characters?.entries[ie]?.name,g=f.gameId;u&&c.push({gameId:g,name:u,state:f})}catch(u){console.error(u)}})}}},[]),l.jsxs("div",{className:Zi.container,children:[l.jsx(Xf,{}),l.jsx(eu,{}),t.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-center",children:e.SavedGames}),l.jsx("div",{className:Zi.btnContainer,children:t.map(i=>l.jsx(Zf,{item:i,setLoadName:s},i.name))})]})]})}),Xf=v.memo(function(){const e=j.c(24),{t}=k(),[s,i]=v.useState("");let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=I=>i(I.target.value),e[0]=o):o=e[0];const a=o;let r;e[1]!==t.NewGame?(r=l.jsx(Ra,{asChild:!0,children:l.jsx(se,{variant:"secondary",children:t.NewGame})}),e[1]=t.NewGame,e[2]=r):r=e[2];let c;e[3]!==t.NewGame?(c=l.jsx(ws,{children:t.NewGame}),e[3]=t.NewGame,e[4]=c):c=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Zt,{}),e[5]=d):d=e[5];let m;e[6]!==t.Name?(m=l.jsx(Gf,{htmlFor:"name",children:t.Name}),e[6]=t.Name,e[7]=m):m=e[7];let f;e[8]!==s?(f=l.jsx(Ea,{id:"name",maxLength:10,value:s,onChange:a}),e[8]=s,e[9]=f):f=e[9];let u;e[10]!==s?(u=Kf(s),e[10]=s,e[11]=u):u=e[11];const g=s.length<1;let h;e[12]!==t.Start||e[13]!==u||e[14]!==g?(h=l.jsx("div",{children:l.jsx(se,{onClick:u,disabled:g,children:t.Start})}),e[12]=t.Start,e[13]=u,e[14]=g,e[15]=h):h=e[15];let p;e[16]!==c||e[17]!==m||e[18]!==f||e[19]!==h?(p=l.jsxs(Xt,{className:"sm:max-w-[425px]",children:[c,d,m,f,h]}),e[16]=c,e[17]=m,e[18]=f,e[19]=h,e[20]=p):p=e[20];let x;return e[21]!==r||e[22]!==p?(x=l.jsxs(Yt,{children:[r,p]}),e[21]=r,e[22]=p,e[23]=x):x=e[23],x}),Zf=v.memo(function(e){const t=j.c(41),{item:s,setLoadName:i}=e,{t:o}=k(),a=s.name;let r;t[0]!==s.state.gameId||t[1]!==a||t[2]!==i?(r=()=>{const P=window.indexedDB.open("IdleCraft",1);P.onsuccess=()=>{const E=P.result;if(!E.objectStoreNames.contains("save"))return;const q=E.transaction("save","readwrite").objectStore("save").delete(s.state.gameId);q.onsuccess=()=>i(F=>F.filter(U=>U.name!==a))}},t[0]=s.state.gameId,t[1]=a,t[2]=i,t[3]=r):r=t[3];const c=r,d=s.state;let m;t[4]!==d?(m=()=>Lf(d),t[4]=d,t[5]=m):m=t[5];const f=m;let u;t[6]!==s.name||t[7]!==f?(u=l.jsx(se,{onClick:f,children:s.name}),t[6]=s.name,t[7]=f,t[8]=u):u=t[8];let g;t[9]!==s.state.now?(g=l.jsx(Jf,{date:s.state.now}),t[9]=s.state.now,t[10]=g):g=t[10];let h;t[11]!==o.Ago||t[12]!==g?(h=l.jsxs("span",{className:"text-muted-foreground min-w-20 text-right text-sm",children:[g," ",o.Ago]}),t[11]=o.Ago,t[12]=g,t[13]=h):h=t[13];let p;t[14]!==o.Delete?(p=l.jsx(Im,{asChild:!0,children:l.jsx(se,{variant:"ghost",title:o.Delete,className:"text-muted-foreground",children:Jn})}),t[14]=o.Delete,t[15]=p):p=t[15];let x;t[16]!==o.deleteSaveTitle?(x=l.jsx(aa,{children:o.deleteSaveTitle}),t[16]=o.deleteSaveTitle,t[17]=x):x=t[17];let I;t[18]!==o.deleteSaveDesc?(I=l.jsx(la,{children:o.deleteSaveDesc}),t[18]=o.deleteSaveDesc,t[19]=I):I=t[19];let y;t[20]!==x||t[21]!==I?(y=l.jsxs(ia,{children:[x,I]}),t[20]=x,t[21]=I,t[22]=y):y=t[22];let S;t[23]!==o.cancel?(S=l.jsx(ca,{children:o.cancel}),t[23]=o.cancel,t[24]=S):S=t[24];let C;t[25]!==c||t[26]!==o.Delete?(C=l.jsx(ra,{onClick:c,children:o.Delete}),t[25]=c,t[26]=o.Delete,t[27]=C):C=t[27];let w;t[28]!==C||t[29]!==S?(w=l.jsxs(oa,{children:[S,C]}),t[28]=C,t[29]=S,t[30]=w):w=t[30];let N;t[31]!==w||t[32]!==y?(N=l.jsxs(na,{children:[y,w]}),t[31]=w,t[32]=y,t[33]=N):N=t[33];let A;t[34]!==N||t[35]!==p?(A=l.jsxs(xm,{children:[p,N]}),t[34]=N,t[35]=p,t[36]=A):A=t[36];let _;return t[37]!==A||t[38]!==u||t[39]!==h?(_=l.jsxs(l.Fragment,{children:[u,h,A]}),t[37]=A,t[38]=u,t[39]=h,t[40]=_):_=t[40],_}),Jf=v.memo(function(e){const t=j.c(8),{date:s}=e,{fun:i}=k();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=Date.now(),t[0]=o):o=t[0];const[a,r]=v.useState(o);let c,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const g=setInterval(()=>r(Date.now()),1e3);return()=>{clearInterval(g)}},d=[],t[1]=c,t[2]=d):(c=t[1],d=t[2]),v.useEffect(c,d);const m=1e3*Math.floor((a-s)/1e3);let f;t[3]!==i||t[4]!==m?(f=i.formatTime(m),t[3]=i,t[4]=m,t[5]=f):f=t[5];let u;return t[6]!==f?(u=l.jsx(l.Fragment,{children:f}),t[6]=f,t[7]=u):u=t[7],u}),eu=v.memo(function(){const e=j.c(14),{t}=k(),s=b(Pa);let i;e[0]!==t.Loading?(i=l.jsx(ws,{children:t.Loading}),e[0]=t.Loading,e[1]=i):i=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Zt,{}),e[2]=o):o=e[2];let a;e[3]!==i?(a=l.jsxs(Cs,{children:[i,o]}),e[3]=i,e[4]=a):a=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(tu,{}),e[5]=r):r=e[5];let c;e[6]!==t.StartNow?(c=l.jsx(La,{className:"sm:justify-start",children:l.jsx(se,{type:"button",variant:"destructive",onClick:Bf,children:t.StartNow})}),e[6]=t.StartNow,e[7]=c):c=e[7];let d;e[8]!==a||e[9]!==c?(d=l.jsxs(Xt,{children:[a,r,c]}),e[8]=a,e[9]=c,e[10]=d):d=e[10];let m;return e[11]!==s||e[12]!==d?(m=l.jsx(Yt,{open:s,onOpenChange:$f,children:d}),e[11]=s,e[12]=d,e[13]=m):m=e[13],m}),tu=v.memo(function(){const e=j.c(16),{fun:t}=k(),s=yt(Ff),i=yt(Wf),o=yt(Uf),a=yt(Qf),r=o-i,c=a-i;let d;e[0]!==c||e[1]!==t?(d=t.formatTimePrecise(c),e[0]=c,e[1]=t,e[2]=d):d=e[2];let m;e[3]!==d?(m=l.jsxs("span",{className:"inline-block min-w-24",children:[d," "]}),e[3]=d,e[4]=m):m=e[4];let f;e[5]!==t||e[6]!==r?(f=t.formatTimePrecise(r),e[5]=t,e[6]=r,e[7]=f):f=e[7];let u;e[8]!==m||e[9]!==f?(u=l.jsxs("span",{children:[m,"/"," ",f]}),e[8]=m,e[9]=f,e[10]=u):u=e[10];let g;e[11]!==s?(g=l.jsx(Ct,{value:s,color:"primary"}),e[11]=s,e[12]=g):g=e[12];let h;return e[13]!==u||e[14]!==g?(h=l.jsxs(l.Fragment,{children:[u,g]}),e[13]=u,e[14]=g,e[15]=h):h=e[15],h}),su=n=>n.notifications,nu=()=>b.setState(n=>({...n,notifications:[]}));function iu(){const n=j.c(4),e=b(su),{t}=k();let s,i;n[0]!==e||n[1]!==t?(s=()=>{if(!(e.length<1)){for(const o of e){const a={};let r=o.title;o.titleId&&(r=t[o.titleId]),o.descriptionId&&(a.description=t[o.descriptionId]),o.iconId&&(a.icon=te[o.iconId]),pc(r,a)}nu()}},i=[e,t],n[0]=e,n[1]=t,n[2]=s,n[3]=i):(s=n[2],i=n[3]),v.useEffect(s,i)}function ou(n,e){n.push(e)}var ue=(n=>(n[n.Started=0]="Started",n[n.NotPossible=1]="NotPossible",n[n.Ended=2]="Ended",n))(ue||{});function js(n,e){const t=re.selectEx(n.activities,e),s=hs.get(t.type);if(!s)throw new Error(`[makeExecActivity] remover not found ${t.type}`);s(n,e)}const Xs=n=>{n&&W(e=>js(e,n))};function Zs(n){if(n.orderedActivities.length<1)return;if(n.activityId){const i=re.select(n.activities,n.activityId);if(i===void 0)n.activityId=null;else if(i.max>n.activityDone){const o=n.activityId,r=Et.getEx(i.type)(n,o);if(r===ue.NotPossible&&js(n,o),r===ue.Started)return}}n.activityDone=0;const e=n.lastActivityDone;let t=e+1;function s(){const i=n.orderedActivities[t];if(!i)return!1;const o=re.select(n.activities,i);if(!o)return!1;const r=Et.getEx(o.type)(n,i);return r===ue.NotPossible&&js(n,i),r===ue.Started}for(t=e+1;t<n.orderedActivities.length;t++)if(s())return;for(t=0;t<=e;t++)if(s())return;n.activityId=null}const au=n=>W(e=>{const t=e.orderedActivities.indexOf(n);if(t<0)return;if(t>=e.orderedActivities.length-1)return e;const s=e.orderedActivities,i=s[t+1];i&&(s[t+1]=n,s[t]=i)}),lu=n=>W(e=>{const t=e.orderedActivities.indexOf(n);if(t<0||t<1)return;const s=e.orderedActivities,i=s[t-1];i&&(s[t-1]=n,s[t]=i)}),Js=(n,e,t)=>s=>{const i=He(),o={id:i,type:n,max:1,...e};re.create(s.activities,o),s.orderedActivities.push(i);const a=Rt.getEx(n)(s,i),r=Lt.getEx(n)(s,i);ou(s.notifications,{title:a,iconId:r}),s.orderedActivities.length===1&&Zs(s)},ru=n=>Js(Q.Woodcutting,{woodType:n}),cu=n=>W(e=>ru(n)(e));function $a(){return!document.hidden}function du(){const n=j.c(2),[e,t]=v.useState(mu);let s;n[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>t($a()),n[0]=s):s=n[0];const i=s;let o;return n[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>(document.addEventListener("visibilitychange",i,!1),()=>{document.removeEventListener("visibilitychange",i)}),n[1]=o):o=n[1],v.useEffect(o),e}function mu(){return $a()}const fu="_animate_12j2e_21",uu={animate:fu},gu=v.memo(function(e){const t=j.c(9),{className:s,start:i,end:o,color:a}=e,r=v.useRef(null);let c,d;t[0]!==o||t[1]!==i?(c=()=>{if(!r.current)return;const h=Date.now(),p=o?o-h:0,x=i&&o?`${-100+100*(h-i)/(o-i)}`:"-100";r.current.style.setProperty("--timer-progress",`${x}%`),r.current.style.setProperty("--timer-time",`${p}ms`)},d=[i,o],t[0]=o,t[1]=i,t[2]=c,t[3]=d):(c=t[2],d=t[3]),v.useLayoutEffect(c,d);const f=`theme progress__root ${s??""} ${a}`;let u;t[4]!==i?(u=i!==void 0&&l.jsx("div",{ref:r,className:`progress__bar ${uu.animate}`}),t[4]=i,t[5]=u):u=t[5];let g;return t[6]!==f||t[7]!==u?(g=l.jsx("div",{className:f,children:u}),t[6]=f,t[7]=u,t[8]=g):g=t[8],g}),Ba=v.memo(function(e){const t=j.c(10),{className:s,start:i,end:o,color:a}=e,r=du();let c;t[0]!==i?(c=i?.toString()??"",t[0]=i,t[1]=c):c=t[1];let d;t[2]!==o?(d=o?.toString()??"",t[2]=o,t[3]=d):d=t[3];const m=c+d+r.toString();let f;return t[4]!==s||t[5]!==a||t[6]!==o||t[7]!==m||t[8]!==i?(f=l.jsx(gu,{className:s,start:i,end:o,color:a},m),t[4]=s,t[5]=a,t[6]=o,t[7]=m,t[8]=i,t[9]=f):f=t[9],f}),fi=v.memo(function(e){const t=j.c(8),{className:s,actionId:i,color:o}=e;let a;t[0]!==i?(a=u=>i?Object.entries(u.timers.entries).find(g=>g[1].actId===i)?.[1]:null,t[0]=i,t[1]=a):a=t[1];const r=b(a),c=r?.from,d=r?.to,m=r?.id;let f;return t[2]!==s||t[3]!==o||t[4]!==c||t[5]!==d||t[6]!==m?(f=l.jsx(Ba,{className:s,start:c,end:d,color:o},m),t[2]=s,t[3]=o,t[4]=c,t[5]=d,t[6]=m,t[7]=f):f=t[7],f}),qa=v.memo(function(e){const t=j.c(8),{className:s,timerId:i,color:o}=e;let a;t[0]!==i?(a=f=>i!==void 0?f.timers.entries[i]:void 0,t[0]=i,t[1]=a):a=t[1];const r=b(a),c=r?.from,d=r?.to;let m;return t[2]!==s||t[3]!==o||t[4]!==c||t[5]!==d||t[6]!==i?(m=l.jsx(Ba,{className:s,start:c,end:d,color:o},i),t[2]=s,t[3]=o,t[4]=c,t[5]=d,t[6]=i,t[7]=m):m=t[7],m}),xt={[qt.DeadTree]:{maxHp:100,maxQta:30,iconId:D.DeadWood,nameId:"DeadTree",logId:"DeadTreeLog",plankId:"DeadTreePlank",handleId:"DeadTreeHandle",requiredLevel:0,color:"text-dead-tree-foreground"},[qt.Oak]:{maxHp:200,maxQta:20,iconId:D.Oak,nameId:"Oak",logId:"OakLog",plankId:"OakPlank",handleId:"OakHandle",requiredLevel:10,color:"text-oak-foreground"}},Jt=(n,e)=>{const t=xt[e];return{hp:t.maxHp,qta:t.maxQta}},Oa=(n,e)=>{const t=n.locations[n.location].forests[e];return t||Jt(n,e)},hu=()=>3*6e4,pu=(n,e)=>Oa(n,e).qta,xu=(n,e)=>{const t=[];for(const s of n.timers.ids){const i=n.timers.entries[s];if(i&&i.type===Q.Tree&&i.actId){const o=Ot.select(n.treeGrowth,i.actId);o&&o.location===n.location&&o.woodType===e&&t.push(i.id)}}return t},Iu=n=>Ge(we(e=>xu(e,n)),{maxSize:10}),bu=(n,e,t)=>Ot.count(n.treeGrowth,s=>s.woodType===e&&s.location===t);function ui(n){const e=j.c(7),{value:t,className:s,color:i}=n,[o,a]=v.useState(!1),r=v.useRef(100);let c,d;e[0]!==t?(c=()=>{let u=-1;return t===100&&t>r.current&&(a(!0),u=window.setTimeout(()=>{a(!1)},200)),r.current=t,()=>{u!==-1&&(a(!1),window.clearTimeout(u))}},d=[t],e[0]=t,e[1]=c,e[2]=d):(c=e[1],d=e[2]),v.useEffect(c,d);const m=o&&t===100?0:t;let f;return e[3]!==s||e[4]!==i||e[5]!==m?(f=l.jsx(Ct,{value:m,className:s,color:i}),e[3]=s,e[4]=i,e[5]=m,e[6]=f):f=e[6],f}const ju=Fs("bg-card text-card-foreground flex flex-col rounded-xl border py-3 shadow-sm",{variants:{gap:{default:"gap-3",sm:"gap-1"}},defaultVariants:{gap:"default"}});function ce(n){const e=j.c(10);let t,s,i;e[0]!==n?({className:t,gap:s,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t||e[5]!==s?(o=L(ju({gap:s}),t),e[4]=t,e[5]=s,e[6]=o):o=e[6];let a;return e[7]!==i||e[8]!==o?(a=l.jsx("div",{"data-slot":"card",className:o,...i}),e[7]=i,e[8]=o,e[9]=a):a=e[9],a}function es(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-3 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-3",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"card-header",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function et(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("grid grid-cols-[auto_1fr_auto] items-center gap-1.5 leading-none font-semibold [&_svg]:text-lg",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"card-title",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function de(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("container-type-inline-size px-3",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"card-content",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function ts(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex items-center px-3 [.border-t]:pt-3",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"card-footer",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}const pe=v.memo(function(e){const t=j.c(7),{title:s,icon:i,rightSlot:o,onClick:a}=e;let r;t[0]!==i?(r=i&&l.jsx("span",{className:"text-lg",children:i}),t[0]=i,t[1]=r):r=t[1];let c;return t[2]!==a||t[3]!==o||t[4]!==r||t[5]!==s?(c=l.jsx(es,{children:l.jsxs(et,{onClick:a,children:[r," ",s," ",o]})}),t[2]=a,t[3]=o,t[4]=r,t[5]=s,t[6]=c):c=t[6],c}),Ha={[ae.Mining]:{nameId:"MiningExp"},[ae.Woodcutting]:{nameId:"WoodcuttingExp"},[ae.Woodworking]:{nameId:"WoodworkingExp"},[ae.Smithing]:{nameId:"SmithingExp"},[ae.Archery]:{nameId:"Archery"},[ae.OneHanded]:{nameId:"OneHanded"},[ae.TwoHanded]:{nameId:"TwoHanded"},[ae.Block]:{nameId:"Block"},[ae.Butchering]:{nameId:"ButcheringExp"},[ae.Alchemy]:{nameId:"Alchemy"}},yu=Fs("inline-flex items-center justify-center rounded-md border px-2 py-0.5 font-medium w-fit whitespace-nowrap shrink-0 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"},size:{small:"text-xs [&>svg]:text-base [&>svg]:w-4 [&>svg]:h-4",base:"text-base [&>svg]:text-lg [&>svg]:w-5 [&>svg]:h-5"}},defaultVariants:{variant:"default",size:"small"}});function st(n){const e=j.c(14);let t,s,i,o,a;e[0]!==n?({className:t,variant:a,size:i,asChild:o,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o,e[5]=a):(t=e[1],s=e[2],i=e[3],o=e[4],a=e[5]);const c=(o===void 0?!1:o)?So:"span";let d;e[6]!==t||e[7]!==i||e[8]!==a?(d=L(yu({variant:a,size:i}),t),e[6]=t,e[7]=i,e[8]=a,e[9]=d):d=e[9];let m;return e[10]!==c||e[11]!==s||e[12]!==d?(m=l.jsx(c,{"data-slot":"badge",className:d,...s}),e[10]=c,e[11]=s,e[12]=d,e[13]=m):m=e[13],m}const Fa=v.memo(function(e){const t=j.c(5),{children:s,className:i}=e;let o;t[0]!==i?(o=L("flex flex-wrap gap-2",i),t[0]=i,t[1]=o):o=t[1];let a;return t[2]!==s||t[3]!==o?(a=l.jsx("span",{className:o,children:s}),t[2]=s,t[3]=o,t[4]=a):a=t[4],a}),Ie=v.memo(function(e){const t=j.c(5),{children:s,className:i}=e;let o;t[0]!==i?(o=L("grid grow basis-0 grid-flow-col items-center justify-start gap-1 text-sm",i),t[0]=i,t[1]=o):o=t[1];let a;return t[2]!==s||t[3]!==o?(a=l.jsx("span",{className:o,children:s}),t[2]=s,t[3]=o,t[4]=a):a=t[4],a}),en=v.memo(function(e){const t=j.c(18),{expType:s,charId:i}=e,{t:o}=k();let a;t[0]!==i||t[1]!==s?(a=fa(s,i),t[0]=i,t[1]=s,t[2]=a):a=t[2];const r=b(a);let c;t[3]!==i||t[4]!==s?(c=Sm(s,i),t[3]=i,t[4]=s,t[5]=c):c=t[5];const d=b(c);let m;t[6]!==i||t[7]!==s?(m=zs(s,i),t[6]=i,t[7]=s,t[8]=m):m=t[8];const f=b(m);let u;t[9]!==i||t[10]!==s?(u=Cm(s,i),t[9]=i,t[10]=s,t[11]=u):u=t[11];const g=b(u),h=Ha[s],p=o[h.nameId];let x;return t[12]!==r||t[13]!==f||t[14]!==g||t[15]!==p||t[16]!==d?(x=l.jsx(Wa,{title:p,level:r,xp:d,levelXp:f,nextLevelXp:g}),t[12]=r,t[13]=f,t[14]=g,t[15]=p,t[16]=d,t[17]=x):x=t[17],x}),Wa=v.memo(function(e){const t=j.c(27),{title:s,level:i,xp:o,nextLevelXp:a,levelXp:r}=e,{f:c}=G(),{t:d}=k(),m=Math.floor(100*(o-r)/(a-r));let f;t[0]!==c||t[1]!==i?(f=c(i),t[0]=c,t[1]=i,t[2]=f):f=t[2];let u;t[3]!==f?(u=l.jsx(st,{className:"w-min text-sm font-medium",children:f}),t[3]=f,t[4]=u):u=t[4];let g;t[5]!==u||t[6]!==s?(g=l.jsx(es,{children:l.jsxs(et,{className:"gap-y-0",children:[u,s]})}),t[5]=u,t[6]=s,t[7]=g):g=t[7];const h=d.XP;let p;t[8]!==c||t[9]!==o?(p=c(o),t[8]=c,t[9]=o,t[10]=p):p=t[10];let x;t[11]!==c||t[12]!==a?(x=c(a),t[11]=c,t[12]=a,t[13]=x):x=t[13];let I;t[14]!==d.XP||t[15]!==p||t[16]!==x?(I=l.jsxs(Ie,{className:"text-muted-foreground",children:[h," ",p," / ",x]}),t[14]=d.XP,t[15]=p,t[16]=x,t[17]=I):I=t[17];let y;t[18]!==m||t[19]!==s?(y=l.jsx(Ct,{value:m,color:"primary"},s),t[18]=m,t[19]=s,t[20]=y):y=t[20];let S;t[21]!==I||t[22]!==y?(S=l.jsxs(de,{children:[I,y]}),t[21]=I,t[22]=y,t[23]=S):S=t[23];let C;return t[24]!==g||t[25]!==S?(C=l.jsxs(ce,{gap:"sm",children:[g,S]}),t[24]=g,t[25]=S,t[26]=C):C=t[26],C}),vu={[ge.WoodAxe]:{ItemType:O.WoodAxe},[ge.Pickaxe]:{ItemType:O.Pickaxe},[ge.MainHand]:{ItemType:O.OneHand},[ge.TwoHand]:{ItemType:O.TwoHands},[ge.Body]:{ItemType:O.Body}};function Ua(n,e,t,s=null,i=1){let o=R.selectEx(n.characters,e);const a=o.inventory[t];a&&s&&vt(n,s,a.quantity??1),o=R.selectEx(n.characters,e),s?(o.inventory[t]={itemId:s,quantity:i},Ks(n,s,i)):delete o.inventory[t]}const Su=(n,e,t=null,s=1)=>W(i=>Ua(i,n,e,t,s)),Cu=(n,e)=>{if(ee(e).AvailableAttributes(n)<1)return;const s=ee(e),i=s.MaxHealth(n),o=R.selectEx(n.characters,e);o.healthPoints=o.healthPoints+1;const a=s.MaxHealth(n),r=Math.max(a-i,0);if(r>0){const c=Math.min(a,o.health+r);o.health=c}},wu=n=>W(e=>Cu(e,n)),ku=(n,e)=>{if(ee(e).AvailableAttributes(n)<1)return;const s=ee(e),i=s.MaxStamina(n),o=R.selectEx(n.characters,ie);o.staminaPoints=o.staminaPoints+1;const a=s.MaxStamina(n),r=Math.max(a-i,0);if(r>0){const c=Math.min(a,o.health+r);o.stamina=c}},Nu=n=>W(e=>ku(e,n)),Du=(n,e)=>{if(ee(e).AvailableAttributes(n)<1)return n;const s=ee(e),i=s.MaxMana(n),o=R.selectEx(n.characters,ie);o.manaPoints=o.manaPoints+1;const a=s.MaxMana(n),r=Math.max(a-i,0);if(r>0){const c=Math.min(a,o.health+r);o.mana=c}},Au=n=>W(e=>Du(e,n)),_u=(n,e,t)=>W(s=>Ua(s,t,n,e));function tn(n){return n.type===Q.Mining}const dt={[Dt.Copper]:{id:Dt.Copper,qta:20,iconId:D.Ore,nameId:"Ore",hp:100,armour:1,oreId:"CopperOre",barId:"CopperBar",requiredLevel:0},[Dt.Tin]:{id:Dt.Tin,qta:15,iconId:D.Ore,nameId:"Ore",hp:200,armour:2,oreId:"TinOre",barId:"TinBar",requiredLevel:10}},ks={damage:10,time:6e3,armourPen:0},Tu=n=>e=>e.ui.oreType===n,Mu=Ge(n=>{const e=dt[n];return{hp:e.hp,qta:e.qta}},{maxSize:15}),Ns=(n,e)=>Mu(e),Qa=(n,e)=>{const t=n.locations[n.location].ores[e];return t||Ns(n,e)},Ga=(n,e)=>re.find(n.activities,t=>tn(t)&&t.oreType===e)?.id,Va=n=>e=>zs(ae.Mining,ie)(e)>=dt[n].requiredLevel;function Ds(n){return n.type===Q.Woodcutting}const As={damage:10,time:6e3},za={nameId:"Base",iconId:D.Axe};function Ka(n){const e=R.selectEx(n.characters,ie).inventory[ge.WoodAxe];if(e)return oe(e.itemId)(n)}const Pu=n=>e=>{const t=zs(ae.Woodcutting,ie)(e),s=xt[n];return t>=s.requiredLevel},Eu=n=>{const e=n.ui.woodType,t=zs(ae.Woodcutting,ie)(n),s=xt[e];return t>=s.requiredLevel},Ya=(n,e)=>{for(const t of n.activities.ids){const s=n.activities.entries[t];if(s&&Ds(s)&&s?.woodType===e)return s.id}},gi=n=>{const e=j.c(6);let t,s;e[0]!==n?({shouldScaleBackground:s,...t}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);const i=s===void 0?!0:s;let o;return e[3]!==t||e[4]!==i?(o=l.jsx(tt.Root,{shouldScaleBackground:i,...t}),e[3]=t,e[4]=i,e[5]=o):o=e[5],o};gi.displayName="Drawer";const Ru=tt.Trigger,Lu=tt.Portal,$u=tt.Close,Xa=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("fixed inset-0 z-50 bg-black/80",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(tt.Overlay,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};Xa.displayName=tt.Overlay.displayName;const hi=n=>{const e=j.c(14);let t,s,i,o;e[0]!==n?({ref:o,className:s,children:t,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(Xa,{}),e[5]=a):a=e[5];let r;e[6]!==s?(r=L("bg-background fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border",s),e[6]=s,e[7]=r):r=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("div",{className:"bg-muted mx-auto mt-4 h-2 w-[100px] rounded-full"}),e[8]=c):c=e[8];let d;return e[9]!==t||e[10]!==i||e[11]!==o||e[12]!==r?(d=l.jsxs(Lu,{children:[a,l.jsxs(tt.Content,{ref:o,className:r,...i,children:[c,t]})]}),e[9]=t,e[10]=i,e[11]=o,e[12]=r,e[13]=d):d=e[13],d};hi.displayName="DrawerContent";const Za=n=>{const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("grid gap-1.5 p-4 text-center sm:text-left",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o};Za.displayName="DrawerHeader";const Ja=n=>{const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("mt-auto flex flex-col gap-2 p-4",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o};Ja.displayName="DrawerFooter";const el=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("text-lg leading-none font-semibold tracking-tight",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(tt.Title,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};el.displayName=tt.Title.displayName;const tl=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("text-muted-foreground text-sm",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(tt.Description,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};tl.displayName=tt.Description.displayName;const sl=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Oe,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};sl.displayName=Oe.displayName;const nl=n=>{const e=j.c(11);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(xc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e[4]=o):o=e[4];let a;e[5]!==t?(a=L("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50",t),e[5]=t,e[6]=a):a=e[6];let r;return e[7]!==s||e[8]!==i||e[9]!==a?(r=l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o,l.jsx(Oe.Input,{ref:i,className:a,...s})]}),e[7]=s,e[8]=i,e[9]=a,e[10]=r):r=e[10],r};nl.displayName=Oe.Input.displayName;const il=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("max-h-[300px] overflow-x-hidden overflow-y-auto",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Oe.List,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};il.displayName=Oe.List.displayName;const ol=n=>{const e=j.c(6);let t,s;e[0]!==n?({ref:s,...t}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;return e[3]!==t||e[4]!==s?(i=l.jsx(Oe.Empty,{ref:s,className:"py-6 text-center text-sm",...t}),e[3]=t,e[4]=s,e[5]=i):i=e[5],i};ol.displayName=Oe.Empty.displayName;const al=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Oe.Group,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};al.displayName=Oe.Group.displayName;Oe.Separator.displayName;const ll=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Oe.Item,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};ll.displayName=Oe.Item.displayName;function Bu(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(jc,{"data-slot":"popover",...t}),e[2]=t,e[3]=s):s=e[3],s}function qu(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(Ic,{"data-slot":"popover-trigger",...t}),e[2]=t,e[3]=s):s=e[3],s}function Ou(n){const e=j.c(12);let t,s,i,o;e[0]!==n?({className:t,align:i,sideOffset:o,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);const a=i===void 0?"center":i,r=o===void 0?4:o;let c;e[5]!==t?(c=L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),e[5]=t,e[6]=c):c=e[6];let d;return e[7]!==a||e[8]!==s||e[9]!==r||e[10]!==c?(d=l.jsx(Lo,{children:l.jsx(bc,{"data-slot":"popover-content",align:a,sideOffset:r,className:c,...s})}),e[7]=a,e[8]=s,e[9]=r,e[10]=c,e[11]=d):d=e[11],d}function Hu(n){const e=j.c(3),[t,s]=v.useState(!1);let i,o;return e[0]!==n?(i=()=>{const a=function(d){s(d.matches)},r=matchMedia(n);return r.addEventListener("change",a),s(r.matches),()=>r.removeEventListener("change",a)},o=[n],e[0]=n,e[1]=i,e[2]=o):(i=e[1],o=e[2]),v.useEffect(i,o),t}const rl=v.createContext(null),cl=v.createContext(null);function sn(n){const e=j.c(41),{children:t,triggerContent:s,selectedId:i,label:o}=n,[a,r]=v.useState(!1),c=Hu("(min-width: 768px)"),{t:d}=k(),[m,f]=$o(),{width:u}=f,g=v.useId();let h;e[0]!==d||e[1]!==s?(h=s||l.jsx("span",{className:"text-muted-foreground",children:d.selectPlaceholder}),e[0]=d,e[1]=s,e[2]=h):h=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(yc,{className:"ml-auto size-4 opacity-50"}),e[3]=p):p=e[3];let x;e[4]!==h?(x=l.jsxs(se,{variant:"outline",className:"w-full justify-start",children:[h,p]}),e[4]=h,e[5]=x):x=e[5];const I=x;let y;e[6]!==t?(y=l.jsx(Fu,{children:t}),e[6]=t,e[7]=y):y=e[7];let S;e[8]!==i||e[9]!==y?(S=l.jsx(rl,{value:r,children:l.jsx(cl,{value:i,children:y})}),e[8]=i,e[9]=y,e[10]=S):S=e[10];const C=S;let w;e[11]!==g||e[12]!==o?(w=o?l.jsx(vc,{htmlFor:g,className:"mb-1 block",children:o}):null,e[11]=g,e[12]=o,e[13]=w):w=e[13];const N=w;if(c){let $;e[14]!==g||e[15]!==I?($=l.jsx(qu,{asChild:!0,id:g,children:I}),e[14]=g,e[15]=I,e[16]=$):$=e[16];let M;e[17]!==u?(M={width:u},e[17]=u,e[18]=M):M=e[18];let q;e[19]!==C||e[20]!==M?(q=l.jsx(Ou,{style:M,className:"p-0",align:"start",children:C}),e[19]=C,e[20]=M,e[21]=q):q=e[21];let F;e[22]!==a||e[23]!==q||e[24]!==$?(F=l.jsxs(Bu,{open:a,onOpenChange:r,children:[$,q]}),e[22]=a,e[23]=q,e[24]=$,e[25]=F):F=e[25];let U;return e[26]!==N||e[27]!==m||e[28]!==F?(U=l.jsxs("div",{ref:m,children:[N,F]}),e[26]=N,e[27]=m,e[28]=F,e[29]=U):U=e[29],U}let A;e[30]!==I?(A=l.jsx(Ru,{asChild:!0,children:I}),e[30]=I,e[31]=A):A=e[31];let _;e[32]!==C?(_=l.jsx(hi,{children:l.jsx("div",{className:"mt-4 border-t",children:C})}),e[32]=C,e[33]=_):_=e[33];let P;e[34]!==a||e[35]!==A||e[36]!==_?(P=l.jsxs(gi,{open:a,onOpenChange:r,children:[A,_]}),e[34]=a,e[35]=A,e[36]=_,e[37]=P):P=e[37];let E;return e[38]!==N||e[39]!==P?(E=l.jsxs("div",{children:[N,P]}),e[38]=N,e[39]=P,e[40]=E):E=e[40],E}function Fu(n){const e=j.c(13),{children:t}=n,{t:s}=k(),o=(Array.isArray(t)?t.length:t?1:0)>1;let a;e[0]!==o||e[1]!==s.FilterDots?(a=o&&l.jsx(nl,{placeholder:s.FilterDots}),e[0]=o,e[1]=s.FilterDots,e[2]=a):a=e[2];let r;e[3]!==s.NoResults?(r=l.jsx(ol,{children:s.NoResults}),e[3]=s.NoResults,e[4]=r):r=e[4];let c;e[5]!==t?(c=l.jsx(al,{children:t}),e[5]=t,e[6]=c):c=e[6];let d;e[7]!==r||e[8]!==c?(d=l.jsxs(il,{children:[r,c]}),e[7]=r,e[8]=c,e[9]=d):d=e[9];let m;return e[10]!==a||e[11]!==d?(m=l.jsxs(sl,{children:[a,d]}),e[10]=a,e[11]=d,e[12]=m):m=e[12],m}const nn=n=>{const e=j.c(32);let t,s,i,o,a,r,c;e[0]!==n?({onSelect:a,children:s,className:i,icon:o,rightSlot:c,bottomSlot:t,...r}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o,e[5]=a,e[6]=r,e[7]=c):(t=e[1],s=e[2],i=e[3],o=e[4],a=e[5],r=e[6],c=e[7]);const d=v.use(rl),m=v.use(cl),f=m!==null&&r.value===m;let u;e[8]!==a||e[9]!==d?(u=()=>{a(),d&&d(!1)},e[8]=a,e[9]=d,e[10]=u):u=e[10];const g=u;let h;e[11]!==o?(h=o&&l.jsx("span",{className:"mr-2",children:o}),e[11]=o,e[12]=h):h=e[12];let p;e[13]!==t?(p=t&&l.jsx("div",{className:"text-muted-foreground mt-2 text-sm leading-none",children:t}),e[13]=t,e[14]=p):p=e[14];let x;e[15]!==s||e[16]!==p?(x=l.jsxs("div",{className:"flex flex-col",children:[s,p]}),e[15]=s,e[16]=p,e[17]=x):x=e[17];const I=!f;let y;e[18]!==I?(y=L("text-muted-foreground",{invisible:I}),e[18]=I,e[19]=y):y=e[19];let S;e[20]!==y?(S=l.jsx(Bo,{className:y}),e[20]=y,e[21]=S):S=e[21];let C;e[22]!==c||e[23]!==S?(C=l.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[c,S]}),e[22]=c,e[23]=S,e[24]=C):C=e[24];let w;return e[25]!==i||e[26]!==g||e[27]!==r||e[28]!==h||e[29]!==x||e[30]!==C?(w=l.jsxs(ll,{className:i,...r,onSelect:g,children:[h,x,C]}),e[25]=i,e[26]=g,e[27]=r,e[28]=h,e[29]=x,e[30]=C,e[31]=w):w=e[31],w},Wt={[Ae.Bludgeoning]:{ArmourName:"BludgeoningArmour",DamageName:"BludgeoningDamage"},[Ae.Piercing]:{ArmourName:"PiercingArmour",DamageName:"PiercingDamage"},[Ae.Slashing]:{ArmourName:"SlashingArmour",DamageName:"SlashingDamage"}},Ji=[{first:[B.Health,B.RegenHealth,B.MaxHealth],second:[B.DamageHealth,B.DamageRegenHealth]},{first:[B.Mana,B.RegenMana,B.MaxMana],second:[B.DamageMana,B.DamageRegenMana]},{first:[B.Stamina,B.RegenStamina,B.MaxStamina],second:[B.DamageStamina,B.DamageRegenStamina]}],pi={[B.Health]:{nameId1:"Restore",nameId2:"Health",instant:!0,descId:"RestoreHealth"},[B.RegenHealth]:{nameId1:"Restore",nameId2:"Health",instant:!1,descId:"RegenHealth"},[B.Mana]:{nameId1:"Restore",nameId2:"Mana",instant:!0,descId:"RestoreMana"},[B.RegenMana]:{nameId1:"Restore",nameId2:"Mana",instant:!1,descId:"RegenMana"},[B.Stamina]:{nameId1:"Restore",nameId2:"Stamina",instant:!0,descId:"RestoreStamina"},[B.RegenStamina]:{nameId1:"Restore",nameId2:"Stamina",instant:!1,descId:"RegenStamina"},[B.DamageHealth]:{nameId1:"Damage",nameId2:"Health",instant:!0,descId:"DamageHealth"},[B.DamageRegenHealth]:{nameId1:"Damage",nameId2:"Health",instant:!1,descId:"DamageRegenHealth"},[B.DamageMana]:{nameId1:"Damage",nameId2:"Mana",instant:!0,descId:"DamageMana"},[B.DamageRegenMana]:{nameId1:"Damage",nameId2:"Mana",instant:!1,descId:"DamageRegenMana"},[B.DamageStamina]:{nameId1:"Damage",nameId2:"Stamina",instant:!0,descId:"DamageStamina"},[B.DamageRegenStamina]:{nameId1:"Damage",nameId2:"Stamina",instant:!1,descId:"DamageRegenStamina"},[B.MaxHealth]:{nameId1:"IncreaseMaxHealthBy",nameId2:"IncreaseMaxHealthBy2",instant:!1,descId:"IncreaseMaxHealth"},[B.MaxMana]:{nameId1:"IncreaseMaxManaBy",nameId2:"IncreaseMaxManaBy2",instant:!1,descId:"IncreaseMaxMana"},[B.MaxStamina]:{nameId1:"IncreaseMaxManaBy",nameId2:"IncreaseMaxManaBy2",instant:!1,descId:"IncreaseMaxMana"}},Wu=n=>1,dl=(n,e,t)=>{if(!e.ingredientData)return!1;const s=Wu();{const i=e.ingredientData.effects.findIndex(o=>o.effect===t);if(i>=0&&i<s)return!0}return n.discoveredEffects[e.id]?.includes(t)??!1};function Uu(n,e,t){if(t.length<2)return;const s=pi[e];let i=0,o=0;return s.instant?i=t.reduce((a,r)=>{switch(r){case fe.Low:return a+10;case fe.Medium:return a+25;case fe.High:return a+50}},0):(i=t.reduce((a,r)=>{switch(r){case fe.Low:return a+1;case fe.Medium:return a+2;case fe.High:return a+3}},0),o=t.reduce((a,r)=>{switch(r){case fe.Low:return a+5*1e3;case fe.Medium:return a+15*1e3;case fe.High:return a+30*1e3}},0)),{effect:e,value:i,duration:o}}const xi=v.memo(function(e){const t=j.c(37),{item:s}=e,{f:i}=G(),{t:o}=k();let a;t[0]!==o.ItemType?(a=l.jsx("span",{className:"text-muted-foreground",children:o.ItemType}),t[0]=o.ItemType,t[1]=a):a=t[1];const r=o[s.type];let c;t[2]!==a||t[3]!==r?(c=l.jsxs("div",{children:[a," ",r]}),t[2]=a,t[3]=r,t[4]=c):c=t[4];let d;t[5]!==o.Value?(d=l.jsx("span",{className:"text-muted-foreground",children:o.Value}),t[5]=o.Value,t[6]=d):d=t[6];let m;t[7]!==i||t[8]!==s.value?(m=i(s.value),t[7]=i,t[8]=s.value,t[9]=m):m=t[9];let f;t[10]!==d||t[11]!==m?(f=l.jsxs("div",{children:[d," ",m]}),t[10]=d,t[11]=m,t[12]=f):f=t[12];let u;t[13]!==s.weaponData?(u=s.weaponData&&l.jsx(Qu,{weaponData:s.weaponData}),t[13]=s.weaponData,t[14]=u):u=t[14];let g;t[15]!==s.armourData?(g=s.armourData&&l.jsx(Gu,{armourData:s.armourData}),t[15]=s.armourData,t[16]=g):g=t[16];let h;t[17]!==s.craftingData?(h=s.craftingData&&l.jsx(Vu,{craftingData:s.craftingData}),t[17]=s.craftingData,t[18]=h):h=t[18];let p;t[19]!==s.woodAxeData?(p=s.woodAxeData&&l.jsx(ml,{woodAxeData:s.woodAxeData}),t[19]=s.woodAxeData,t[20]=p):p=t[20];let x;t[21]!==s.pickaxeData?(x=s.pickaxeData&&l.jsx(fl,{pickaxeData:s.pickaxeData}),t[21]=s.pickaxeData,t[22]=x):x=t[22];let I;t[23]!==s.potionData?(I=s.potionData&&l.jsx(ul,{potionData:s.potionData}),t[23]=s.potionData,t[24]=I):I=t[24];let y;t[25]!==s?(y=s.ingredientData&&l.jsx(zu,{item:s,ingredientData:s.ingredientData}),t[25]=s,t[26]=y):y=t[26];let S;return t[27]!==x||t[28]!==I||t[29]!==y||t[30]!==c||t[31]!==f||t[32]!==u||t[33]!==g||t[34]!==h||t[35]!==p?(S=l.jsxs("div",{children:[c,f,u,g,h,p,x,I,y]}),t[27]=x,t[28]=I,t[29]=y,t[30]=c,t[31]=f,t[32]=u,t[33]=g,t[34]=h,t[35]=p,t[36]=S):S=t[36],S}),Qu=v.memo(function(e){const t=j.c(13),{weaponData:s}=e,{f:i}=G(),{t:o,fun:a}=k(),r=o.AttackSpeed;let c;t[0]!==a||t[1]!==s.attackSpeed?(c=a.formatTime(s.attackSpeed),t[0]=a,t[1]=s.attackSpeed,t[2]=c):c=t[2];let d;t[3]!==o.AttackSpeed||t[4]!==c?(d=l.jsxs("div",{children:[r," ",c]}),t[3]=o.AttackSpeed,t[4]=c,t[5]=d):d=t[5];let m;t[6]!==i||t[7]!==o||t[8]!==s.damage?(m=Object.entries(s.damage).map(u=>l.jsxs("div",{children:[o[Wt[u[0]].DamageName]," ",i(u[1])]},u[0])),t[6]=i,t[7]=o,t[8]=s.damage,t[9]=m):m=t[9];let f;return t[10]!==d||t[11]!==m?(f=l.jsxs(l.Fragment,{children:[d,m]}),t[10]=d,t[11]=m,t[12]=f):f=t[12],f}),Gu=v.memo(function(e){const t=j.c(4),{armourData:s}=e,{f:i}=G(),{t:o}=k();let a;return t[0]!==s||t[1]!==i||t[2]!==o?(a=l.jsx(l.Fragment,{children:Object.entries(s).map(r=>l.jsxs("div",{children:[o[Wt[r[0]].ArmourName]," ",i(r[1])]},r[0]))}),t[0]=s,t[1]=i,t[2]=o,t[3]=a):a=t[3],a}),Vu=v.memo(function(e){const t=j.c(6),{craftingData:s}=e,{f:i}=G(),{fun:o}=k(),a=100*(s.prestige-1);let r;t[0]!==a||t[1]!==i||t[2]!==o?(r=o.prestigePercent(i(a)),t[0]=a,t[1]=i,t[2]=o,t[3]=r):r=t[3];let c;return t[4]!==r?(c=l.jsx("div",{children:r}),t[4]=r,t[5]=c):c=t[5],c}),ml=v.memo(function(e){const t=j.c(15),{woodAxeData:s}=e,{f:i}=G(),{t:o,fun:a}=k(),r=o.Damage;let c;t[0]!==i||t[1]!==s.damage?(c=i(s.damage),t[0]=i,t[1]=s.damage,t[2]=c):c=t[2];let d;t[3]!==o.Damage||t[4]!==c?(d=l.jsxs("div",{children:[r," ",c]}),t[3]=o.Damage,t[4]=c,t[5]=d):d=t[5];const m=o.AttackSpeed;let f;t[6]!==a||t[7]!==s.time?(f=a.formatTime(s.time),t[6]=a,t[7]=s.time,t[8]=f):f=t[8];let u;t[9]!==o.AttackSpeed||t[10]!==f?(u=l.jsxs("div",{children:[m," ",f]}),t[9]=o.AttackSpeed,t[10]=f,t[11]=u):u=t[11];let g;return t[12]!==d||t[13]!==u?(g=l.jsxs(l.Fragment,{children:[d,u]}),t[12]=d,t[13]=u,t[14]=g):g=t[14],g}),fl=v.memo(function(e){const t=j.c(22),{pickaxeData:s}=e,{f:i}=G(),{t:o,fun:a}=k(),r=o.Damage;let c;t[0]!==i||t[1]!==s.damage?(c=i(s.damage),t[0]=i,t[1]=s.damage,t[2]=c):c=t[2];let d;t[3]!==o.Damage||t[4]!==c?(d=l.jsxs("div",{children:[r," ",c]}),t[3]=o.Damage,t[4]=c,t[5]=d):d=t[5];const m=o.AttackSpeed;let f;t[6]!==a||t[7]!==s.time?(f=a.formatTime(s.time),t[6]=a,t[7]=s.time,t[8]=f):f=t[8];let u;t[9]!==o.AttackSpeed||t[10]!==f?(u=l.jsxs("div",{children:[m," ",f]}),t[9]=o.AttackSpeed,t[10]=f,t[11]=u):u=t[11];const g=o.ArmourPen;let h;t[12]!==i||t[13]!==s.armourPen?(h=i(s.armourPen),t[12]=i,t[13]=s.armourPen,t[14]=h):h=t[14];let p;t[15]!==o.ArmourPen||t[16]!==h?(p=l.jsxs("div",{children:[g," ",h]}),t[15]=o.ArmourPen,t[16]=h,t[17]=p):p=t[17];let x;return t[18]!==d||t[19]!==u||t[20]!==p?(x=l.jsxs(l.Fragment,{children:[d,u,p]}),t[18]=d,t[19]=u,t[20]=p,t[21]=x):x=t[21],x}),ul=v.memo(function(e){const t=j.c(11),{potionData:s}=e,{f:i}=G(),{t:o,fun:a}=k();let r;if(t[0]!==i||t[1]!==a||t[2]!==s.effects||t[3]!==o){let d;t[5]!==i||t[6]!==a||t[7]!==o?(d=m=>{const f=pi[m.effect];return l.jsxs("div",{children:[l.jsxs("span",{className:"text-muted-foreground",children:[o[f.nameId1]," "]}),i(m.value),l.jsxs("span",{className:"text-muted-foreground",children:[" ",o[f.nameId2]," "]}),!f.instant&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted-foreground",children:o[f.nameId3??"PerSecFor"]})," ",a.formatTime(m.duration)]})]},m.effect)},t[5]=i,t[6]=a,t[7]=o,t[8]=d):d=t[8],r=s.effects.map(d),t[0]=i,t[1]=a,t[2]=s.effects,t[3]=o,t[4]=r}else r=t[4];let c;return t[9]!==r?(c=l.jsx(l.Fragment,{children:r}),t[9]=r,t[10]=c):c=t[10],c}),zu=v.memo(function(e){const t=j.c(10),{ingredientData:s,item:i}=e,{t:o}=k();let a;t[0]!==o.AlchemyIngredient?(a=l.jsx("span",{className:"text-muted-foreground",children:o.AlchemyIngredient}),t[0]=o.AlchemyIngredient,t[1]=a):a=t[1];let r;if(t[2]!==s.effects||t[3]!==i){let d;t[5]!==i?(d=m=>l.jsx("div",{children:l.jsx(Ku,{item:i,ingredientEffect:m})},m.effect),t[5]=i,t[6]=d):d=t[6],r=s.effects.map(d),t[2]=s.effects,t[3]=i,t[4]=r}else r=t[4];let c;return t[7]!==a||t[8]!==r?(c=l.jsxs("div",{children:[a,r]}),t[7]=a,t[8]=r,t[9]=c):c=t[9],c}),Ku=v.memo(function(e){const t=j.c(8),{ingredientEffect:s,item:i}=e,{t:o}=k(),a=pi[s.effect];let r;if(t[0]!==s.effect||t[1]!==i?(r=f=>dl(f,i,s.effect),t[0]=s.effect,t[1]=i,t[2]=r):r=t[2],!b(r)){let f;return t[3]!==o.UnknownProperty?(f=l.jsx("span",{className:"text-muted-foreground",children:o.UnknownProperty}),t[3]=o.UnknownProperty,t[4]=f):f=t[4],f}const d=o[a.descId];let m;return t[5]!==s.potency||t[6]!==d?(m=l.jsxs("span",{children:[s.potency," ",d]}),t[5]=s.potency,t[6]=d,t[7]=m):m=t[7],m}),Yu=l.jsx(qo,{}),Ii=v.memo(function(e){const t=j.c(32),{slot:s}=e,i=e.charId??ie,{t:o}=k(),a=vu[s];let r;t[0]!==i||t[1]!==s?(r=_=>ee(i).EquippedItem(_,s),t[0]=i,t[1]=s,t[2]=r):r=t[2];const c=b(r);let d;t[3]!==i||t[4]!==s?(d=_=>Rm(s,i)(_),t[3]=i,t[4]=s,t[5]=d):d=t[5];const m=b(d);let f;t[6]!==a.ItemType?(f=_=>Xm(a.ItemType)(_),t[6]=a.ItemType,t[7]=f):f=t[7];const u=b(St(f));let g=o.None,h=Yu;c&&(g=o[c.nameId],h=te[c.icon]);const p=o[a.ItemType];let x;t[8]!==p?(x=l.jsx(pe,{title:p}),t[8]=p,t[9]=x):x=t[9];const I=m??"-";let y;t[10]!==h||t[11]!==g?(y=l.jsxs("span",{className:"grid grid-flow-col items-center gap-2",children:[h,g]}),t[10]=h,t[11]=g,t[12]=y):y=t[12];let S;t[13]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(qo,{}),t[13]=S):S=t[13];let C;t[14]!==i||t[15]!==s?(C=l.jsx(eo,{itemId:"-",slot:s,charId:i,defIcon:S}),t[14]=i,t[15]=s,t[16]=C):C=t[16];let w;if(t[17]!==i||t[18]!==u||t[19]!==s){let _;t[21]!==i||t[22]!==s?(_=P=>l.jsx(v.Fragment,{children:l.jsx(eo,{itemId:P,slot:s,charId:i})},P),t[21]=i,t[22]=s,t[23]=_):_=t[23],w=u.map(_),t[17]=i,t[18]=u,t[19]=s,t[20]=w}else w=t[20];let N;t[24]!==I||t[25]!==y||t[26]!==C||t[27]!==w?(N=l.jsx(de,{children:l.jsxs(sn,{selectedId:I,triggerContent:y,children:[C,w]})}),t[24]=I,t[25]=y,t[26]=C,t[27]=w,t[28]=N):N=t[28];let A;return t[29]!==N||t[30]!==x?(A=l.jsxs(ce,{gap:"sm",children:[x,N]}),t[29]=N,t[30]=x,t[31]=A):A=t[31],A}),eo=v.memo(function(e){const t=j.c(20),{itemId:s,slot:i,charId:o,defIcon:a}=e;let r;t[0]!==s?(r=oe(s),t[0]=s,t[1]=r):r=t[1];const c=b(r),{t:d}=k(),m=c?d[c.nameId]:d.None;let f;c?c&&(f=te[c.icon]):f=a;let u;t[2]!==o||t[3]!==s||t[4]!==i?(u=()=>_u(i,s,o),t[2]=o,t[3]=s,t[4]=i,t[5]=u):u=t[5];const g=u;let h;t[6]!==f?(h=l.jsx("span",{className:"text-2xl",children:f}),t[6]=f,t[7]=h):h=t[7];let p;t[8]!==c||t[9]!==i||t[10]!==m?(p=l.jsx(Xu,{name:m,slot:i,item:c}),t[8]=c,t[9]=i,t[10]=m,t[11]=p):p=t[11];let x;t[12]!==m?(x=l.jsx("span",{className:"leading-none font-medium",children:m}),t[12]=m,t[13]=x):x=t[13];let I;return t[14]!==g||t[15]!==s||t[16]!==h||t[17]!==p||t[18]!==x?(I=l.jsx(nn,{value:s,icon:h,onSelect:g,bottomSlot:p,children:x}),t[14]=g,t[15]=s,t[16]=h,t[17]=p,t[18]=x,t[19]=I):I=t[19],I}),Xu=v.memo(function(e){const t=j.c(9),{slot:s,item:i}=e;let o;t[0]!==i?.woodAxeData||t[1]!==s?(o=s===ge.WoodAxe&&l.jsx(ml,{woodAxeData:i?.woodAxeData??As}),t[0]=i?.woodAxeData,t[1]=s,t[2]=o):o=t[2];let a;t[3]!==i?.pickaxeData||t[4]!==s?(a=s===ge.Pickaxe&&l.jsx(fl,{pickaxeData:i?.pickaxeData??ks}),t[3]=i?.pickaxeData,t[4]=s,t[5]=a):a=t[5];let r;return t[6]!==o||t[7]!==a?(r=l.jsxs("div",{className:"flex max-w-md flex-wrap gap-2 leading-none",children:[o,a]}),t[6]=o,t[7]=a,t[8]=r):r=t[8],r});function bi(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("w-full caption-bottom text-sm",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:i,...s})}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function Zu(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("[&_tr]:border-b",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("thead",{"data-slot":"table-header",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function ji(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("[&_tr:last-child]:border-0",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("tbody",{"data-slot":"table-body",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function Ut(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("tr",{"data-slot":"table-row",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function on(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("th",{"data-slot":"table-head",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function Re(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("td",{"data-slot":"table-cell",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}const Ju=v.memo(function(e){const t=j.c(22),{selectBonusResult:s,isTime:i}=e,{f:o}=G(),{t:a,fun:r}=k(),c=i?r.formatTime:o;let d;e:{if(typeof s=="function"){let S;t[0]!==s?(S=we(s),t[0]=s,t[1]=S):S=t[1],d=S;break e}let y;t[2]!==s?(y=()=>s,t[2]=s,t[3]=y):y=t[3],d=y}const f=b(d);let u;if(t[4]!==f.bonuses||t[5]!==i){let y;t[7]!==i?(y=S=>l.jsx(e1,{bonus:S,isTime:i},S.id),t[7]=i,t[8]=y):y=t[8],u=f.bonuses.map(y),t[4]=f.bonuses,t[5]=i,t[6]=u}else u=t[6];let g;t[9]!==a.Total?(g=l.jsx(Re,{colSpan:2,className:"w-[100px]",children:a.Total}),t[9]=a.Total,t[10]=g):g=t[10];let h;t[11]!==f.total||t[12]!==c?(h=c(f.total),t[11]=f.total,t[12]=c,t[13]=h):h=t[13];let p;t[14]!==h?(p=l.jsx(Re,{className:"text-right",children:h}),t[14]=h,t[15]=p):p=t[15];let x;t[16]!==g||t[17]!==p?(x=l.jsxs(Ut,{children:[g,p]}),t[16]=g,t[17]=p,t[18]=x):x=t[18];let I;return t[19]!==u||t[20]!==x?(I=l.jsx(bi,{children:l.jsxs(ji,{children:[u,x]})}),t[19]=u,t[20]=x,t[21]=I):I=t[21],I}),e1=v.memo(function(e){const t=j.c(22),{bonus:s,isTime:i}=e,{t:o,fun:a}=k(),{f:r}=G(),c=i?a.formatTime:r,d=te[s.iconId];let m;t[0]!==d?(m=l.jsx(Re,{className:"w-[30px] text-lg",children:d}),t[0]=d,t[1]=m):m=t[1];const f=o[s.nameId];let u;t[2]!==s.showQta||t[3]!==r?(u=s.showQta&&` X ${r(s.showQta)}`,t[2]=s.showQta,t[3]=r,t[4]=u):u=t[4];let g;t[5]!==f||t[6]!==u?(g=l.jsxs(Re,{className:"text-left",children:[f," ",u]}),t[5]=f,t[6]=u,t[7]=g):g=t[7];let h;t[8]!==s.add||t[9]!==c?(h=s.add&&`${c(s.add)}`,t[8]=s.add,t[9]=c,t[10]=h):h=t[10];const p=s.multi&&s.multi>0&&"+";let x;t[11]!==s.multi||t[12]!==r?(x=s.multi&&`${r(s.multi)}%`,t[11]=s.multi,t[12]=r,t[13]=x):x=t[13];let I;t[14]!==h||t[15]!==p||t[16]!==x?(I=l.jsxs(Re,{className:"text-right",children:[h,p,x]}),t[14]=h,t[15]=p,t[16]=x,t[17]=I):I=t[17];let y;return t[18]!==m||t[19]!==g||t[20]!==I?(y=l.jsxs(Ut,{children:[m,g,I]}),t[18]=m,t[19]=g,t[20]=I,t[21]=y):y=t[21],y}),Pe=v.memo(function(e){const t=j.c(17),{selectBonusResult:s,title:i,isTime:o}=e,{t:a}=k(),[r,c]=v.useState(!1);let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Oo,{size:18}),t[0]=d):d=t[0];let m;t[1]!==a.Info?(m=l.jsx(Ra,{asChild:!0,children:l.jsx("button",{title:a.Info,className:"text-muted-foreground cursor-pointer",type:"button",children:d})}),t[1]=a.Info,t[2]=m):m=t[2];let f;t[3]!==i?(f=l.jsx(Cs,{children:l.jsx(ws,{children:i})}),t[3]=i,t[4]=f):f=t[4];let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Zt,{}),t[5]=u):u=t[5];let g;t[6]!==o||t[7]!==r||t[8]!==s?(g=r&&l.jsx(Ju,{selectBonusResult:s,isTime:o}),t[6]=o,t[7]=r,t[8]=s,t[9]=g):g=t[9];let h;t[10]!==f||t[11]!==g?(h=l.jsxs(Xt,{children:[f,u,g]}),t[10]=f,t[11]=g,t[12]=h):h=t[12];let p;return t[13]!==r||t[14]!==m||t[15]!==h?(p=l.jsxs(Yt,{open:r,onOpenChange:c,children:[m,h]}),t[13]=r,t[14]=m,t[15]=h,t[16]=p):p=t[16],p}),_e=v.memo(function(e){const t=j.c(13);let s,i,o,a;if(t[0]!==e){const{ref:d,...m}=e,{children:f,className:u}=m;s=f,t[5]===Symbol.for("react.memo_cache_sentinel")?(a=Le("page__container"),t[5]=a):a=t[5],i=d,o=Le("p-4",u),t[0]=e,t[1]=s,t[2]=i,t[3]=o,t[4]=a}else s=t[1],i=t[2],o=t[3],a=t[4];let r;t[6]!==s||t[7]!==i||t[8]!==o?(r=l.jsx("div",{ref:i,className:o,children:s}),t[6]=s,t[7]=i,t[8]=o,t[9]=r):r=t[9];let c;return t[10]!==a||t[11]!==r?(c=l.jsx("main",{className:a,children:r}),t[10]=a,t[11]=r,t[12]=c):c=t[12],c}),ss=v.memo(function(e){const t=j.c(13),{children:s,sidebar:i,info:o,header:a}=e;let r;t[0]!==a?(r=a&&l.jsx("div",{className:"page__header",children:a}),t[0]=a,t[1]=r):r=t[1];let c;t[2]!==o?(c=o&&l.jsx("div",{className:"page__info-side",children:o}),t[2]=o,t[3]=c):c=t[3];let d;t[4]!==i?(d=i&&l.jsx("div",{className:"page__sidebar",children:i}),t[4]=i,t[5]=d):d=t[5];let m;t[6]!==s?(m=l.jsx("div",{className:"page__main2",children:s}),t[6]=s,t[7]=m):m=t[7];let f;return t[8]!==r||t[9]!==c||t[10]!==d||t[11]!==m?(f=l.jsx("div",{className:"page__container-sidebar",children:l.jsxs("div",{className:"page__all",children:[r,c,d,m]})}),t[8]=r,t[9]=c,t[10]=d,t[11]=m,t[12]=f):f=t[12],f}),t1={id:"base",add:As.damage,...za},gl=n=>{const e=Ka(n),t={total:As.damage,bonuses:[]};return e&&e.woodAxeData?t.bonuses.push(vs(e,{add:e.woodAxeData.damage})):t.bonuses.push(t1),t.total=Se(t.bonuses),t},hl=n=>gl(n).total,pl=n=>n.characters.entries[n.ui.selectedCharId]?.selectedPerk,s1=n=>e=>pl(e)===n,n1=(n,e)=>(e[n]??0)>0,an=(n,e=ie)=>t=>(t.characters.entries[e]?.perks[n]??0)>0,yi=(n,e)=>{const t=R.selectEx(n.characters,Ne(n)).perks,s=wm(n,Ne(n)),i=wt[e];return!(i.requiredExp?.some(o=>o.level>(s[o.skill]??0))||i.requiredPerks?.some(o=>!n1(o,t)))},vi=(n=ie)=>e=>km(e,n),Si=(n=ie)=>e=>Object.values(R.selectEx(e.characters,n).perks).reduce((t,s)=>t+s,0),i1=(n=ie)=>e=>vi(n)(e)-Si(n)(e)>0,o1=(n,e=ie)=>t=>{const s=wt[n];return(R.selectEx(t.characters,e).perks[n]??0)>=(s.max??1)},to=Object.values(Fe),a1=n=>{const e=R.selectEx(n.characters,Ne(n)).perks,t=n.ui.showAvailablePerks,s=n.ui.showUnavailablePerks,i=n.ui.showOwnedPerks;return t&&s&&i?to:!t&&!s&&!i?[]:to.filter(o=>{const a=wt[o],r=(e[o]??0)>=(a.max??1);if(i&&r)return!0;const c=yi(n,o);return!!(t&&c&&!r||s&&!c)})},l1=we(a1),r1={id:"base",add:As.time,...za},c1=ua(Fe.FAST_WOODCUTTING,{multi:-1*Yo}),xl=n=>{const e=Ka(n),t=an(Fe.FAST_WOODCUTTING)(n),s={total:As.time,bonuses:[]};return e&&e.woodAxeData?s.bonuses.push(vs(e,{add:e.woodAxeData.time})):s.bonuses.push(r1),t&&s.bonuses.push(c1),s.total=Se(s.bonuses),s},Ci=n=>xl(n).total,d1=Fs("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",primary:"border-primary/50 text-primary dark:border-primary [&>svg]:text-primary bg-primary/5",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",warning:"text-warning bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-warning/90",success:"text-success bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-success/90",info:"text-info bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-info/90"}},defaultVariants:{variant:"default"}});function Ze(n){const e=j.c(10);let t,s,i;e[0]!==n?({className:t,variant:i,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t||e[5]!==i?(o=L(d1({variant:i}),t),e[4]=t,e[5]=i,e[6]=o):o=e[6];let a;return e[7]!==s||e[8]!==o?(a=l.jsx("div",{"data-slot":"alert",role:"alert",className:o,...s}),e[7]=s,e[8]=o,e[9]=a):a=e[9],a}function ot(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"alert-title",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function gt(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx("div",{"data-slot":"alert-description",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}const wi=v.memo(function(e){const t=j.c(3),{icon:s,className:i}=e,o=te[s];let a;return t[0]!==i||t[1]!==o?(a=l.jsx("span",{className:i,children:o}),t[0]=i,t[1]=o,t[2]=a):a=t[2],a}),xe=new pt;function Il(n,e){if(n.recipeId===e)return;n.recipeId=e??"",n.craftingForm={paramsValue:[],params:[],result:void 0};const t=xe.get(n.recipeId);if(!t)return;const s=t.getParameters(n),i=t.getResult(n,[]);n.craftingForm={paramsValue:[],params:s,result:i}}const m1=n=>W(e=>Il(e,n)),bl=(n,e,t)=>{const s=n.craftingForm.paramsValue.filter(r=>r.id!==e),i={id:e,itemId:t};s.push(i);const a=xe.getEx(n.recipeId).getResult(n,s);n.craftingForm.paramsValue=s,n.craftingForm.result=a},f1=(n,e)=>W(t=>bl(t,n,e)),u1=(n,e,t)=>{if(n.location!==t)return;let s=n.craftingForm.paramsValue.find(o=>o.itemId===e),i=0;for(;s&&i<1;)i++,bl(n,s.id,""),s=n.craftingForm.paramsValue.find(o=>o.itemId===e)},ln={[J.Activities]:{nameId:"Activities",icon:l.jsx(kc,{})},[J.Storage]:{nameId:"Storage",icon:l.jsx(wc,{})},[J.Woodcutting]:{nameId:"Woodcutting",icon:l.jsx(kn,{})},[J.Woodworking]:{nameId:"Woodworking",icon:l.jsx(kn,{}),recipeType:he.Woodworking},[J.Mining]:{nameId:"Mining",icon:l.jsx(ko,{})},[J.Smithing]:{nameId:"Smithing",icon:l.jsx(Cc,{}),recipeType:he.Smithing},[J.CombatZones]:{nameId:"CombatZones",icon:l.jsx(wn,{})},[J.Combat]:{nameId:"Combat",icon:l.jsx(wn,{})},[J.Characters]:{nameId:"Characters",icon:l.jsx(Sc,{})},[J.Butchering]:{nameId:"Butchering",icon:l.jsx(wo,{}),recipeType:he.Butchering},[J.Alchemy]:{nameId:"Alchemy",icon:te[D.Potion],recipeType:he.Alchemy},[J.Quest]:{nameId:"Quests",icon:l.jsx(Kn,{})}},ki=n=>W(e=>{e.ui.theme=n}),rn=n=>W(e=>{e.ui.themeColor=n}),ns=n=>n.ui.open,g1=()=>W(n=>{n.ui.open=!n.ui.open}),h1=n=>W(e=>{const t=ln[n];e.ui.recipeType!==t.recipeType&&Il(e,""),e.ui.page=n,e.ui.open=!1,e.ui.recipeType=t.recipeType}),p1=n=>W(e=>{e.ui.woodType=n}),x1=n=>W(e=>{e.ui.oreType=n}),is=(n,e)=>()=>W(t=>{t.ui.storageOrder=n,t.ui.storageAsc=e}),Ni=n=>()=>W(e=>{let t=e.ui.storageAsc;e.ui.storageOrder===n&&(t=!e.ui.storageAsc),e.ui.storageOrder=n,e.ui.storageAsc=t}),I1=()=>W(n=>{n.ui.showAvailablePerks=!n.ui.showAvailablePerks}),b1=()=>W(n=>{n.ui.showUnavailablePerks=!n.ui.showUnavailablePerks}),j1=()=>W(n=>{n.ui.showOwnedPerks=!n.ui.showOwnedPerks}),y1=n=>W(e=>{e.ui.selectedCharId=n}),jl=n=>W(Di(n)),Di=n=>e=>{n in e.ui.collapsed?delete e.ui.collapsed[n]:e.ui.collapsed[n]=!0},v1=(n,e)=>t=>{e!==(t.ui.collapsed[n]??!1)&&Di(n)(t)},yl=(n,e)=>e?n:l.jsx(Ho,{}),S1=(n,e)=>yt.setState(t=>({sidebarWidths:{...t.sidebarWidths,[n]:e}}));function vl(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(Nc,{"data-slot":"collapsible",...t}),e[2]=t,e[3]=s):s=e[3],s}function C1(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(Ac,{"data-slot":"collapsible-trigger",...t}),e[2]=t,e[3]=s):s=e[3],s}function Sl(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(Dc,{"data-slot":"collapsible-content",...t}),e[2]=t,e[3]=s):s=e[3],s}const w1="_item_108uz_1",k1="_itemCollapsed_108uz_23",N1="_arrow_108uz_47",D1="_arrowDown_108uz_53",A1="_myListTransition_108uz_59",$t={item:w1,itemCollapsed:k1,arrow:N1,arrowDown:D1,myListTransition:A1},_1=Tc,T1=_c,Cl=n=>{const e=j.c(12);let t,s,i,o;e[0]!==n?({ref:i,className:t,sideOffset:o,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);const a=o===void 0?4:o;let r;e[5]!==t?(r=L("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 origin-[--radix-tooltip-content-transform-origin] overflow-hidden rounded-md px-3 py-1.5 text-xs",t),e[5]=t,e[6]=r):r=e[6];let c;return e[7]!==s||e[8]!==i||e[9]!==a||e[10]!==r?(c=l.jsx(Mc,{children:l.jsx(Fo,{ref:i,sideOffset:a,className:r,...s})}),e[7]=s,e[8]=i,e[9]=a,e[10]=r,e[11]=c):c=e[11],c};Cl.displayName=Fo.displayName;const We=v.memo(function(e){const t=j.c(11),{page:s,collapsedId:i,right:o}=e,{t:a}=k(),r=ln[s];let c;t[0]!==s?(c=h=>h.ui.page===s,t[0]=s,t[1]=c):c=t[1];const d=b(c);let m;t[2]!==s?(m=()=>h1(s),t[2]=s,t[3]=m):m=t[3];const f=m,u=a[r.nameId];let g;return t[4]!==d||t[5]!==i||t[6]!==r.icon||t[7]!==f||t[8]!==o||t[9]!==u?(g=l.jsx(mt,{onClick:f,text:u,active:d,icon:r.icon,collapsedId:i,right:o}),t[4]=d,t[5]=i,t[6]=r.icon,t[7]=f,t[8]=o,t[9]=u,t[10]=g):g=t[10],g}),mt=v.memo(function(e){const t=j.c(16),{text:s,onClick:i,active:o,icon:a,arrowOpen:r,right:c,collapsedId:d}=e;let{enabled:m}=e,f;t[0]!==d?(f=fm(d),t[0]=d,t[1]=f):f=t[1];const g=yt(f)<47;if(m===void 0&&(m=!0),!g||s===""){let h;return t[2]!==o||t[3]!==r||t[4]!==m||t[5]!==a||t[6]!==i||t[7]!==c||t[8]!==s?(h=l.jsx(M1,{active:o,text:s,icon:a,onClick:i,arrowOpen:r,right:c,enabled:m}),t[2]=o,t[3]=r,t[4]=m,t[5]=a,t[6]=i,t[7]=c,t[8]=s,t[9]=h):h=t[9],h}else{let h;return t[10]!==o||t[11]!==g||t[12]!==a||t[13]!==i||t[14]!==s?(h=l.jsx(P1,{active:o,text:s,onClick:i,icon:a,collapsed:g}),t[10]=o,t[11]=g,t[12]=a,t[13]=i,t[14]=s,t[15]=h):h=t[15],h}}),M1=v.memo(function(e){const{text:t,onClick:s,active:i,icon:o,arrowOpen:a,right:r}=e;let c=l.jsx(l.Fragment,{});return a!==void 0&&(c=l.jsx(Pc,{className:Le($t.arrow,{[$t.arrowDown]:a})})),l.jsxs("button",{title:t,type:"button",onClick:s,className:L(Qt({variant:"ghost"}),{"bg-muted hover:bg-muted":i},{"text-muted-foreground hover:bg-muted":!i},"mt-1 justify-start gap-4 text-nowrap",$t.item),children:[o,t,r,c]})}),P1=v.memo(function(e){const t=j.c(12),{active:s,text:i,onClick:o,icon:a,collapsed:r}=e;let c;t[0]!==s||t[1]!==r?(c=L(Qt({variant:"ghost"}),{"bg-muted hover:bg-muted":s},{"text-muted-foreground hover:bg-muted":!s},"mt-1 justify-start gap-4",$t.item,r?$t.itemCollapsed:""),t[0]=s,t[1]=r,t[2]=c):c=t[2];let d;t[3]!==a||t[4]!==o||t[5]!==c?(d=l.jsx(T1,{onClick:o,className:c,children:a}),t[3]=a,t[4]=o,t[5]=c,t[6]=d):d=t[6];let m;t[7]!==i?(m=l.jsx(Cl,{side:"right",children:i}),t[7]=i,t[8]=m):m=t[8];let f;return t[9]!==d||t[10]!==m?(f=l.jsxs(_1,{children:[d,m]}),t[9]=d,t[10]=m,t[11]=f):f=t[11],f}),_s=v.memo(function(e){const{children:t,name:s,icon:i,collapsedId:o,parentCollapsedId:a}=e,{t:r}=k(),c=b(Vs(o)),d=v.useCallback(()=>jl(o),[o]),[m,f]=v.useState(!1);return v.useLayoutEffect(()=>{const u=setTimeout(()=>f(!0),100);return()=>clearTimeout(u)},[]),l.jsxs(vl,{open:!c,children:[l.jsx(mt,{collapsedId:a,active:!1,text:r[s],icon:i,arrowOpen:c,onClick:d}),l.jsx(Sl,{className:"CollapsibleContent",children:l.jsx("div",{className:Le({[$t.myListTransition]:m},"CollapsibleMenu__Items"),children:t})})]})}),E1="_sidebarContainer_jlnvn_1",R1="_collapsed_jlnvn_19",L1="_collapseContainer_jlnvn_27",$1="_icon_jlnvn_55",B1="_iconCollapsed_jlnvn_63",q1="_btnExpand_jlnvn_69",O1="_collapsedContainer_jlnvn_101",ft={sidebarContainer:E1,collapsed:R1,collapseContainer:L1,icon:$1,iconCollapsed:B1,btnExpand:q1,collapsedContainer:O1},kt=v.memo(function(e){const{children:t,className:s,collapsedId:i}=e,o=v.useCallback(()=>jl(i),[i]),a=b(Vs(i)),r=v.useRef(null),[c,{width:d}]=$o();return v.useEffect(()=>{r.current&&c(r.current)},[c]),v.useEffect(()=>{S1(i,d)},[i,d]),l.jsxs("nav",{ref:r,className:Le(ft.collapseContainer,{[ft.collapsedContainer]:a},{SidebarContainer__Full:!a},s),children:[l.jsx("div",{className:Le(ft.sidebarContainer,{[ft.collapsed]:a}),children:t}),l.jsx("div",{className:Le(ft.sidebarContainer,ft.btnExpand,{[ft.collapsed]:a}),children:l.jsx(mt,{onClick:o,active:!1,icon:l.jsx(Ec,{className:Le(ft.icon,{[ft.iconCollapsed]:a})}),text:"",collapsedId:i})})]})});var Z=(n=>(n.Gathering="Gathering",n.Combat="Combat",n.Characters="Characters",n.Mining="Mining",n.Woodcutting="Woodcutting",n.Sidebar="Sidebar",n.BattleArea="BattleArea",n.GatheringSide="GatheringSide",n.CraftingSide="CraftingSide",n.Perk="Perk",n.PerkS="PerkS",n.AbilityList="AbilityList",n.CombatSide="CombatSide",n.Forest="Forest",n.Quest="Quest",n.QuestAccepted="QuestAccepted",n.QuestAvailable="QuestAvailable",n))(Z||{});const H1=Object.values(qt),F1=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(kt,{collapsedId:Z.Woodcutting,children:H1.map(U1)}),e[0]=t):t=e[0],t}),W1=v.memo(function(e){const t=j.c(18),{woodType:s}=e,i=xt[s],{t:o}=k();let a;t[0]!==s?(a=S=>sm(s)(S),t[0]=s,t[1]=a):a=t[1];const r=a;let c;t[2]!==s?(c=S=>Pu(s)(S),t[2]=s,t[3]=c):c=t[3];const d=c,m=b(r),f=b(d);let u;t[4]!==s?(u=()=>p1(s),t[4]=s,t[5]=u):u=t[5];const g=u;let h;t[6]!==i.color||t[7]!==i.iconId?(h=l.jsx(wi,{icon:i.iconId,className:i.color}),t[6]=i.color,t[7]=i.iconId,t[8]=h):h=t[8];const p=h,x=o[i.nameId];let I;t[9]!==f||t[10]!==p?(I=yl(p,f),t[9]=f,t[10]=p,t[11]=I):I=t[11];let y;return t[12]!==f||t[13]!==g||t[14]!==m||t[15]!==x||t[16]!==I?(y=l.jsx(mt,{text:x,icon:I,active:m,onClick:g,enabled:f,collapsedId:Z.Woodcutting}),t[12]=f,t[13]=g,t[14]=m,t[15]=x,t[16]=I,t[17]=y):y=t[17],y});function U1(n){return l.jsx(W1,{woodType:n},n)}const Q1=v.memo(function(){const e=j.c(5),t=b(Mt);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(F1,{}),e[0]=s):s=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsxs("div",{className:"page__info",children:[l.jsx(en,{expType:ae.Woodcutting,charId:ie}),l.jsx(Ii,{slot:ge.WoodAxe})]}),e[1]=i):i=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(_e,{className:"page__main",children:l.jsx(G1,{})}),e[2]=o):o=e[2];let a;return e[3]!==t?(a=l.jsx(ss,{sidebar:s,header:i,children:o},t),e[3]=t,e[4]=a):a=e[4],a}),G1=v.memo(function(){const e=j.c(13),{f:t}=G(),{t:s,fun:i}=k(),o=b(Mt),a=b(Eu),r=xt[o];if(!a){let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Yn,{className:"h-4 w-4"}),e[0]=d):d=e[0];let m;e[1]!==s.LevelToLow?(m=l.jsx(ot,{children:s.LevelToLow}),e[1]=s.LevelToLow,e[2]=m):m=e[2];let f;e[3]!==r.requiredLevel||e[4]!==t||e[5]!==i?(f=i.requireWoodcuttingLevel(t(r.requiredLevel)),e[3]=r.requiredLevel,e[4]=t,e[5]=i,e[6]=f):f=e[6];let u;e[7]!==f?(u=l.jsx(gt,{children:f}),e[7]=f,e[8]=u):u=e[8];let g;return e[9]!==m||e[10]!==u?(g=l.jsxs(Ze,{variant:"destructive",children:[d,m,u]}),e[9]=m,e[10]=u,e[11]=g):g=e[11],g}let c;return e[12]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsxs(l.Fragment,{children:[l.jsx(V1,{}),l.jsx(K1,{})]}),e[12]=c):c=e[12],c}),V1=v.memo(function(){const e=j.c(59),{f:t}=G(),{t:s,fun:i}=k(),o=b(Mt);let a;e[0]!==o?(a=we(H=>Oa(H,o)),e[0]=o,e[1]=a):a=e[1];const c=b(a);let d;e[2]!==o?(d=H=>Ya(H,o),e[2]=o,e[3]=d):d=e[3];const m=b(d);let f;e[4]!==o?(f=H=>Jt(H,o).hp,e[4]=o,e[5]=f):f=e[5];const u=b(St(f)),g=Math.floor(100*c.hp/u),h=b(Ci),p=b(hl);let x;e[6]!==i||e[7]!==o?(x=i.cutting(o),e[6]=i,e[7]=o,e[8]=x):x=e[8];let I;e[9]!==x?(I=l.jsx(pe,{title:x,icon:te.Axe}),e[9]=x,e[10]=I):I=e[10];const y=s.TreeHP;let S;e[11]!==t||e[12]!==c.hp?(S=t(c.hp),e[11]=t,e[12]=c.hp,e[13]=S):S=e[13];let C;e[14]!==s.TreeHP||e[15]!==S?(C=l.jsxs("span",{children:[y," ",S]}),e[14]=s.TreeHP,e[15]=S,e[16]=C):C=e[16];let w;e[17]!==u||e[18]!==t?(w=t(u),e[17]=u,e[18]=t,e[19]=w):w=e[19];let N;e[20]!==w?(N=l.jsxs("span",{className:"text-muted-foreground",children:["/ ",w]}),e[20]=w,e[21]=N):N=e[21];let A;e[22]!==C||e[23]!==N?(A=l.jsxs(Ie,{children:[C,N]}),e[22]=C,e[23]=N,e[24]=A):A=e[24];const _=s.Damage;let P;e[25]!==p||e[26]!==t?(P=t(p),e[25]=p,e[26]=t,e[27]=P):P=e[27];let E;e[28]!==s.WoodcuttingDamage?(E=l.jsx(Pe,{title:s.WoodcuttingDamage,selectBonusResult:gl}),e[28]=s.WoodcuttingDamage,e[29]=E):E=e[29];let $;e[30]!==s.Damage||e[31]!==P||e[32]!==E?($=l.jsxs(Ie,{children:[_," ",P,E]}),e[30]=s.Damage,e[31]=P,e[32]=E,e[33]=$):$=e[33];let M;e[34]!==A||e[35]!==$?(M=l.jsxs(Fa,{children:[A,$]}),e[34]=A,e[35]=$,e[36]=M):M=e[36];let q;e[37]!==g?(q=l.jsx(ui,{value:g,color:"health",className:"mb-2"}),e[37]=g,e[38]=q):q=e[38];const F=s.Time;let U;e[39]!==i||e[40]!==h?(U=i.formatTime(h),e[39]=i,e[40]=h,e[41]=U):U=e[41];let K;e[42]!==s.WoodcuttingTime?(K=l.jsx(Pe,{title:s.WoodcuttingTime,selectBonusResult:xl,isTime:!0}),e[42]=s.WoodcuttingTime,e[43]=K):K=e[43];let z;e[44]!==s.Time||e[45]!==U||e[46]!==K?(z=l.jsxs(Ie,{children:[F," ",U,K]}),e[44]=s.Time,e[45]=U,e[46]=K,e[47]=z):z=e[47];let V;e[48]!==m?(V=l.jsx(fi,{actionId:m,color:"primary",className:"mb-2"}),e[48]=m,e[49]=V):V=e[49];let Y;e[50]!==M||e[51]!==q||e[52]!==z||e[53]!==V?(Y=l.jsxs(de,{children:[M,q,z,V]}),e[50]=M,e[51]=q,e[52]=z,e[53]=V,e[54]=Y):Y=e[54];let X;e[55]===Symbol.for("react.memo_cache_sentinel")?(X=l.jsx(ts,{children:l.jsx(z1,{})}),e[55]=X):X=e[55];let ne;return e[56]!==Y||e[57]!==I?(ne=l.jsxs(ce,{children:[I,Y,X]}),e[56]=Y,e[57]=I,e[58]=ne):ne=e[58],ne}),z1=v.memo(function(){const e=j.c(12),t=b(Mt);let s;e[0]!==t?(s=f=>Ya(f,t),e[0]=t,e[1]=s):s=e[1];const i=b(s);let o;e[2]!==t?(o=()=>cu(t),e[2]=t,e[3]=o):o=e[3];const a=o;let r;e[4]!==i?(r=()=>Xs(i),e[4]=i,e[5]=r):r=e[5];const c=r,{t:d}=k();if(i===void 0){let f;return e[6]!==a||e[7]!==d.Cut?(f=l.jsx(se,{onClick:a,children:d.Cut}),e[6]=a,e[7]=d.Cut,e[8]=f):f=e[8],f}let m;return e[9]!==c||e[10]!==d.Stop?(m=l.jsx(se,{onClick:c,variant:"destructive",children:d.Stop}),e[9]=c,e[10]=d.Stop,e[11]=m):m=e[11],m}),K1=v.memo(function(){const e=j.c(9),t=b(Mt),{t:s}=k(),i=xt[t],o=s[`${t}Forest`];let a;e[0]!==i.color||e[1]!==i.iconId?(a=l.jsx(wi,{icon:i.iconId,className:i.color}),e[0]=i.color,e[1]=i.iconId,e[2]=a):a=e[2];let r;e[3]!==o||e[4]!==a?(r=l.jsx(pe,{title:o,icon:a}),e[3]=o,e[4]=a,e[5]=r):r=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsxs(de,{children:[l.jsx(Y1,{}),l.jsx(X1,{})]}),e[6]=c):c=e[6];let d;return e[7]!==r?(d=l.jsxs(ce,{children:[r,c]}),e[7]=r,e[8]=d):d=e[8],d}),Y1=v.memo(function(){const e=j.c(21),t=b(Mt);let s;e[0]!==t?(s=I=>pu(I,t),e[0]=t,e[1]=s):s=e[1];const i=b(s);let o;e[2]!==t?(o=I=>Jt(I,t),e[2]=t,e[3]=o):o=e[3];const a=b(St(o)),{f:r}=G(),{t:c}=k(),d=Math.floor(100*i/a.qta),m=c.Trees;let f;e[4]!==r||e[5]!==i?(f=r(i),e[4]=r,e[5]=i,e[6]=f):f=e[6];let u;e[7]!==a.qta||e[8]!==r?(u=r(a.qta),e[7]=a.qta,e[8]=r,e[9]=u):u=e[9];let g;e[10]!==u?(g=l.jsxs("span",{className:"text-muted-foreground",children:["/ ",u]}),e[10]=u,e[11]=g):g=e[11];let h;e[12]!==c.Trees||e[13]!==f||e[14]!==g?(h=l.jsxs(Ie,{children:[m," ",f," ",g]}),e[12]=c.Trees,e[13]=f,e[14]=g,e[15]=h):h=e[15];let p;e[16]!==d?(p=l.jsx(Ct,{value:d,color:"success",className:"mb-2"}),e[16]=d,e[17]=p):p=e[17];let x;return e[18]!==h||e[19]!==p?(x=l.jsxs(l.Fragment,{children:[h,p]}),e[18]=h,e[19]=p,e[20]=x):x=e[20],x}),X1=v.memo(function(){const e=j.c(18),{f:t}=G(),{t:s}=k(),i=b(Mt);let o;e[0]!==i?(o=Iu(i),e[0]=i,e[1]=o):o=e[1];const a=b(St(o)),r=s.GrowingTrees;let c;e[2]!==t||e[3]!==a.length?(c=t(a.length),e[2]=t,e[3]=a.length,e[4]=c):c=e[4];let d;e[5]!==t?(d=t(Xo),e[5]=t,e[6]=d):d=e[6];let m;e[7]!==d?(m=l.jsxs("span",{className:"text-muted-foreground",children:["/ ",d]}),e[7]=d,e[8]=m):m=e[8];let f;e[9]!==s.GrowingTrees||e[10]!==c||e[11]!==m?(f=l.jsxs(Ie,{children:[r," ",c,m]}),e[9]=s.GrowingTrees,e[10]=c,e[11]=m,e[12]=f):f=e[12];let u;e[13]!==a?(u=a.map(J1),e[13]=a,e[14]=u):u=e[14];let g;return e[15]!==f||e[16]!==u?(g=l.jsxs(l.Fragment,{children:[f,u]}),e[15]=f,e[16]=u,e[17]=g):g=e[17],g}),Z1=v.memo(function(e){const t=j.c(2),{id:s}=e;let i;return t[0]!==s?(i=l.jsx(qa,{timerId:s,color:"success",className:"mb-2"}),t[0]=s,t[1]=i):i=t[1],i});function J1(n){return l.jsx(Z1,{id:n},n)}const eg=n=>n.orderedActivities,tg=n=>e=>{const t=re.selectEx(e.activities,n);return Rt.getEx(t.type)(e,n)},sg=n=>e=>{const t=re.selectEx(e.activities,n);return Lt.getEx(t.type)(e,n)},ng=n=>re.getIds(n.activities).length,wl=n=>e=>re.selectEx(e.activities,n).max,ig=n=>e=>{const t=re.select(e.activities,n);if(t)return xs.get(t.type)!==void 0},og=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsxs(kt,{collapsedId:Z.Sidebar,children:[l.jsx(We,{page:J.Activities,collapsedId:Z.Sidebar,right:l.jsx(ag,{})}),l.jsx(We,{page:J.Storage,collapsedId:Z.Sidebar}),l.jsx(We,{page:J.Characters,collapsedId:Z.Sidebar}),l.jsx(We,{page:J.Quest,collapsedId:Z.Sidebar}),l.jsx(lg,{}),l.jsx(rg,{}),l.jsx(cg,{})]}),e[0]=t):t=e[0],t}),ag=v.memo(function(){const e=j.c(5),t=b(ng),{f:s}=G();if(t===0)return;let i;e[0]!==t||e[1]!==s?(i=s(t),e[0]=t,e[1]=s,e[2]=i):i=e[2];let o;return e[3]!==i?(o=l.jsx(st,{variant:"secondary",children:i}),e[3]=i,e[4]=o):o=e[4],o}),lg=v.memo(function(){const e=j.c(5),s=b(ns)?"1":"0";let i,o,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Rc,{}),o=l.jsx(We,{page:J.CombatZones,collapsedId:Z.Sidebar}),a=l.jsx(We,{page:J.Combat,collapsedId:Z.Sidebar}),e[0]=i,e[1]=o,e[2]=a):(i=e[0],o=e[1],a=e[2]);let r;return e[3]!==s?(r=l.jsxs(_s,{collapsedId:Z.CombatSide,name:"Battle",parentCollapsedId:Z.Sidebar,icon:i,children:[o,a]},s),e[3]=s,e[4]=r):r=e[4],r}),rg=v.memo(function(){const e=j.c(5),s=b(ns)?"1":"0";let i,o,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Lc,{}),o=l.jsx(We,{page:J.Woodcutting,collapsedId:Z.Sidebar}),a=l.jsx(We,{page:J.Mining,collapsedId:Z.Sidebar}),e[0]=i,e[1]=o,e[2]=a):(i=e[0],o=e[1],a=e[2]);let r;return e[3]!==s?(r=l.jsxs(_s,{collapsedId:Z.GatheringSide,name:"Gathering",parentCollapsedId:Z.Sidebar,icon:i,children:[o,a]},s),e[3]=s,e[4]=r):r=e[4],r}),cg=v.memo(function(){const e=j.c(7),s=b(ns)?"2":"3";let i,o,a,r,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx($c,{}),o=l.jsx(We,{page:J.Woodworking,collapsedId:Z.Sidebar}),a=l.jsx(We,{page:J.Smithing,collapsedId:Z.Sidebar}),r=l.jsx(We,{page:J.Butchering,collapsedId:Z.Sidebar}),c=l.jsx(We,{page:J.Alchemy,collapsedId:Z.Sidebar}),e[0]=i,e[1]=o,e[2]=a,e[3]=r,e[4]=c):(i=e[0],o=e[1],a=e[2],r=e[3],c=e[4]);let d;return e[5]!==s?(d=l.jsxs(_s,{collapsedId:Z.CraftingSide,name:"Crafting",parentCollapsedId:Z.Sidebar,icon:i,children:[o,a,r,c]},s),e[5]=s,e[6]=d):d=e[6],d}),kl=(n,e)=>{if(!e||(typeof e=="string"&&(e=oe(e)(n)),!e))return"";const t=ya(e.nameId,e.materials);return ja(e.nameFunc,t,ke(n))},ze=n=>{const e=j.c(2);let t;return e[0]!==n?(t=s=>kl(s,n),e[0]=n,e[1]=t):t=e[1],b(t)};function It(n,e,t,s){let i=n.now+e;const o=He();n.loading||(!n.loading&&!n.isTimer&&(n.now=Date.now()),i=n.now+e);const a={id:o,from:n.now,to:i,type:t,actId:s};Te.create(n.timers,a)}function dg(n,e){if(e.target&&e.value&&e.value>0)switch(e.effect){case B.Health:En(n,e.target,e.value);break;case B.Stamina:Rn(n,e.target,e.value);break;case B.Mana:Ln(n,e.target,e.value);break;case B.DamageHealth:En(n,e.target,e.value);break;case B.DamageStamina:Rn(n,e.target,e.value);break;case B.DamageMana:Ln(n,e.target,e.value);break}}function mg(n,e){if(!e.duration||e.duration<=0){dg(n,e);return}const t={id:He(),effect:e.effect,duration:e.duration,nameId:e.nameId,iconId:e.iconId,target:e.target,value:e.value};It(n,e.duration,Q.Effect,t.id),Be.create(n.effects,t)}const fg=(n,e)=>{const t=Be.select(n.effects,e.actId);t&&Be.remove(n.effects,t.id)},ug=4,gg=-.2,hg=30,pg=70,xg=.75,Ig=.5,bg=-5,jg=2,so=50;function yg(n){let e=0;for(const t of n.effects)e+=t.value*jg;return Math.floor(e*(1+n.effects.length/4))}function no(n,e,t){if(t.length<2)return;const s=new Map;let i=!1;for(const f of t)for(const u of f.ingredientData.effects){const g=dl(n,f,u.effect);i||=!g,!(!e&&!g)&&(s.has(u.effect)||s.set(u.effect,[]),s.get(u.effect).push({potency:u.potency}))}s.forEach((f,u)=>{f.length<2&&s.delete(u)});const o={effects:[]};for(const[f,u]of s.entries()){const g=Uu(n,f,u.map(h=>h.potency));g&&o.effects.push(g)}o.effects.sort((f,u)=>u.value-f.value);const a={total:0,bonuses:[]};a.bonuses.push({id:"Base",nameId:"Base",iconId:D.OppositeIngredient,add:so});const r=o.effects;let c=so,d=je.Chaotic;r.length===0?i?d=je.Unknown:d=je.NotPotion:(vg(o,a,t),a.total=Se(a.bonuses),c=a.total,c>pg?d=je.Stable:c>hg?d=je.Unstable:c>0?d=je.Chaotic:d=je.NotPotion,Sg(o,d));let m;return je.NotPotion!==d&&(m={id:"",nameId:"Potion",icon:D.Potion,type:O.Potion,value:yg(o),potionData:o}),{item:m,stability:c,potionResult:d,unknownEffects:i,potionResultBonusList:a}}function vg(n,e,t){const s=n.effects;for(const o of s){const a=Ji.find(r=>r.first.includes(o.effect))?.second||Ji.find(r=>r.second.includes(o.effect))?.first;if(a)for(const r of a){const c=s.find(d=>d.effect===r);c&&e.bonuses.push({id:`Opp_${o.effect}_${r}`,nameId:"OppositeEffects",iconId:D.OppositeIngredient,add:(o.value+c.value)*gg})}}n.effects.length>=2&&e.bonuses.push({id:"MultiEffects",nameId:"MultipleEffects",iconId:D.MultipleEffects,add:bg*(n.effects.length-1)});const i=t.reduce((o,a)=>o+(a.ingredientData?.stability||0),0);Math.abs(i)>.1&&e.bonuses.push({id:"IngredientsStability",nameId:"IngredientsStability",iconId:i>0?D.ArrowUp:D.ArrowDown,add:i})}function Sg(n,e){if(e===je.Unstable)for(const t of n.effects)t.value=Math.floor(t.value*xg);else if(e===je.Chaotic){for(const s of n.effects)s.value=Math.floor(s.value*Ig);if(n.effects.length<=1)return;const t=n.effects.length-1;n.effects.splice(t,1)}}function Cg(n,e,t){const s=oe(t)(n);if(!(!s||!s.potionData)){for(const i of s.potionData.effects){const o={effect:i.effect,nameId:s.nameId,iconId:s.icon,duration:i.duration,target:e,value:i.value};mg(n,o)}Ks(n,t,1)}}const wg=(n,e)=>W(t=>Cg(t,n,e)),kg=v.memo(function(){const e=j.c(3),t=b(ii),s=b(Ss);if(t<=0||!s||!s.potionData)return;let i;return e[0]!==s.id||e[1]!==s.potionData?(i=l.jsx(Ng,{itemId:s.id,potionData:s.potionData}),e[0]=s.id,e[1]=s.potionData,e[2]=i):i=e[2],i}),Ng=v.memo(function(e){const t=j.c(14),{itemId:s,potionData:i}=e,{t:o}=k();let a;t[0]!==s||t[1]!==i?(a=()=>{i&&wg(ie,s)},t[0]=s,t[1]=i,t[2]=a):a=t[2];const r=a;let c;t[3]!==o.Potion?(c=l.jsx(pe,{title:o.Potion}),t[3]=o.Potion,t[4]=c):c=t[4];let d;t[5]!==i?(d=l.jsx(de,{children:l.jsx(ul,{potionData:i})}),t[5]=i,t[6]=d):d=t[6];let m;t[7]!==r||t[8]!==o.Use?(m=l.jsx(ts,{children:l.jsx(se,{onClick:r,children:o.Use})}),t[7]=r,t[8]=o.Use,t[9]=m):m=t[9];let f;return t[10]!==c||t[11]!==d||t[12]!==m?(f=l.jsxs(ce,{children:[c,d,m]}),t[10]=c,t[11]=d,t[12]=m,t[13]=f):f=t[13],f}),Dg="_container_13q8u_1",Ag={container:Dg};function _g(n){const e=n.materials?.[jt];if(e)return Zo[e]}const rt=n=>{const e=j.c(10),{itemId:t}=n;let s;e[0]!==t?(s=m=>typeof t!="string"?t:t?oe(t)(m):null,e[0]=t,e[1]=s):s=e[1];const i=b(s);if(!i){let m;return e[2]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(l.Fragment,{}),e[2]=m):m=e[2],m}let o;e[3]!==i?(o=i.color??_g(i)?.color,e[3]=i,e[4]=o):o=e[4];const a=o,r=i.icon;let c;e[5]!==a?(c=Le("text-lg",a),e[5]=a,e[6]=c):c=e[6];let d;return e[7]!==i.icon||e[8]!==c?(d=l.jsx(wi,{icon:r,className:c}),e[7]=i.icon,e[8]=c,e[9]=d):d=e[9],d},Nl=v.memo(function(e){const t=j.c(7),{showTitle:s}=e,i=b(ii),o=b(Ss),a=ze(o);if(i<=0||o===void 0)return;let r;t[0]!==o||t[1]!==a||t[2]!==s?(r=s&&l.jsx(ce,{children:l.jsx(pe,{title:a,icon:l.jsx(rt,{itemId:o})})}),t[0]=o,t[1]=a,t[2]=s,t[3]=r):r=t[3];let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(Mg,{}),t[4]=c):c=t[4];let d;return t[5]!==r?(d=l.jsxs("div",{className:"grid gap-3",children:[r,c]}),t[5]=r,t[6]=d):d=t[6],d}),Tg=v.memo(function(){const e=j.c(5),t=b(Ss),s=ze(t);if(!t)return;let i;e[0]!==t?(i=l.jsx(rt,{itemId:t}),e[0]=t,e[1]=i):i=e[1];let o;return e[2]!==s||e[3]!==i?(o=l.jsx(pe,{title:s,icon:i}),e[2]=s,e[3]=i,e[4]=o):o=e[4],o}),Mg=v.memo(function(){const e=j.c(12),t=b(ii),s=b(Ss),i=b(Ym);if(t<=0||s===void 0)return;let o;e[0]!==s?(o=l.jsx(ce,{children:l.jsx(de,{className:Ag.container,children:l.jsx(xi,{item:s})})}),e[0]=s,e[1]=o):o=e[1];let a;e[2]!==i||e[3]!==s?(a=i&&s.equipSlot&&l.jsx(Pg,{}),e[2]=i,e[3]=s,e[4]=a):a=e[4];let r;e[5]!==i||e[6]!==s?(r=i&&s.potionData&&l.jsx(kg,{}),e[5]=i,e[6]=s,e[7]=r):r=e[7];let c;return e[8]!==o||e[9]!==a||e[10]!==r?(c=l.jsxs(l.Fragment,{children:[o,a,r]}),e[8]=o,e[9]=a,e[10]=r,e[11]=c):c=e[11],c}),Pg=v.memo(function(){const e=j.c(10),t=b(Km),s=b(Ss);let i;e[0]!==s||e[1]!==t?(i=()=>{s&&s.equipSlot&&Su(ie,s.equipSlot,t,1)},e[0]=s,e[1]=t,e[2]=i):i=e[2];const o=i;if(!s)return;const a=`Equip ${s.equipSlot}`;let r;e[3]!==a?(r=l.jsx(pe,{title:a}),e[3]=a,e[4]=r):r=e[4];let c;e[5]!==o?(c=l.jsx(ts,{children:l.jsx(se,{onClick:o,children:"Equip"})}),e[5]=o,e[6]=c):c=e[6];let d;return e[7]!==r||e[8]!==c?(d=l.jsxs(ce,{children:[r,c]}),e[7]=r,e[8]=c,e[9]=d):d=e[9],d}),Dl=Bc,Ai=n=>{const e=j.c(10);let t,s,i;e[0]!==n?({ref:i,className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);let o;e[4]!==t?(o=L("border-b",t),e[4]=t,e[5]=o):o=e[5];let a;return e[6]!==s||e[7]!==i||e[8]!==o?(a=l.jsx(Oc,{ref:i,className:o,...s}),e[6]=s,e[7]=i,e[8]=o,e[9]=a):a=e[9],a};Ai.displayName="AccordionItem";const _i=n=>{const e=j.c(13);let t,s,i,o;e[0]!==n?({ref:o,className:s,children:t,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);let a;e[5]!==s?(a=L("flex flex-1 cursor-pointer items-center justify-between py-4 text-left transition-all [&[data-state=open]>svg]:rotate-180",s),e[5]=s,e[6]=a):a=e[6];let r;e[7]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(Hc,{className:"text-muted-foreground h-4 w-4 shrink-0 transition-transform duration-200"}),e[7]=r):r=e[7];let c;return e[8]!==t||e[9]!==i||e[10]!==o||e[11]!==a?(c=l.jsx(qc,{className:"flex",children:l.jsxs(Wo,{ref:o,className:a,...i,children:[t,r]})}),e[8]=t,e[9]=i,e[10]=o,e[11]=a,e[12]=c):c=e[12],c};_i.displayName=Wo.displayName;const Ti=n=>{const e=j.c(14);let t,s,i,o;e[0]!==n?({ref:o,className:s,children:t,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);let a;e[5]!==s?(a=L("pt-0 pb-0",s),e[5]=s,e[6]=a):a=e[6];let r;e[7]!==t||e[8]!==a?(r=l.jsx("div",{className:a,children:t}),e[7]=t,e[8]=a,e[9]=r):r=e[9];let c;return e[10]!==i||e[11]!==o||e[12]!==r?(c=l.jsx(Uo,{ref:o,className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden",...i,children:r}),e[10]=i,e[11]=o,e[12]=r,e[13]=c):c=e[13],c};Ti.displayName=Uo.displayName;const Eg="_dropDown_1dl57_1",Rg="_row_1dl57_13",Lg="_smallRow_1dl57_27",$g="_smallRowHeader_1dl57_45",Bg="_cardList_1dl57_61",ut={dropDown:Eg,row:Rg,smallRow:Lg,smallRowHeader:$g,cardList:Bg};function Mi(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(Gc,{"data-slot":"dropdown-menu",...t}),e[2]=t,e[3]=s):s=e[3],s}function Pi(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(Fc,{"data-slot":"dropdown-menu-trigger",...t}),e[2]=t,e[3]=s):s=e[3],s}function Ei(n){const e=j.c(10);let t,s,i;e[0]!==n?({className:t,sideOffset:i,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);const o=i===void 0?4:i;let a;e[4]!==t?(a=L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),e[4]=t,e[5]=a):a=e[5];let r;return e[6]!==s||e[7]!==o||e[8]!==a?(r=l.jsx(Uc,{children:l.jsx(Qc,{"data-slot":"dropdown-menu-content",sideOffset:o,className:a,...s})}),e[6]=s,e[7]=o,e[8]=a,e[9]=r):r=e[9],r}function Ee(n){const e=j.c(12);let t,s,i,o;e[0]!==n?({className:t,inset:s,variant:o,...i}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);const a=o===void 0?"default":o;let r;e[5]!==t?(r=L("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[5]=t,e[6]=r):r=e[6];let c;return e[7]!==s||e[8]!==i||e[9]!==r||e[10]!==a?(c=l.jsx(Wc,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":a,className:r,...i}),e[7]=s,e[8]=i,e[9]=r,e[10]=a,e[11]=c):c=e[11],c}function vn(n){const e=j.c(13);let t,s,i,o;e[0]!==n?({className:i,children:s,checked:t,...o}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);let a;e[5]!==i?(a=L("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),e[5]=i,e[6]=a):a=e[6];let r;e[7]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:l.jsx(Kc,{children:l.jsx(Bo,{className:"size-4"})})}),e[7]=r):r=e[7];let c;return e[8]!==t||e[9]!==s||e[10]!==o||e[11]!==a?(c=l.jsxs(zc,{"data-slot":"dropdown-menu-checkbox-item",className:a,checked:t,...o,children:[r,s]}),e[8]=t,e[9]=s,e[10]=o,e[11]=a,e[12]=c):c=e[12],c}function qg(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("bg-border -mx-1 my-1 h-px",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(Vc,{"data-slot":"dropdown-menu-separator",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}const Og={small:[0,400],med:[401]},Al=v.createContext(null);function Hg(){const n=j.c(12),e=b(Sa),[t,s]=v.useState(!1),i=v.useRef(null),o=v.useRef(null),a=v.useRef(null),[r,c]=v.useState(!1);let d,m;if(n[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{const x=function(){if(i.current&&o.current){const S=i.current.offsetTop===o.current.offsetTop;c(S)}};x(),window.addEventListener("resize",x);let I;return a.current&&(I=new ResizeObserver(x),I.observe(a.current)),()=>{window.removeEventListener("resize",x),I&&I.disconnect()}},m=[],n[0]=d,n[1]=m):(d=n[0],m=n[1]),v.useLayoutEffect(d,m),e.length===0){let x;return n[2]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(Fg,{}),n[2]=x):x=n[2],x}let f;n[3]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx("div",{ref:i,children:l.jsx(Wg,{})}),n[3]=f):f=n[3];let u;n[4]!==t||n[5]!==r?(u=!r&&l.jsx(gi,{open:t,onOpenChange:s,children:l.jsx(Qg,{})}),n[4]=t,n[5]=r,n[6]=u):u=n[6];let g;n[7]!==u?(g=l.jsxs(Al,{value:s,children:[f,u]}),n[7]=u,n[8]=g):g=n[8];let h;n[9]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx("div",{ref:o,children:l.jsx(Nl,{showTitle:!0})}),n[9]=h):h=n[9];let p;return n[10]!==g?(p=l.jsxs(_e,{className:ut.cardList,ref:a,children:[g,h]}),n[10]=g,n[11]=p):p=n[11],p}const Fg=v.memo(function(){const e=j.c(2),{t}=k();let s;return e[0]!==t.NoItems?(s=l.jsx(_e,{children:l.jsx("div",{className:"my-container",children:l.jsxs(Ze,{variant:"primary",children:[Md,l.jsx(ot,{children:t.NoItems})]})})}),e[0]=t.NoItems,e[1]=s):s=e[1],s}),Wg=v.memo(function(){const e=j.c(10),t=b(Sa),[s,i]=v.useState(!1);let o,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{const m=setTimeout(()=>i(!0),0);return()=>{m&&clearTimeout(m)}},a=[],e[0]=o,e[1]=a):(o=e[0],a=e[1]),v.useEffect(o,a);const r=t[0];let c;if(e[2]!==t||e[3]!==s){let m;e[5]!==s?(m=f=>l.jsx(Ug,{l:f,show:s},f),e[5]=s,e[6]=m):m=e[6],c=t.map(m),e[2]=t,e[3]=s,e[4]=c}else c=e[4];let d;return e[7]!==t[0]||e[8]!==c?(d=l.jsx(Dl,{type:"single",collapsible:!0,className:"mb-4 w-full",defaultValue:r,children:c}),e[7]=t[0],e[8]=c,e[9]=d):d=e[9],d}),Ug=v.memo(function(e){const t=j.c(18),{l:s,show:i}=e,{t:o}=k();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={breakpoints:Og},t[0]=a):a=t[0];const{ref:r,active:c}=Yc(a),d=c==="small",m=Od[s];if(!m)return null;const f=o[m.name];let u;t[1]!==f?(u=l.jsx(es,{children:l.jsx(_i,{className:"p-0",children:l.jsxs(et,{children:[Vo," ",f]})})}),t[1]=f,t[2]=u):u=t[2];let g;t[3]!==d?(g=d&&l.jsx(Zg,{}),t[3]=d,t[4]=g):g=t[4];let h;t[5]!==i||t[6]!==d?(h=i&&l.jsx(Jg,{small:d,location:at.StartVillage}),t[5]=i,t[6]=d,t[7]=h):h=t[7];let p;t[8]!==g||t[9]!==h?(p=l.jsx(Ti,{children:l.jsxs(de,{children:[g,h]})}),t[8]=g,t[9]=h,t[10]=p):p=t[10];let x;t[11]!==r||t[12]!==u||t[13]!==p?(x=l.jsxs(ce,{ref:r,children:[u,p]}),t[11]=r,t[12]=u,t[13]=p,t[14]=x):x=t[14];let I;return t[15]!==s||t[16]!==x?(I=l.jsx(Ai,{value:s,className:"w-full",children:x},s),t[15]=s,t[16]=x,t[17]=I):I=t[17],I}),Qg=v.memo(function(){const e=j.c(4),{t}=k();let s,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Za,{children:l.jsxs(el,{children:[l.jsx(Tg,{}),l.jsx(tl,{})]})}),i=l.jsx(Nl,{}),e[0]=s,e[1]=i):(s=e[0],i=e[1]);let o;return e[2]!==t.Close?(o=l.jsxs(hi,{children:[s,i,l.jsx(Ja,{children:l.jsx($u,{children:t.Close})})]}),e[2]=t.Close,e[3]=o):o=e[3],o}),Gg=is("name",!0),Vg=is("name",!1),zg=is("value",!0),Kg=is("value",!1),Yg=is("quantity",!0),Xg=is("quantity",!1),Zg=v.memo(function(){const e=j.c(25),{t}=k();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Qt({variant:"secondary"}),e[0]=s):s=e[0];let i;e[1]!==t.Sort?(i=l.jsx(Pi,{className:s,children:t.Sort}),e[1]=t.Sort,e[2]=i):i=e[2];let o;e[3]!==t.Name?(o=l.jsxs(Ee,{onClick:Gg,children:[t.Name," ",Rs]}),e[3]=t.Name,e[4]=o):o=e[4];let a;e[5]!==t.Quantity?(a=l.jsxs(Ee,{onClick:Yg,children:[t.Quantity," ",Rs]}),e[5]=t.Quantity,e[6]=a):a=e[6];let r;e[7]!==t.Value?(r=l.jsxs(Ee,{onClick:zg,children:[t.Value," ",Rs]}),e[7]=t.Value,e[8]=r):r=e[8];let c;e[9]!==t.Name?(c=l.jsxs(Ee,{onClick:Vg,children:[t.Name," ",Ls]}),e[9]=t.Name,e[10]=c):c=e[10];let d;e[11]!==t.Quantity?(d=l.jsxs(Ee,{onClick:Xg,children:[t.Quantity," ",Ls]}),e[11]=t.Quantity,e[12]=d):d=e[12];let m;e[13]!==t.Value?(m=l.jsxs(Ee,{onClick:Kg,children:[t.Value," ",Ls]}),e[13]=t.Value,e[14]=m):m=e[14];let f;e[15]!==o||e[16]!==a||e[17]!==r||e[18]!==c||e[19]!==d||e[20]!==m?(f=l.jsxs(Ei,{className:`sort ${ut.dropDown}`,children:[o,a,r,c,d,m]}),e[15]=o,e[16]=a,e[17]=r,e[18]=c,e[19]=d,e[20]=m,e[21]=f):f=e[21];let u;return e[22]!==i||e[23]!==f?(u=l.jsxs(Mi,{children:[i,f]}),e[22]=i,e[23]=f,e[24]=u):u=e[24],u}),Jg=v.memo(function(e){const t=j.c(14),{location:s,small:i}=e,o=Vm(s);let a;t[0]!==i?(a=!i&&l.jsx(nh,{}),t[0]=i,t[1]=a):a=t[1];let r;if(t[2]!==o||t[3]!==s||t[4]!==i){let m;t[6]!==s||t[7]!==i?(m=f=>l.jsx(lh,{small:i,itemId:f,location:s},f),t[6]=s,t[7]=i,t[8]=m):m=t[8],r=o.map(m),t[2]=o,t[3]=s,t[4]=i,t[5]=r}else r=t[5];let c;t[9]!==r?(c=l.jsx(ji,{children:r}),t[9]=r,t[10]=c):c=t[10];let d;return t[11]!==a||t[12]!==c?(d=l.jsxs(bi,{children:[a,c]}),t[11]=a,t[12]=c,t[13]=d):d=t[13],d}),eh=Ni("name"),th=Ni("quantity"),sh=Ni("value"),nh=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(Zu,{children:l.jsxs(Ut,{children:[l.jsx(on,{className:"w-7"}),l.jsx(ih,{}),l.jsx(ah,{}),l.jsx(oh,{})]})}),e[0]=t):t=e[0],t}),ih=v.memo(function(){const e=j.c(5),t=b(cm),{t:s}=k();let i;e[0]!==t?(i=t&&l.jsx(Ri,{}),e[0]=t,e[1]=i):i=e[1];let o;return e[2]!==s.Name||e[3]!==i?(o=l.jsx(on,{children:l.jsxs(se,{variant:"ghost",size:"sm",className:"w-full justify-start gap-1",onClick:eh,children:[s.Name," ",i]})}),e[2]=s.Name,e[3]=i,e[4]=o):o=e[4],o}),oh=v.memo(function(){const e=j.c(5),t=b(dm),{t:s}=k();let i;e[0]!==t?(i=t&&l.jsx(Ri,{}),e[0]=t,e[1]=i):i=e[1];let o;return e[2]!==s.Quantity||e[3]!==i?(o=l.jsx(on,{className:"w-28 text-right",children:l.jsxs(se,{variant:"ghost",size:"sm",className:"w-full justify-start gap-1",onClick:th,children:[s.Quantity," ",i]})}),e[2]=s.Quantity,e[3]=i,e[4]=o):o=e[4],o}),ah=v.memo(function(){const e=j.c(5),t=b(mm),{t:s}=k();let i;e[0]!==t?(i=t&&l.jsx(Ri,{}),e[0]=t,e[1]=i):i=e[1];let o;return e[2]!==s.Value||e[3]!==i?(o=l.jsx(on,{className:"w-28 text-right",children:l.jsxs(se,{variant:"ghost",size:"sm",className:"w-full justify-start gap-1",onClick:sh,children:[s.Value,i]})}),e[2]=s.Value,e[3]=i,e[4]=o):o=e[4],o}),Ri=v.memo(function(){return b(rm)?Rs:Ls}),lh=v.memo(function(e){const t=j.c(67),{location:s,itemId:i,small:o}=e,{f:a}=G(),{t:r}=k();let c;t[0]!==i||t[1]!==s?(c=Tt(s,i),t[0]=i,t[1]=s,t[2]=c):c=t[2];const d=b(c);let m;t[3]!==i?(m=oe(i),t[3]=i,t[4]=m):m=t[4];const f=b(m);let u;t[5]!==i?(u=zm(i),t[5]=i,t[6]=u):u=t[6];const g=b(u),h=v.use(Al);let p;t[7]!==i||t[8]!==s||t[9]!==h?(p=()=>{qm(i,s),h&&h(!0)},t[7]=i,t[8]=s,t[9]=h,t[10]=p):p=t[10];const x=p,I=ze(f);if(f)if(o){let y;t[11]!==g?(y=L(ut.row,{"bg-muted":g}),t[11]=g,t[12]=y):y=t[12];let S;t[13]!==i?(S=l.jsx("span",{className:"pr-2 text-right align-middle",children:l.jsx(rt,{itemId:i})}),t[13]=i,t[14]=S):S=t[14];let C;t[15]!==I?(C=l.jsx("span",{children:I}),t[15]=I,t[16]=C):C=t[16];let w;t[17]!==S||t[18]!==C?(w=l.jsxs("span",{className:ut.smallRow,children:[S,C]}),t[17]=S,t[18]=C,t[19]=w):w=t[19];let N;t[20]!==r.Quantity?(N=l.jsx("span",{className:ut.smallRowHeader,children:r.Quantity}),t[20]=r.Quantity,t[21]=N):N=t[21];let A;t[22]!==a||t[23]!==d?(A=a(d),t[22]=a,t[23]=d,t[24]=A):A=t[24];let _;t[25]!==N||t[26]!==A?(_=l.jsxs("span",{className:ut.smallRow,children:[N,A]}),t[25]=N,t[26]=A,t[27]=_):_=t[27];let P;t[28]!==r.Value?(P=l.jsx("span",{className:ut.smallRowHeader,children:r.Value}),t[28]=r.Value,t[29]=P):P=t[29];let E;t[30]!==a||t[31]!==f.value?(E=a(f.value),t[30]=a,t[31]=f.value,t[32]=E):E=t[32];let $;t[33]!==P||t[34]!==E?($=l.jsxs("span",{className:ut.smallRow,children:[P,E]}),t[33]=P,t[34]=E,t[35]=$):$=t[35];let M;t[36]!==_||t[37]!==$||t[38]!==w?(M=l.jsxs(Re,{children:[w,_,$]}),t[36]=_,t[37]=$,t[38]=w,t[39]=M):M=t[39];let q;return t[40]!==x||t[41]!==M||t[42]!==y?(q=l.jsx(Ut,{onClick:x,className:y,children:M}),t[40]=x,t[41]=M,t[42]=y,t[43]=q):q=t[43],q}else{let y;t[44]!==g?(y=L(ut.row,{"bg-muted":g}),t[44]=g,t[45]=y):y=t[45];let S;t[46]!==i?(S=l.jsx(Re,{children:l.jsx(rt,{itemId:i})}),t[46]=i,t[47]=S):S=t[47];let C;t[48]!==I?(C=l.jsx(Re,{children:I}),t[48]=I,t[49]=C):C=t[49];let w;t[50]!==a||t[51]!==f.value?(w=a(f.value),t[50]=a,t[51]=f.value,t[52]=w):w=t[52];let N;t[53]!==w?(N=l.jsx(Re,{className:"text-right",children:w}),t[53]=w,t[54]=N):N=t[54];let A;t[55]!==a||t[56]!==d?(A=a(d),t[55]=a,t[56]=d,t[57]=A):A=t[57];let _;t[58]!==A?(_=l.jsx(Re,{className:"text-right",children:A}),t[58]=A,t[59]=_):_=t[59];let P;return t[60]!==x||t[61]!==_||t[62]!==y||t[63]!==S||t[64]!==C||t[65]!==N?(P=l.jsxs(Ut,{onClick:x,className:y,children:[S,C,N,_]}),t[60]=x,t[61]=_,t[62]=y,t[63]=S,t[64]=C,t[65]=N,t[66]=P):P=t[66],P}}),rh=(n,e)=>W(t=>{re.update(t.activities,n,{max:e})}),ch=n=>{n&&W(e=>{const t=re.select(e.activities,n);if(!t)return;const s=xs.get(t.type);s&&s(e,t)})},dh="_container_1y7uj_1",mh="_icon_1y7uj_29",fh="_title_1y7uj_43",uh="_actions_1y7uj_53",gh="_num_1y7uj_71",cs={container:dh,icon:mh,title:fh,actions:uh,num:gh},hh=l.jsx(No,{className:"h-4 w-4"}),ph=v.memo(function(){const e=j.c(2),t=b(eg);let s;return e[0]!==t?(s=l.jsx(_e,{children:l.jsx(_l,{ids:t,filtered:!1})}),e[0]=t,e[1]=s):s=e[1],s}),_l=v.memo(function(e){const t=j.c(11),{filtered:s,ids:i}=e,o=i.length-1,{t:a}=k();if(i.length===0){let d;return t[0]!==a.NoActivities?(d=l.jsxs(Ze,{variant:"warning",className:"max-w-md",children:[hh,l.jsx(ot,{children:a.NoActivities})]}),t[0]=a.NoActivities,t[1]=d):d=t[1],d}let r;if(t[2]!==s||t[3]!==i||t[4]!==o){let d;t[6]!==s||t[7]!==o?(d=(m,f)=>l.jsx(bh,{id:m,isFirst:f===0,isLast:f>=o,filtered:s},m),t[6]=s,t[7]=o,t[8]=d):d=t[8],r=i.map(d),t[2]=s,t[3]=i,t[4]=o,t[5]=r}else r=t[5];let c;return t[9]!==r?(c=l.jsx(ce,{className:"max-w-lg",children:l.jsx(de,{children:r})}),t[9]=r,t[10]=c):c=t[10],c}),xh=l.jsx(zn,{className:"text-lg"}),Ih=l.jsx(Vn,{className:"text-lg"}),bh=v.memo(function(e){const t=j.c(56),{id:s,isFirst:i,isLast:o,filtered:a}=e,{t:r}=k();let c;t[0]!==s?(c=H=>tg(s)(H),t[0]=s,t[1]=c):c=t[1];const d=b(c);let m;t[2]!==s?(m=H=>sg(s)(H),t[2]=s,t[3]=m):m=t[3];const f=b(m);let u;t[4]!==s?(u=H=>wl(s)(H),t[4]=s,t[5]=u):u=t[5];const g=b(u);let h;t[6]!==s?(h=H=>ig(s)(H),t[6]=s,t[7]=h):h=t[7];const p=b(h);let x;t[8]!==s?(x=()=>lu(s),t[8]=s,t[9]=x):x=t[9];const I=x;let y;t[10]!==s?(y=()=>au(s),t[10]=s,t[11]=y):y=t[11];const S=y;let C;t[12]!==s?(C=()=>Xs(s),t[12]=s,t[13]=C):C=t[13];const w=C;let N;t[14]!==s?(N=()=>ch(s),t[14]=s,t[15]=N):N=t[15];const A=N;let _;t[16]!==s?(_=H=>{const De=parseInt(H.target.value);De&&!isNaN(De)&&De>0&&De<100&&rh(s,De)},t[16]=s,t[17]=_):_=t[17];const P=_,E=te[f];let $;t[18]!==E?($=l.jsx("div",{className:cs.icon,children:E}),t[18]=E,t[19]=$):$=t[19];let M;t[20]!==d?(M=l.jsx("div",{className:"text-md leading-none font-medium",children:d}),t[20]=d,t[21]=M):M=t[21];let q;t[22]!==s?(q=l.jsx(jh,{id:s}),t[22]=s,t[23]=q):q=t[23];let F;t[24]!==M||t[25]!==q?(F=l.jsxs("div",{className:cs.title,children:[M,q]}),t[24]=M,t[25]=q,t[26]=F):F=t[26];let U;t[27]!==a||t[28]!==i||t[29]!==I?(U=!a&&!i&&l.jsx(se,{onClick:I,variant:"ghost",children:xh}),t[27]=a,t[28]=i,t[29]=I,t[30]=U):U=t[30];let K;t[31]!==a||t[32]!==o||t[33]!==S||t[34]!==r.MoveDown?(K=!a&&!o&&l.jsx(se,{"aria-label":r.MoveDown,onClick:S,variant:"ghost",children:Ih}),t[31]=a,t[32]=o,t[33]=S,t[34]=r.MoveDown,t[35]=K):K=t[35];let z;t[36]!==A||t[37]!==r.Remove||t[38]!==p?(z=p&&l.jsx(se,{"aria-label":r.Remove,color:"error",onClick:A,variant:"ghost",className:"text-muted-foreground",children:Pd}),t[36]=A,t[37]=r.Remove,t[38]=p,t[39]=z):z=t[39];let V;t[40]!==g||t[41]!==P?(V=l.jsx(Ea,{type:"number",value:g,className:cs.num,onChange:P,max:99,min:1,step:1}),t[40]=g,t[41]=P,t[42]=V):V=t[42];let Y;t[43]!==w||t[44]!==r.Remove?(Y=l.jsx(se,{"aria-label":r.Remove,color:"error",onClick:w,variant:"ghost",className:"text-muted-foreground",children:Jn}),t[43]=w,t[44]=r.Remove,t[45]=Y):Y=t[45];let X;t[46]!==U||t[47]!==K||t[48]!==z||t[49]!==V||t[50]!==Y?(X=l.jsxs("div",{className:cs.actions,children:[U,K,z,V,Y]}),t[46]=U,t[47]=K,t[48]=z,t[49]=V,t[50]=Y,t[51]=X):X=t[51];let ne;return t[52]!==$||t[53]!==F||t[54]!==X?(ne=l.jsxs("div",{className:cs.container,children:[$,F,X]}),t[52]=$,t[53]=F,t[54]=X,t[55]=ne):ne=t[55],ne}),jh=v.memo(function(e){const t=j.c(17),{id:s}=e,{t:i}=k(),{f:o}=G();let a;t[0]!==s?(a=wl(s),t[0]=s,t[1]=a):a=t[1];const r=b(a);let c;t[2]!==s?(c=I=>I.activityId===s,t[2]=s,t[3]=c):c=t[3];const d=b(c);let m;t[4]!==d?(m=I=>d?I.activityDone+1:0,t[4]=d,t[5]=m):m=t[5];const f=b(m),u=d?"default":"secondary",g=d?i.Active:i.InQueue;let h;t[6]!==f||t[7]!==o?(h=o(f),t[6]=f,t[7]=o,t[8]=h):h=t[8];let p;t[9]!==o||t[10]!==r?(p=o(r),t[9]=o,t[10]=r,t[11]=p):p=t[11];let x;return t[12]!==u||t[13]!==g||t[14]!==h||t[15]!==p?(x=l.jsxs(st,{variant:u,children:[g," ",h,"/",p]}),t[12]=u,t[13]=g,t[14]=h,t[15]=p,t[16]=x):x=t[16],x});function cn(n){return n.type===Q.Crafting}const dn=(n,e)=>{const t=re.selectEx(n.activities,e);if(!cn(t))throw new Error(`Activity ${e} is not a crafting activity`);return t},yh=n=>n.recipeId,vh=n=>n.craftingForm.params,Sh=n=>e=>e.craftingForm.paramsValue.find(t=>t.id===n),Ch=n=>n.craftingForm.result?.results,wh=n=>n.craftingForm.result?.requirements,Li=n=>n.ui.recipeType,kh=n=>n.craftingForm.result!==void 0&&n.craftingForm.result.results.some(e=>e.craftedItem||e.stdItemId),Nh=n=>n.craftingForm.result?.time,Dh=n=>{const e=n.activities,t=n.recipeId,s=n.craftingForm.paramsValue,i=s.length;return re.find(e,a=>!cn(a)||a.recipeId!==t||i!==a.paramsValue.length?!1:!!Ro(a.paramsValue,s))?.id??null},Ah=n=>e=>{if(!n)return 0;if(n.stdItemId)return Tt(null,n.stdItemId)(e);if(n.craftedItem){const t=va(e.craftedItems,n.craftedItem);return t?Tt(null,t)(e):0}return 0},_h=we(n=>re.findManyIds(n.activities,e=>cn(e)&&xe.get(e.recipeId)?.type===n.ui.recipeType)),Tl={[he.Woodworking]:{expType:ae.Woodworking},[he.Smithing]:{expType:ae.Smithing},[he.Butchering]:{expType:ae.Butchering},[he.Alchemy]:{expType:ae.Alchemy}},Th=n=>Js(Q.Crafting,n),Mh=n=>{if(!n.craftingForm.result)return n;const e={recipeId:n.recipeId,paramsValue:n.craftingForm.paramsValue,result:n.craftingForm.result};Th(e)(n)},Ph=()=>W(Mh),Eh=n=>m1(n?.id||null);function os(n,e){let t=0;for(const i of n)t+=i.value;let s=1;for(const i of n)i.craftingData&&(s*=i.craftingData.prestige);return Math.floor(t*s)}function as(n){return n.length*1500}const mn=n=>{const e=j.c(8),{itemId:t}=n;let s;e[0]!==t?(s=c=>t?oe(t)(c):null,e[0]=t,e[1]=s):s=e[1];const i=b(s),o=ze(i);if(!i){let c;return e[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(l.Fragment,{}),e[2]=c):c=e[2],c}let a;e[3]!==i.id?(a=l.jsx(rt,{itemId:i.id}),e[3]=i.id,e[4]=a):a=e[4];let r;return e[5]!==o||e[6]!==a?(r=l.jsxs("span",{className:"flex items-center gap-1",children:[a,o]}),e[5]=o,e[6]=a,e[7]=r):r=e[7],r},Ml=v.memo(function(e){const t=j.c(17),{itemFilter:s,onValueChange:i,selectedValue:o,placeholderText:a,label:r}=e;let c;t[0]!==s?(c=h=>oi(h,s),t[0]=s,t[1]=c):c=t[1];const d=b(St(c)),m=o??null;let f;t[2]!==a||t[3]!==o?(f=o?l.jsx("span",{className:"select-trigger",children:l.jsx(mn,{itemId:o})}):a?l.jsx("span",{className:"text-muted-foreground",children:a}):null,t[2]=a,t[3]=o,t[4]=f):f=t[4];let u;if(t[5]!==d||t[6]!==i||t[7]!==o){let h;t[9]!==i||t[10]!==o?(h=p=>l.jsx(Rh,{itemId:p,selected:o===p,onValueChange:i},p),t[9]=i,t[10]=o,t[11]=h):h=t[11],u=d.map(h),t[5]=d,t[6]=i,t[7]=o,t[8]=u}else u=t[8];let g;return t[12]!==r||t[13]!==m||t[14]!==f||t[15]!==u?(g=l.jsx(sn,{label:r,selectedId:m,triggerContent:f,children:u}),t[12]=r,t[13]=m,t[14]=f,t[15]=u,t[16]=g):g=t[16],g}),Rh=v.memo(function(e){const t=j.c(22),{itemId:s,selected:i,onValueChange:o}=e,{t:a}=k(),{f:r}=G();let c;t[0]!==s?(c=oe(s),t[0]=s,t[1]=c):c=t[1];const d=b(c);let m;t[2]!==s?(m=Tt(null,s),t[2]=s,t[3]=m):m=t[3];const f=b(m),u=ze(d),g=d?u:a.None;let h;t[4]!==s||t[5]!==o?(h=()=>o(s),t[4]=s,t[5]=o,t[6]=h):h=t[6];const p=h;let x;t[7]!==s||t[8]!==d?(x=d&&l.jsx(rt,{itemId:s}),t[7]=s,t[8]=d,t[9]=x):x=t[9];let I;t[10]!==r||t[11]!==f?(I=r(f),t[10]=r,t[11]=f,t[12]=I):I=t[12];let y;t[13]!==I?(y=l.jsx(st,{variant:"secondary",children:I}),t[13]=I,t[14]=y):y=t[14];let S;return t[15]!==p||t[16]!==s||t[17]!==i||t[18]!==x||t[19]!==y||t[20]!==g?(S=l.jsx(nn,{value:s,icon:x,rightSlot:y,onSelect:p,selected:i,children:g}),t[15]=p,t[16]=s,t[17]=i,t[18]=x,t[19]=y,t[20]=g,t[21]=S):S=t[21],S});function Pl(n){const e=j.c(65),{itemFilter:t}=n,{f:s}=G(),{t:i,fun:o}=k();if(t.descriptionId)return i[t.descriptionId];if(t.itemId!==void 0){let f;return e[0]!==t.itemId?(f=l.jsx(Lh,{itemId:t.itemId}),e[0]=t.itemId,e[1]=f):f=e[1],f}let a,r;if(e[2]!==s||e[3]!==o||e[4]!==t.armourData||e[5]!==t.equipSlot||e[6]!==t.itemSubType||e[7]!==t.itemType||e[8]!==t.minStats||e[9]!==t.weaponData||e[10]!==i){if(r=[],t.itemType!==void 0){const f=i[t.itemType];let u;e[13]!==f?(u=l.jsx(l.Fragment,{children:f}),e[13]=f,e[14]=u):u=e[14],a=u}else if(t.itemSubType!==void 0){const f=i[t.itemSubType];let u;e[15]!==f?(u=l.jsx(l.Fragment,{children:f}),e[15]=f,e[16]=u):u=e[16],a=u}else{let f;e[17]!==i.items?(f=l.jsx(l.Fragment,{children:i.items}),e[17]=i.items,e[18]=f):f=e[18],a=f}if(t.itemSubType!==void 0){const f=i[t.itemSubType];let u;e[19]!==i.ItemType||e[20]!==f?(u=l.jsxs(l.Fragment,{children:[i.ItemType," ",f]}),e[19]=i.ItemType,e[20]=f,e[21]=u):u=e[21],r.push(u)}if(t.equipSlot!==void 0){const f=i[t.equipSlot];let u;e[22]!==f?(u=l.jsx(l.Fragment,{children:f}),e[22]=f,e[23]=u):u=e[23],r.push(u)}if(t?.minStats?.value!==void 0){let f;e[24]!==i.Value?(f=i.Value.toLowerCase(),e[24]=i.Value,e[25]=f):f=e[25];let u;e[26]!==s||e[27]!==t.minStats.value?(u=s(t.minStats.value),e[26]=s,e[27]=t.minStats.value,e[28]=u):u=e[28];let g;e[29]!==f||e[30]!==u?(g=l.jsxs(l.Fragment,{children:[f," "," >= "," ",u]}),e[29]=f,e[30]=u,e[31]=g):g=e[31],r.push(g)}if(t.weaponData?.attackSpeed!==void 0){let f;e[32]!==i.AttackSpeed?(f=i.AttackSpeed.toLowerCase(),e[32]=i.AttackSpeed,e[33]=f):f=e[33];let u;e[34]!==o||e[35]!==t.weaponData.attackSpeed?(u=o.formatTime(t.weaponData.attackSpeed),e[34]=o,e[35]=t.weaponData.attackSpeed,e[36]=u):u=e[36];let g;e[37]!==f||e[38]!==u?(g=l.jsxs(l.Fragment,{children:[f," >= ",u]}),e[37]=f,e[38]=u,e[39]=g):g=e[39],r.push(g)}if(t.weaponData?.damage!==void 0){let f;if(e[40]!==s||e[41]!==t.weaponData.damage||e[42]!==i){let u;e[44]!==s||e[45]!==i?(u=g=>l.jsxs("span",{children:[i[Wt[g[0]].DamageName].toLowerCase()," ",s(g[1])]},g[0]),e[44]=s,e[45]=i,e[46]=u):u=e[46],f=Object.entries(t.weaponData.damage).sort().map(u),e[40]=s,e[41]=t.weaponData.damage,e[42]=i,e[43]=f}else f=e[43];r.push(...f)}if(t.armourData!==void 0){let f;if(e[47]!==s||e[48]!==t.armourData||e[49]!==i){let u;e[51]!==s||e[52]!==i?(u=g=>l.jsxs("span",{children:[i[Wt[g[0]].DamageName].toLowerCase()," ",s(g[1])]},g[0]),e[51]=s,e[52]=i,e[53]=u):u=e[53],f=Object.entries(t.armourData).sort().map(u),e[47]=s,e[48]=t.armourData,e[49]=i,e[50]=f}else f=e[50];r.push(...f)}e[2]=s,e[3]=o,e[4]=t.armourData,e[5]=t.equipSlot,e[6]=t.itemSubType,e[7]=t.itemType,e[8]=t.minStats,e[9]=t.weaponData,e[10]=i,e[11]=r,e[12]=a}else r=e[11],a=e[12];if(r.length===1){let f;e[54]!==a||e[55]!==i.with1?(f=l.jsxs(l.Fragment,{children:[a," ",i.with1]}),e[54]=a,e[55]=i.with1,e[56]=f):f=e[56],a=f}else if(r.length>1){let f;e[57]!==a||e[58]!==i.withProps?(f=l.jsxs(l.Fragment,{children:[a," ",i.withProps]}),e[57]=a,e[58]=i.withProps,e[59]=f):f=e[59],a=f}const c=a;let d;e[60]!==r?(d=r.map((f,u)=>l.jsxs(v.Fragment,{children:[f,u<r.length-1&&" , "]},u)),e[60]=r,e[61]=d):d=e[61];let m;return e[62]!==a||e[63]!==d?(m=l.jsxs(l.Fragment,{children:[" ",c," ",d]}),e[62]=a,e[63]=d,e[64]=m):m=e[64],m}function Lh(n){const e=j.c(5),{itemId:t}=n;let s;e[0]!==t?(s=c=>oe(t)(c),e[0]=t,e[1]=s):s=e[1];const i=b(s),o=ze(i);if(!i)return;const a=te[i.icon];let r;return e[2]!==o||e[3]!==a?(r=l.jsxs("span",{children:[a," ",o]}),e[2]=o,e[3]=a,e[4]=r):r=e[4],r}const io=Ge(n=>n.replace(/(\{[a-zA-Z0-9_]+\})/g,"").replace(/\s{2,}/g," ").trim(),{maxSize:1e3});function El(n){return"stability"in n}const $h=v.memo(function(e){const t=j.c(43),{result:s}=e,{t:i}=k(),{f:o}=G();if(!s||s.potionResult===je.NotPotion)return null;const a=i.Stability;let r;t[0]!==o||t[1]!==s.stability?(r=o(s.stability),t[0]=o,t[1]=s.stability,t[2]=r):r=t[2];let c;t[3]!==o||t[4]!==s.potionResultBonusList||t[5]!==s.stability||t[6]!==i.Stability?(c=s.potionResultBonusList&&l.jsx(Pe,{title:`${i.Stability} ${o(s.stability)}%`,selectBonusResult:s.potionResultBonusList}),t[3]=o,t[4]=s.potionResultBonusList,t[5]=s.stability,t[6]=i.Stability,t[7]=c):c=t[7];let d;t[8]!==i.Stability||t[9]!==r||t[10]!==c?(d=l.jsxs(Ie,{className:"mb-1",children:[a," ",r,"%",c]}),t[8]=i.Stability,t[9]=r,t[10]=c,t[11]=d):d=t[11];let m;t[12]!==s.potionResult||t[13]!==i.NormalPotionDesc||t[14]!==i.Stable?(m=s.potionResult===je.Stable&&l.jsxs(Ze,{variant:"success",children:[l.jsx(Xc,{}),l.jsx(ot,{children:i.Stable}),l.jsx(gt,{children:i.NormalPotionDesc})]}),t[12]=s.potionResult,t[13]=i.NormalPotionDesc,t[14]=i.Stable,t[15]=m):m=t[15];let f;t[16]!==s.potionResult||t[17]!==i.Unstable||t[18]!==i.UnstablePotionDesc?(f=s.potionResult===je.Unstable&&l.jsxs(Ze,{variant:"warning",children:[l.jsx(ls,{}),l.jsx(ot,{children:i.Unstable}),l.jsx(gt,{children:i.UnstablePotionDesc})]}),t[16]=s.potionResult,t[17]=i.Unstable,t[18]=i.UnstablePotionDesc,t[19]=f):f=t[19];let u;t[20]!==s.potionResult||t[21]!==i.Chaotic||t[22]!==i.ChaoticPotionDesc?(u=s.potionResult===je.Chaotic&&l.jsxs(Ze,{variant:"destructive",children:[l.jsx(ls,{}),l.jsx(ot,{children:i.Chaotic}),l.jsx(gt,{children:i.ChaoticPotionDesc})]}),t[20]=s.potionResult,t[21]=i.Chaotic,t[22]=i.ChaoticPotionDesc,t[23]=u):u=t[23];let g;t[24]!==s.potionResult||t[25]!==i.Unknown||t[26]!==i.UnknownPotionDesc?(g=s.potionResult===je.Unknown&&l.jsxs(Ze,{variant:"warning",children:[l.jsx(ls,{}),l.jsx(ot,{children:i.Unknown}),l.jsx(gt,{children:i.UnknownPotionDesc})]}),t[24]=s.potionResult,t[25]=i.Unknown,t[26]=i.UnknownPotionDesc,t[27]=g):g=t[27];let h;t[28]!==s.stability||t[29]!==i.LowStabilityNotCraftable||t[30]!==i.LowStabilityNotCraftableDesc?(h=s.stability<0&&l.jsxs(Ze,{variant:"destructive",children:[l.jsx(ls,{}),l.jsx(ot,{children:i.LowStabilityNotCraftable}),l.jsx(gt,{children:i.LowStabilityNotCraftableDesc})]}),t[28]=s.stability,t[29]=i.LowStabilityNotCraftable,t[30]=i.LowStabilityNotCraftableDesc,t[31]=h):h=t[31];let p;t[32]!==s.unknownEffects||t[33]!==i.UnknownEffects?(p=s.unknownEffects&&l.jsxs(Ze,{variant:"warning",children:[l.jsx(ls,{}),l.jsx(gt,{children:i.UnknownEffects})]}),t[32]=s.unknownEffects,t[33]=i.UnknownEffects,t[34]=p):p=t[34];let x;return t[35]!==p||t[36]!==d||t[37]!==m||t[38]!==f||t[39]!==u||t[40]!==g||t[41]!==h?(x=l.jsxs("div",{className:"mb-2 flex flex-col gap-2",children:[d,m,f,u,g,h,p]}),t[35]=p,t[36]=d,t[37]=m,t[38]=f,t[39]=u,t[40]=g,t[41]=h,t[42]=x):x=t[42],x}),Bh=v.memo(function(e){const t=j.c(11),{result:s}=e;if(!s)return null;let i,o;t[0]!==s?(o=El(s),t[0]=s,t[1]=o):o=t[1];const a=o;a?i=s.uiCraftedItem:s.craftedItem?i=s.craftedItem:s.stdItemId&&(i=Vt[s.stdItemId]);let r;t[2]!==a||t[3]!==s?(r=a?l.jsx($h,{result:s}):null,t[2]=a,t[3]=s,t[4]=r):r=t[4];const c=r;if(!i){if(c){let m;return t[5]!==c?(m=l.jsx(l.Fragment,{children:c}),t[5]=c,t[6]=m):m=t[6],m}return null}let d;return t[7]!==c||t[8]!==i||t[9]!==s?(d=l.jsx(qh,{result:s,item:i,info:c}),t[7]=c,t[8]=i,t[9]=s,t[10]=d):d=t[10],d}),qh=v.memo(function(e){const t=j.c(26),{result:s,info:i,item:o}=e,{t:a}=k(),{f:r}=G(),c=ze(o);let d;t[0]!==o?(d=l.jsx(rt,{itemId:o}),t[0]=o,t[1]=d):d=t[1];let m;t[2]!==c||t[3]!==d?(m=l.jsx(pe,{title:c,icon:d}),t[2]=c,t[3]=d,t[4]=m):m=t[4];const f=a.Quantity;let u;t[5]!==r||t[6]!==s.qta?(u=r(s.qta),t[5]=r,t[6]=s.qta,t[7]=u):u=t[7];let g;t[8]!==s?(g=l.jsx(Oh,{result:s}),t[8]=s,t[9]=g):g=t[9];let h;t[10]!==a.YouHave||t[11]!==g?(h=l.jsxs("span",{className:"text-muted-foreground",children:[a.YouHave," ",g]}),t[10]=a.YouHave,t[11]=g,t[12]=h):h=t[12];let p;t[13]!==a.Quantity||t[14]!==u||t[15]!==h?(p=l.jsxs(Ie,{children:[f," ",u," ",h]}),t[13]=a.Quantity,t[14]=u,t[15]=h,t[16]=p):p=t[16];let x;t[17]!==o?(x=l.jsx(xi,{item:o}),t[17]=o,t[18]=x):x=t[18];let I;t[19]!==i||t[20]!==p||t[21]!==x?(I=l.jsx(de,{children:l.jsxs("div",{className:"text-sm",children:[p,i,x]})}),t[19]=i,t[20]=p,t[21]=x,t[22]=I):I=t[22];let y;return t[23]!==m||t[24]!==I?(y=l.jsxs(l.Fragment,{children:[m,I]}),t[23]=m,t[24]=I,t[25]=y):y=t[25],y}),Oh=v.memo(function(e){const t=j.c(5),{result:s}=e,{f:i}=G();let o;t[0]!==s?(o=Ah(s),t[0]=s,t[1]=o):o=t[1];const a=b(o);let r;return t[2]!==i||t[3]!==a?(r=i(a),t[2]=i,t[3]=a,t[4]=r):r=t[4],r}),Hh=v.memo(function(e){const t=j.c(4),{req:s}=e;if(!s)return null;let i;t[0]!==s?(i=s.map(Uh),t[0]=s,t[1]=i):i=t[1];let o;return t[2]!==i?(o=l.jsx(bi,{children:l.jsx(ji,{children:i})}),t[2]=i,t[3]=o):o=t[3],o}),Fh=v.memo(function(e){const t=j.c(18),{req:s}=e,{f:i}=G();let o;t[0]!==s.itemId?(o=oe(s.itemId),t[0]=s.itemId,t[1]=o):o=t[1];const a=b(o),r=ze(a);if(!a)return null;let c;t[2]!==a.id?(c=l.jsx(Re,{children:l.jsx(rt,{itemId:a.id})}),t[2]=a.id,t[3]=c):c=t[3];let d;t[4]!==r?(d=l.jsx(Re,{width:"100%",children:r}),t[4]=r,t[5]=d):d=t[5];let m;t[6]!==i||t[7]!==s.qta?(m=i(s.qta),t[6]=i,t[7]=s.qta,t[8]=m):m=t[8];let f;t[9]!==s.itemId?(f=l.jsxs("span",{className:"text-muted-foreground",children:["/ ",l.jsx(Wh,{itemId:s.itemId})]}),t[9]=s.itemId,t[10]=f):f=t[10];let u;t[11]!==m||t[12]!==f?(u=l.jsx(Re,{children:l.jsxs("span",{className:"text-nowrap",children:[m,f]})}),t[11]=m,t[12]=f,t[13]=u):u=t[13];let g;return t[14]!==c||t[15]!==d||t[16]!==u?(g=l.jsxs(Ut,{children:[c,d,u]}),t[14]=c,t[15]=d,t[16]=u,t[17]=g):g=t[17],g}),Wh=v.memo(function(e){const t=j.c(5),{itemId:s}=e,{f:i}=G();let o;t[0]!==s?(o=Tt(null,s),t[0]=s,t[1]=o):o=t[1];const a=b(o);let r;return t[2]!==i||t[3]!==a?(r=i(a),t[2]=i,t[3]=a,t[4]=r):r=t[4],r});function Uh(n){return l.jsx(Fh,{req:n},n.itemId)}const Qh="_craftingForm_xtjoa_1",Gh="_timeBadge_xtjoa_11",Rl={craftingForm:Qh,timeBadge:Gh},oo={},Vh=n=>{const e=oo[n];if(e)return e;const t=[],s=xe.values();for(const i of s)i.type===n&&t.push(i);return oo[n]=t,t},zh=v.memo(function(){const e=j.c(25),t=b(Ch),s=b(wh),i=b(Li),{t:o}=k();if(!i)return;const a=Tl[i];let r;e[0]!==a.expType?(r=l.jsx("div",{className:"page__info",children:l.jsx(en,{expType:a.expType,charId:ie})}),e[0]=a.expType,e[1]=r):r=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(Yh,{}),e[2]=c):c=e[2];let d;e[3]!==o.Results?(d=l.jsx(pe,{title:o.Results}),e[3]=o.Results,e[4]=d):d=e[4];let m;e[5]!==t?(m=t&&t?.map(tp),e[5]=t,e[6]=m):m=e[6];let f;e[7]!==d||e[8]!==m?(f=l.jsxs(ce,{children:[d,m]}),e[7]=d,e[8]=m,e[9]=f):f=e[9];let u;e[10]!==o.Requirements?(u=l.jsx(pe,{title:o.Requirements}),e[10]=o.Requirements,e[11]=u):u=e[11];let g;e[12]!==s?(g=l.jsx(de,{children:l.jsx(Hh,{req:s})}),e[12]=s,e[13]=g):g=e[13];let h;e[14]!==u||e[15]!==g?(h=l.jsxs(ce,{children:[u,g]}),e[14]=u,e[15]=g,e[16]=h):h=e[16];let p;e[17]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(Kh,{}),e[17]=p):p=e[17];let x;e[18]!==i||e[19]!==f||e[20]!==h?(x=l.jsxs(_e,{className:"page__main",children:[c,f,h,p]},i),e[18]=i,e[19]=f,e[20]=h,e[21]=x):x=e[21];let I;return e[22]!==r||e[23]!==x?(I=l.jsx(ss,{header:r,children:x}),e[22]=r,e[23]=x,e[24]=I):I=e[24],I}),Kh=v.memo(function(){const e=j.c(2),t=b(_h);let s;return e[0]!==t?(s=l.jsx(_l,{ids:t,filtered:!0}),e[0]=t,e[1]=s):s=e[1],s}),Yh=v.memo(function(){const e=j.c(11),t=b(Li),s=b(vh),{t:i}=k();if(!t)return null;let o;e[0]!==i.Recipe?(o=l.jsx(pe,{title:i.Recipe}),e[0]=i.Recipe,e[1]=o):o=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(Xh,{}),e[2]=a):a=e[2];let r;e[3]!==s?(r=s.map(sp),e[3]=s,e[4]=r):r=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(Zh,{}),e[5]=c):c=e[5];let d;e[6]!==r?(d=l.jsx(de,{children:l.jsxs("div",{className:Rl.craftingForm,children:[a,r,c]})}),e[6]=r,e[7]=d):d=e[7];let m;return e[8]!==o||e[9]!==d?(m=l.jsxs(ce,{children:[o,d]}),e[8]=o,e[9]=d,e[10]=m):m=e[10],m}),Xh=v.memo(function(){const e=j.c(23),t=b(Li),s=b(yh),{t:i}=k();if(!t)return;let o,a,r,c,d;if(e[0]!==s||e[1]!==t||e[2]!==i){const f=Vh(t);let u;e[8]!==s?(u=xe.get(s),e[8]=s,e[9]=u):u=e[9];const g=u,h=g&&te[g.iconId];o=sn,a=i.Recipe,r=g?.id??null,e[10]!==h||e[11]!==g||e[12]!==i?(c=g?l.jsxs("span",{className:"select-trigger",children:[h," ",io(i[g.nameId])]}):`-- ${i.SelectARecipe} --`,e[10]=h,e[11]=g,e[12]=i,e[13]=c):c=e[13];let p;e[14]!==s||e[15]!==i?(p=x=>l.jsx(nn,{value:x.id,icon:te[x.iconId],onSelect:()=>Eh(x),selected:x.id===s,children:io(i[x.nameId])},x.id),e[14]=s,e[15]=i,e[16]=p):p=e[16],d=f.map(p),e[0]=s,e[1]=t,e[2]=i,e[3]=o,e[4]=a,e[5]=r,e[6]=c,e[7]=d}else o=e[3],a=e[4],r=e[5],c=e[6],d=e[7];let m;return e[17]!==o||e[18]!==a||e[19]!==r||e[20]!==c||e[21]!==d?(m=l.jsx(o,{label:a,selectedId:r,triggerContent:c,children:d}),e[17]=o,e[18]=a,e[19]=r,e[20]=c,e[21]=d,e[22]=m):m=e[22],m}),Zh=v.memo(function(){const e=j.c(23),{t,fun:s}=k(),i=b(Nh),o=b(Dh),a=b(kh);let r;e[0]!==o?(r=()=>Xs(o),e[0]=o,e[1]=r):r=e[1];const c=r;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Zc,{}),e[2]=d):d=e[2];let m;e[3]!==s||e[4]!==i?(m=i?s.formatTime(i):"-",e[3]=s,e[4]=i,e[5]=m):m=e[5];let f;e[6]!==m?(f=l.jsxs(st,{className:Rl.timeBadge,variant:"secondary",children:[d,m]}),e[6]=m,e[7]=f):f=e[7];let u;e[8]!==a||e[9]!==o||e[10]!==t?(u=o===null&&l.jsx(se,{type:"submit",className:"w-min",onClick:Ph,disabled:!a,children:t.Craft}),e[8]=a,e[9]=o,e[10]=t,e[11]=u):u=e[11];let g;e[12]!==o||e[13]!==c||e[14]!==t?(g=o!==null&&l.jsx(se,{type:"submit",className:"w-min",variant:"destructive",onClick:c,children:t.Remove}),e[12]=o,e[13]=c,e[14]=t,e[15]=g):g=e[15];let h;e[16]!==o?(h=l.jsx(fi,{actionId:o,color:"primary"}),e[16]=o,e[17]=h):h=e[17];let p;return e[18]!==f||e[19]!==u||e[20]!==g||e[21]!==h?(p=l.jsxs(l.Fragment,{children:[f,u,g,h]}),e[18]=f,e[19]=u,e[20]=g,e[21]=h,e[22]=p):p=e[22],p}),Jh=v.memo(function(e){const t=j.c(2),{recipeParam:s}=e;if(Qd(s)){let i;return t[0]!==s?(i=l.jsx(ep,{recipeParam:s}),t[0]=s,t[1]=i):i=t[1],i}}),ep=v.memo(function(e){const t=j.c(11),{recipeParam:s}=e;let i;t[0]!==s.id?(i=Sh(s.id),t[0]=s.id,t[1]=i):i=t[1];const o=b(i);let a;t[2]!==s.id?(a=f=>f1(s.id,f),t[2]=s.id,t[3]=a):a=t[3];const r=a,c=o?.itemId;let d;t[4]!==s.itemFilter?(d=l.jsx(Pl,{itemFilter:s.itemFilter}),t[4]=s.itemFilter,t[5]=d):d=t[5];let m;return t[6]!==r||t[7]!==s.itemFilter||t[8]!==c||t[9]!==d?(m=l.jsx(Ml,{itemFilter:s.itemFilter,selectedValue:c,onValueChange:r,label:d}),t[6]=r,t[7]=s.itemFilter,t[8]=c,t[9]=d,t[10]=m):m=t[10],m});function tp(n){return l.jsx(de,{children:l.jsx(Bh,{result:n})},n.id)}function sp(n){return l.jsx(Jh,{recipeParam:n},n.id)}const np=v.memo(function(){const e=j.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(Pi,{asChild:!0,children:l.jsxs(se,{variant:"outline",size:"icon",children:[l.jsx(Jc,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),l.jsx(ed,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e[0]=t):t=e[0];let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs(Mi,{children:[t,l.jsxs(Ei,{align:"end",children:[l.jsx(Ee,{onClick:ip,children:"Light"}),l.jsx(Ee,{onClick:op,children:"Dark"}),l.jsx(Ee,{onClick:ap,children:"System"}),l.jsx(qg,{}),l.jsx(Ee,{onClick:lp,children:"Zinc"}),l.jsx(Ee,{onClick:rp,children:"Blue"}),l.jsx(Ee,{onClick:cp,children:"Green"}),l.jsx(Ee,{onClick:dp,children:"Violet"})]})]}),e[1]=s):s=e[1],s});function ip(){return ki("light")}function op(){return ki("dark")}function ap(){return ki("system")}function lp(){return rn("")}function rp(){return rn("blue")}function cp(){return rn("green")}function dp(){return rn("violet")}const mp=n=>Js(Q.Mining,{oreType:n,isMining:!0}),fp=n=>W(e=>mp(n)(e)),Ll={nameId:"Base",iconId:D.Pickaxe};function $l(n){const e=R.selectEx(n.characters,ie).inventory[ge.Pickaxe];if(e)return oe(e.itemId)(n)}const up={id:"base",add:ks.time,...Ll},gp=ua(Fe.FAST_MINING,{multi:-1*Ko}),Bl=n=>{const e=$l(n),t=an(Fe.FAST_MINING)(n),s={total:ks.time,bonuses:[]};return e&&e.pickaxeData?s.bonuses.push(vs(e,{add:e.pickaxeData.time})):s.bonuses.push(up),t&&s.bonuses.push(gp),s.total=Se(s.bonuses),s},ql=n=>Bl(n).total,Ol=we(Bl),hp=n=>Ol(n).total,pp={id:"base",add:ks.damage,...Ll},Hl=n=>{const e=$l(n),t={total:ks.damage,bonuses:[]};return e&&e.pickaxeData?t.bonuses.push(vs(e,{add:e.pickaxeData.damage})):t.bonuses.push(pp),t.total=Se(t.bonuses),t},xp=n=>Hl(n).total,Fl=we(Hl),Ip=n=>Fl(n).total,bp=Object.values(Dt),jp=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(kt,{collapsedId:Z.Mining,children:bp.map(vp)}),e[0]=t):t=e[0],t}),yp=v.memo(function(e){const t=j.c(16),{oreType:s}=e;let i;t[0]!==s?(i=y=>Tu(s)(y),t[0]=s,t[1]=i):i=t[1];const o=i;let a;t[2]!==s?(a=y=>Va(s)(y),t[2]=s,t[3]=a):a=t[3];const r=a;let c;t[4]!==s?(c=()=>x1(s),t[4]=s,t[5]=c):c=t[5];const d=c,m=b(o),f=b(r),u=dt[s],g=ze(u.oreId);let h;t[6]!==u.oreId?(h=l.jsx(rt,{itemId:u.oreId}),t[6]=u.oreId,t[7]=h):h=t[7];const p=h;let x;t[8]!==f||t[9]!==p?(x=yl(p,f),t[8]=f,t[9]=p,t[10]=x):x=t[10];let I;return t[11]!==d||t[12]!==m||t[13]!==x||t[14]!==g?(I=l.jsx(mt,{text:g,collapsedId:Z.Mining,icon:x,active:m,onClick:d}),t[11]=d,t[12]=m,t[13]=x,t[14]=g,t[15]=I):I=t[15],I});function vp(n){return l.jsx(yp,{oreType:n},n)}const Sp=v.memo(function(){const e=j.c(5),t=b(ys);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(jp,{}),e[0]=s):s=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsxs("div",{className:"page__info",children:[l.jsx(en,{expType:ae.Mining,charId:ie}),l.jsx(Ii,{slot:ge.Pickaxe})]}),e[1]=i):i=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Cp,{}),e[2]=o):o=e[2];let a;return e[3]!==t?(a=l.jsx(ss,{sidebar:s,header:i,children:l.jsx(_e,{className:"page__main",children:o},t)}),e[3]=t,e[4]=a):a=e[4],a}),Cp=v.memo(function(){const e=j.c(15),{f:t}=G(),{t:s,fun:i}=k(),o=b(ys);let a;e[0]!==o?(a=p=>Va(o)(p),e[0]=o,e[1]=a):a=e[1];const c=b(a),d=dt[o];if(c){let p;return e[2]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsxs(l.Fragment,{children:[l.jsx(wp,{}),l.jsx(Np,{})]}),e[2]=p):p=e[2],p}let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Yn,{className:"h-4 w-4"}),e[3]=m):m=e[3];let f;e[4]!==s.LevelToLow?(f=l.jsx(ot,{children:s.LevelToLow}),e[4]=s.LevelToLow,e[5]=f):f=e[5];let u;e[6]!==d.requiredLevel||e[7]!==t||e[8]!==i?(u=i.requireMiningLevel(t(d.requiredLevel)),e[6]=d.requiredLevel,e[7]=t,e[8]=i,e[9]=u):u=e[9];let g;e[10]!==u?(g=l.jsx(gt,{children:u}),e[10]=u,e[11]=g):g=e[11];let h;return e[12]!==f||e[13]!==g?(h=l.jsxs(Ze,{variant:"destructive",children:[m,f,g]}),e[12]=f,e[13]=g,e[14]=h):h=e[14],h}),wp=v.memo(function(){const e=j.c(61),{f:t}=G(),{t:s,fun:i}=k(),o=b(ys);let a;e[0]!==o?(a=De=>Qa(De,o),e[0]=o,e[1]=a):a=e[1];const r=b(a);let c;e[2]!==o?(c=De=>Ga(De,o),e[2]=o,e[3]=c):c=e[3];const d=b(c),m=b(Ip),f=b(hp);let u;e[4]!==o?(u=De=>Ns(De,o),e[4]=o,e[5]=u):u=e[5];const g=b(u),h=Math.floor(100*r.hp/g.hp),p=dt[o];let x;e[6]!==s.Mining?(x=l.jsx(pe,{title:s.Mining,icon:te[D.Pickaxe]}),e[6]=s.Mining,e[7]=x):x=e[7];const I=s.OreHp;let y;e[8]!==t||e[9]!==r.hp?(y=t(r.hp),e[8]=t,e[9]=r.hp,e[10]=y):y=e[10];let S;e[11]!==g.hp||e[12]!==t?(S=t(g.hp),e[11]=g.hp,e[12]=t,e[13]=S):S=e[13];let C;e[14]!==S?(C=l.jsxs("span",{className:"text-muted-foreground",children:["/ ",S]}),e[14]=S,e[15]=C):C=e[15];let w;e[16]!==s.OreHp||e[17]!==y||e[18]!==C?(w=l.jsxs(Ie,{children:[I," ",y," ",C]}),e[16]=s.OreHp,e[17]=y,e[18]=C,e[19]=w):w=e[19];const N=s.Armour;let A;e[20]!==t||e[21]!==p.armour?(A=t(p.armour),e[20]=t,e[21]=p.armour,e[22]=A):A=e[22];let _;e[23]!==s.Armour||e[24]!==A?(_=l.jsxs(Ie,{children:[N," ",A]}),e[23]=s.Armour,e[24]=A,e[25]=_):_=e[25];const P=s.Damage;let E;e[26]!==m||e[27]!==t?(E=t(m),e[26]=m,e[27]=t,e[28]=E):E=e[28];let $;e[29]!==s.MiningDamage?($=l.jsx(Pe,{title:s.MiningDamage,selectBonusResult:Fl}),e[29]=s.MiningDamage,e[30]=$):$=e[30];let M;e[31]!==s.Damage||e[32]!==E||e[33]!==$?(M=l.jsxs(Ie,{children:[P," ",E,$]}),e[31]=s.Damage,e[32]=E,e[33]=$,e[34]=M):M=e[34];let q;e[35]!==_||e[36]!==M||e[37]!==w?(q=l.jsxs(Fa,{children:[w,_,M]}),e[35]=_,e[36]=M,e[37]=w,e[38]=q):q=e[38];let F;e[39]!==h?(F=l.jsx(ui,{value:h,color:"health",className:"mb-2"}),e[39]=h,e[40]=F):F=e[40];const U=s.Time;let K;e[41]!==i||e[42]!==f?(K=i.formatTime(f),e[41]=i,e[42]=f,e[43]=K):K=e[43];let z;e[44]!==s.MiningTime?(z=l.jsx(Pe,{title:s.MiningTime,selectBonusResult:Ol,isTime:!0}),e[44]=s.MiningTime,e[45]=z):z=e[45];let V;e[46]!==s.Time||e[47]!==K||e[48]!==z?(V=l.jsxs(Ie,{children:[U," ",K,z]}),e[46]=s.Time,e[47]=K,e[48]=z,e[49]=V):V=e[49];let Y;e[50]!==d?(Y=l.jsx(fi,{actionId:d,color:"primary",className:"mb-2"}),e[50]=d,e[51]=Y):Y=e[51];let X;e[52]!==q||e[53]!==F||e[54]!==V||e[55]!==Y?(X=l.jsxs(de,{children:[q,F,V,Y]}),e[52]=q,e[53]=F,e[54]=V,e[55]=Y,e[56]=X):X=e[56];let ne;e[57]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx(kp,{}),e[57]=ne):ne=e[57];let H;return e[58]!==X||e[59]!==x?(H=l.jsxs(ce,{children:[x,X,ne]}),e[58]=X,e[59]=x,e[60]=H):H=e[60],H}),kp=v.memo(function(){const e=j.c(14),{t}=k(),s=b(ys);let i;e[0]!==s?(i=u=>Ga(u,s),e[0]=s,e[1]=i):i=e[1];const o=b(i);let a;e[2]!==s?(a=()=>fp(s),e[2]=s,e[3]=a):a=e[3];const r=a;let c;e[4]!==o?(c=()=>Xs(o),e[4]=o,e[5]=c):c=e[5];const d=c;let m;if(o){let u;e[9]!==d||e[10]!==t.Stop?(u=l.jsx(se,{onClick:d,variant:"destructive",children:t.Stop}),e[9]=d,e[10]=t.Stop,e[11]=u):u=e[11],m=u}else{let u;e[6]!==r||e[7]!==t.Mine?(u=l.jsx(se,{onClick:r,children:t.Mine}),e[6]=r,e[7]=t.Mine,e[8]=u):u=e[8],m=u}let f;return e[12]!==m?(f=l.jsx(ts,{children:m}),e[12]=m,e[13]=f):f=e[13],f}),Np=v.memo(function(){const e=j.c(30),{f:t}=G(),{t:s,fun:i}=k(),o=b(ys);let a;e[0]!==o?(a=A=>Qa(A,o).qta,e[0]=o,e[1]=a):a=e[1];const r=b(a);let c;e[2]!==o?(c=A=>Ns(A,o),e[2]=o,e[3]=c):c=e[3];const d=b(c),m=Math.floor(100*r/d.qta),f=dt[o],u=ze(f.oreId);let g;e[4]!==i||e[5]!==u?(g=i.OreVein(u),e[4]=i,e[5]=u,e[6]=g):g=e[6];let h;e[7]!==f.oreId?(h=l.jsx(rt,{itemId:f.oreId}),e[7]=f.oreId,e[8]=h):h=e[8];let p;e[9]!==g||e[10]!==h?(p=l.jsx(pe,{title:g,icon:h}),e[9]=g,e[10]=h,e[11]=p):p=e[11];const x=s.OreQta;let I;e[12]!==t||e[13]!==r?(I=t(r),e[12]=t,e[13]=r,e[14]=I):I=e[14];let y;e[15]!==d.qta||e[16]!==t?(y=t(d.qta),e[15]=d.qta,e[16]=t,e[17]=y):y=e[17];let S;e[18]!==s.OreQta||e[19]!==I||e[20]!==y?(S=l.jsxs(Ie,{children:[x," ",I,"/",y]}),e[18]=s.OreQta,e[19]=I,e[20]=y,e[21]=S):S=e[21];let C;e[22]!==m?(C=l.jsx(ui,{value:m,color:"health"}),e[22]=m,e[23]=C):C=e[23];let w;e[24]!==S||e[25]!==C?(w=l.jsxs(de,{children:[S,C]}),e[24]=S,e[25]=C,e[26]=w):w=e[26];let N;return e[27]!==w||e[28]!==p?(N=l.jsxs(ce,{children:[p,w]}),e[27]=w,e[28]=p,e[29]=N):N=e[29],N});var At=(n=>(n.Chicken="Chicken",n.Boar="Boar",n.Wolf="Wolf",n))(At||{});const Wl=[{id:"forest",nameId:"Forest",iconId:D.Forest,collapsedId:Z.Forest,zones:[At.Chicken,At.Boar,At.Wolf]}];var Je=(n=>(n.Chicken="Chicken",n.Boar="Boar",n.Wolf="Wolf",n))(Je||{});const fn={[At.Chicken]:{nameId:"Chicken",iconId:D.Chicken,enemies:[{id:"Chicken",quantity:1,template:Je.Chicken}]},[At.Boar]:{nameId:"Boar",iconId:D.Boar,enemies:[{id:"boar-2",quantity:2,template:Je.Boar}]},[At.Wolf]:{nameId:"Wolves",iconId:D.WolfHead,enemies:[{id:"wolf-3",quantity:3,template:Je.Wolf}]}},Dp=n=>W(e=>{e.ui.battleZone=n}),Ap=n=>e=>e.ui.battleZone===n,_p=n=>n.ui.battleZone,Tp=Ge(n=>{const e={id:He(),templateId:n.id,nameId:n.nameId,iconId:n.iconId,inventory:n.inventory,skillsExp:n.skillsExp,skillsLevel:n.skillsLevel,exp:0,level:n.level,isEnemy:!1,healthPoints:n.healthPoints,staminaPoints:n.staminaPoints,manaPoints:n.manaPoints,health:100,mana:100,stamina:100,combatAbilities:[],allCombatAbilities:Gs.getInitialState(),lastCombatAbilityId:null,lastCombatAbilityNum:0,perks:{},loot:n.loot};return e.health=Ca(e).total,e.mana=ai(e).total,e.stamina=af(e).total,e},{maxSize:100});function $i(n){const e=structuredClone(Tp(n));return e.id=He(),e}const un={[Je.Chicken]:{id:Je.Chicken,nameId:"Chicken",iconId:D.Chicken,inventory:{TwoHand:{itemId:"ChickenBeak"}},skillsExp:{},skillsLevel:{},level:1,healthPoints:-9,staminaPoints:-8,manaPoints:-8,loot:[{quantity:1,itemId:"DeadChicken"}]},[Je.Boar]:{id:Je.Boar,nameId:"Boar",iconId:D.Boar,inventory:{TwoHand:{itemId:"BoarTusk"}},skillsExp:{},skillsLevel:{},level:2,healthPoints:-5,staminaPoints:-3,manaPoints:-8,loot:[{quantity:1,itemId:"DeadBoar"}]},[Je.Wolf]:{id:Je.Wolf,nameId:"Wolf",iconId:D.WolfHead,inventory:{},skillsExp:{},skillsLevel:{},level:3,healthPoints:1,staminaPoints:1,manaPoints:-8,loot:[{quantity:1,itemId:"DeadWolf"}]}},Mp=n=>Js(Q.Battle,{battleZoneEnum:n}),Pp=n=>W(e=>Mp(n)(e)),Ep="_areaCards_1a2fy_1",Rp="_enemyInfoUi_1a2fy_63",Ul={areaCards:Ep,enemyInfoUi:Rp},Lp=v.memo(function(){const e=j.c(15),t=b(_p);let s,i,o,a,r;if(e[0]!==t){const m=Wl.find(f=>f.id===t);i=ss,e[6]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx($p,{}),e[6]=r):r=e[6],s=_e,o=Ul.areaCards,a=m&&m.zones.map(Fp),e[0]=t,e[1]=s,e[2]=i,e[3]=o,e[4]=a,e[5]=r}else s=e[1],i=e[2],o=e[3],a=e[4],r=e[5];let c;e[7]!==s||e[8]!==o||e[9]!==a?(c=l.jsx(s,{className:o,children:a}),e[7]=s,e[8]=o,e[9]=a,e[10]=c):c=e[10];let d;return e[11]!==i||e[12]!==r||e[13]!==c?(d=l.jsx(i,{sidebar:r,children:c}),e[11]=i,e[12]=r,e[13]=c,e[14]=d):d=e[14],d}),$p=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(kt,{collapsedId:Z.Combat,children:Wl.map(Wp)}),e[0]=t):t=e[0],t}),Bp=v.memo(function(e){const t=j.c(9),{bt:s}=e,{t:i}=k();let o;t[0]!==s.id?(o=()=>Dp(s.id),t[0]=s.id,t[1]=o):o=t[1];const a=o;let r;t[2]!==s.id?(r=Ap(s.id),t[2]=s.id,t[3]=r):r=t[3];const c=b(r),d=i[s.nameId],m=te[s.iconId];let f;return t[4]!==c||t[5]!==a||t[6]!==d||t[7]!==m?(f=l.jsx(mt,{collapsedId:Z.Combat,active:c,text:d,icon:m,onClick:a}),t[4]=c,t[5]=a,t[6]=d,t[7]=m,t[8]=f):f=t[8],f}),qp=v.memo(function(e){const t=j.c(12),{battleZoneEnum:s}=e,{t:i}=k();let o;t[0]!==s?(o=()=>{s&&Pp(s)},t[0]=s,t[1]=o):o=t[1];const a=o;if(!s)return null;const r=fn[s];let c;t[2]!==r.enemies?(c=r.enemies.map(Up),t[2]=r.enemies,t[3]=c):c=t[3];let d;t[4]!==c?(d=l.jsx(de,{className:"container",children:c}),t[4]=c,t[5]=d):d=t[5];let m;t[6]!==a||t[7]!==i.Fight?(m=l.jsx(ts,{children:l.jsx(se,{onClick:a,children:i.Fight})}),t[6]=a,t[7]=i.Fight,t[8]=m):m=t[8];let f;return t[9]!==d||t[10]!==m?(f=l.jsxs(ce,{children:[d,m]}),t[9]=d,t[10]=m,t[11]=f):f=t[11],f}),Op=v.memo(function(e){const t=j.c(16),{quantity:s,templateEnum:i}=e,o=un[i],a=$i(o),{t:r}=k(),{f:c}=G(),d=te[a.iconId];let m;t[0]!==d?(m=l.jsx("span",{className:"relative flex h-9 w-9 shrink-0 overflow-hidden text-4xl",children:l.jsx("span",{className:"aspect-square h-full w-full",children:d})}),t[0]=d,t[1]=m):m=t[1];const f=r[a.nameId];let u;t[2]!==c||t[3]!==s?(u=s>1&&l.jsxs("span",{className:"text-muted-foreground",children:[" X ",c(s)]}),t[2]=c,t[3]=s,t[4]=u):u=t[4];let g;t[5]!==f||t[6]!==u?(g=l.jsxs("p",{className:"text-sm leading-none font-medium",children:[f,u]}),t[5]=f,t[6]=u,t[7]=g):g=t[7];let h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(Qs,{className:"inline"}),t[8]=h):h=t[8];let p;t[9]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(Us,{className:"inline"}),t[9]=p):p=t[9];const x="text-mana";let I;t[10]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(Ws,{className:"inline"}),t[10]=I):I=t[10];const y=c(a.mana);let S;t[11]!==y||t[12]!==I?(S=l.jsxs("span",{className:x,children:[I,y]}),t[11]=y,t[12]=I,t[13]=S):S=t[13];let C;return t[14]!==i?(C=l.jsx("div",{children:l.jsx(Hp,{templateEnum:i})}),t[14]=i,t[15]=C):C=t[15],l.jsxs("div",{className:Ul.enemyInfoUi,children:[m,l.jsxs("div",{className:"space-y-1",children:[g,l.jsxs("p",{className:"grid grid-flow-col items-center justify-start gap-2 text-sm",children:[l.jsxs("span",{children:[r.Lv," ",c(a.level)]}),l.jsxs("span",{className:"text-health",children:[h,c(a.health)]}),l.jsxs("span",{className:"text-stamina",children:[p,c(a.stamina)]}),S]})]}),C]})}),Hp=v.memo(function(e){const t=j.c(19),{templateEnum:s}=e,i=un[s],o=$i(i),{t:a}=k(),{f:r}=G();let c;t[0]!==a.Drops?(c=l.jsx(td,{asChild:!0,children:l.jsx(se,{size:"xs",variant:"secondary",children:a.Drops})}),t[0]=a.Drops,t[1]=c):c=t[1];const d=te[o.iconId],m=a[o.nameId];let f;t[2]!==a.Drops||t[3]!==d||t[4]!==m?(f=l.jsx(Cs,{children:l.jsxs(ws,{children:[d," ",m," ",a.Drops]})}),t[2]=a.Drops,t[3]=d,t[4]=m,t[5]=f):f=t[5];let u;if(t[6]!==r||t[7]!==i.loot){let x;t[9]!==r?(x=I=>l.jsxs("div",{className:"flex justify-start gap-2 align-middle",children:[l.jsx(mn,{itemId:I.itemId}),I.quantity>1&&l.jsxs("span",{children:[" x ",r(I.quantity)]})]},I.itemId),t[9]=r,t[10]=x):x=t[10],u=i.loot.map(x),t[6]=r,t[7]=i.loot,t[8]=u}else u=t[8];let g;t[11]!==u?(g=l.jsx(Zt,{children:u}),t[11]=u,t[12]=g):g=t[12];let h;t[13]!==f||t[14]!==g?(h=l.jsxs(Xt,{children:[f,g]}),t[13]=f,t[14]=g,t[15]=h):h=t[15];let p;return t[16]!==c||t[17]!==h?(p=l.jsxs(Yt,{children:[c,h]}),t[16]=c,t[17]=h,t[18]=p):p=t[18],p});function Fp(n){return l.jsx(qp,{battleZoneEnum:n},n)}function Wp(n){return l.jsx(Bp,{bt:n},n.nameId)}function Up(n){return l.jsx(Op,{quantity:n.quantity,templateEnum:n.template},n.id)}const Qp=n=>{const e=[],t=[];return R.forEach(n.characters,s=>{s.isEnemy?t.push(s.id):e.push(s.id)}),{allies:e,enemies:t}},Gp=we(Qp),Ue=new pt,Vp=n=>e=>{const t=lt.find(e.castCharAbility,s=>s.characterId===n);if(t)return Te.find(e.timers,s=>s.actId===t?.id)},zp=n=>e=>lt.find(e.castCharAbility,t=>t.characterId===n),Kp=n=>e=>{const t=lt.find(e.castCharAbility,i=>i.characterId===n);return t?Ue.getEx(t.abilityId).getIconId({state:e,characterId:n}):void 0},Yp=we(n=>R.findMany(n.characters,e=>!e.isEnemy)?.map(e=>e.id)??[]),Xp=n=>n.ui.deadDialog,Ts=(n,e)=>t=>{const s=R.selectEx(t.characters,e??t.ui.selectedCharId).allCombatAbilities;return Gs.selectEx(s,n)};function Zp(n){const e=j.c(4);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];let s;return e[2]!==t?(s=l.jsx(nd,{"data-slot":"hover-card",...t}),e[2]=t,e[3]=s):s=e[3],s}function Jp(n){const e=j.c(12);let t,s,i,o;e[0]!==n?({className:t,align:i,sideOffset:o,...s}=n,e[0]=n,e[1]=t,e[2]=s,e[3]=i,e[4]=o):(t=e[1],s=e[2],i=e[3],o=e[4]);const a=i===void 0?"center":i,r=o===void 0?4:o;let c;e[5]!==t?(c=L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),e[5]=t,e[6]=c):c=e[6];let d;return e[7]!==a||e[8]!==s||e[9]!==r||e[10]!==c?(d=l.jsx(Qo,{"data-slot":"hover-card-portal",children:l.jsx(sd,{"data-slot":"hover-card-content",align:a,sideOffset:r,className:c,...s})}),e[7]=a,e[8]=s,e[9]=r,e[10]=c,e[11]=d):d=e[11],d}const ex=v.memo(function(e){const t=j.c(11),{children:s,trigger:i}=e,[o,a]=v.useState(!1);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>a(tx),t[0]=r):r=t[0];const c=r;let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>setTimeout(()=>a(!0),0),t[1]=d):d=t[1];const m=d;let f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=()=>a(!1),t[2]=f):f=t[2];const u=f;let g;t[3]!==i?(g=l.jsx(id,{onClick:c,onFocus:m,onBlur:u,children:i}),t[3]=i,t[4]=g):g=t[4];let h;t[5]!==s?(h=l.jsx(Qo,{children:l.jsx(Jp,{children:s})}),t[5]=s,t[6]=h):h=t[6];let p;return t[7]!==o||t[8]!==g||t[9]!==h?(p=l.jsxs(Zp,{open:o,onOpenChange:a,openDelay:500,children:[g,h]}),t[7]=o,t[8]=g,t[9]=h,t[10]=p):p=t[10],p});function tx(n){return!n}const sx=n=>n.characters.entries[n.ui.selectedCharId]?.combatAbilities??[],nx=n=>e=>e.characters.entries[n]?.combatAbilities??[];function ix(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex flex-col gap-2",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(rd,{"data-slot":"tabs",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function ox(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(ld,{"data-slot":"tabs-list",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function ds(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] max-w-max flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(od,{"data-slot":"tabs-trigger",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}function ms(n){const e=j.c(8);let t,s;e[0]!==n?({className:t,...s}=n,e[0]=n,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let i;e[3]!==t?(i=L("flex-1 outline-none",t),e[3]=t,e[4]=i):i=e[4];let o;return e[5]!==s||e[6]!==i?(o=l.jsx(ad,{"data-slot":"tabs-content",className:i,...s}),e[5]=s,e[6]=i,e[7]=o):o=e[7],o}const ax=n=>()=>W(e=>{R.selectEx(e.characters,e.ui.selectedCharId).selectedPerk=n,Di(Z.PerkS)(e)}),lx=(n,e=ie)=>t=>{const s=R.selectEx(t.characters,e),i=s.perks;i[n]=(i[n]??0)+1;const o=s.allCombatAbilities,a=wt[n];if(a.abilityUnlock){const r={id:`Perk${n}`,abilityId:a.abilityUnlock,perkSource:n};Gs.upsertMerge(o,r)}},rx=n=>()=>W(lx(n)),cx=n=>W(e=>v1(Z.PerkS,n)(e)),dx="_tab_1vgoe_1",mx={tab:dx},Ql=v.memo(function(e){const t=j.c(6),{text:s,num:i}=e,{f:o}=G();let a;t[0]!==o||t[1]!==i?(a=i>0&&l.jsx(st,{className:"ml-2",children:o(i)}),t[0]=o,t[1]=i,t[2]=a):a=t[2];let r;return t[3]!==a||t[4]!==s?(r=l.jsxs("div",{className:mx.tab,children:[s," ",a]}),t[3]=a,t[4]=s,t[5]=r):r=t[5],r}),fx="_perkLi_f1kzy_1",ux="_topPanel_f1kzy_15",Bi={perkLi:fx,topPanel:ux},gx=v.memo(function(){const e=j.c(17),{f:t}=G(),{t:s}=k(),i=b(Ne);let o;e[0]!==i?(o=vi(i),e[0]=i,e[1]=o):o=e[1];const a=b(o);let r;e[2]!==i?(r=Si(i),e[2]=i,e[3]=r):r=e[3];const c=b(r),d=b(l1);let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=Vs(Z.Perk),e[4]=m):m=e[4];const f=b(m),u=b(Gt);let g;e[5]!==f||e[6]!==t||e[7]!==a||e[8]!==u||e[9]!==s||e[10]!==c?(g=!f&&!u&&l.jsxs("div",{className:Bi.topPanel,children:[l.jsxs("span",{children:[s.Used," ",t(c),"/",t(a)]}),l.jsx(px,{})]}),e[5]=f,e[6]=t,e[7]=a,e[8]=u,e[9]=s,e[10]=c,e[11]=g):g=e[11];let h;e[12]!==d?(h=d.map(yx),e[12]=d,e[13]=h):h=e[13];let p;return e[14]!==g||e[15]!==h?(p=l.jsxs(kt,{collapsedId:Z.Perk,children:[g,h]}),e[14]=g,e[15]=h,e[16]=p):p=e[16],p}),hx=v.memo(function(){const e=j.c(7),{t}=k(),s=b(Ne);let i;e[0]!==s?(i=vi(s),e[0]=s,e[1]=i):i=e[1];const o=b(i);let a;e[2]!==s?(a=Si(s),e[2]=s,e[3]=a):a=e[3];const r=b(a),c=Math.floor(o-r);let d;return e[4]!==c||e[5]!==t.Perks?(d=l.jsx(Ql,{text:t.Perks,num:c}),e[4]=c,e[5]=t.Perks,e[6]=d):d=e[6],d}),px=v.memo(function(){const e=j.c(18),{t}=k(),s=b(nm),i=b(im),o=b(om);let a;e[0]!==t.Filter?(a=l.jsx(Pi,{asChild:!0,children:l.jsx(se,{variant:"secondary",children:t.Filter})}),e[0]=t.Filter,e[1]=a):a=e[1];let r;e[2]!==s||e[3]!==t.Available?(r=l.jsx(vn,{checked:s,onCheckedChange:I1,children:t.Available}),e[2]=s,e[3]=t.Available,e[4]=r):r=e[4];let c;e[5]!==t.NotAvailable||e[6]!==i?(c=l.jsx(vn,{checked:i,onCheckedChange:b1,children:t.NotAvailable}),e[5]=t.NotAvailable,e[6]=i,e[7]=c):c=e[7];let d;e[8]!==o||e[9]!==t.Completed?(d=l.jsx(vn,{checked:o,onCheckedChange:j1,children:t.Completed}),e[8]=o,e[9]=t.Completed,e[10]=d):d=e[10];let m;e[11]!==r||e[12]!==c||e[13]!==d?(m=l.jsxs(Ei,{className:`sort ${Bi.dropDown}`,children:[r,c,d]}),e[11]=r,e[12]=c,e[13]=d,e[14]=m):m=e[14];let f;return e[15]!==a||e[16]!==m?(f=l.jsxs(Mi,{children:[a,m]}),e[15]=a,e[16]=m,e[17]=f):f=e[17],f}),xx=v.memo(function(e){const t=j.c(19),{perk:s}=e,{t:i}=k();let o;t[0]!==s?(o=s1(s),t[0]=s,t[1]=o):o=t[1];const a=b(o);let r;t[2]!==s?(r=I=>yi(I,s),t[2]=s,t[3]=r):r=t[3];const c=b(r);let d;t[4]!==s?(d=an(s),t[4]=s,t[5]=d):d=t[5];const m=b(d),f=wt[s],u=i[f.nameId];let g;t[6]!==f.iconId||t[7]!==c?(g=c?te[f.iconId]:l.jsx(Ho,{}),t[6]=f.iconId,t[7]=c,t[8]=g):g=t[8];let h;t[9]!==s?(h=ax(s),t[9]=s,t[10]=h):h=t[10];let p;t[11]!==m?(p=m?l.jsx(Go,{}):null,t[11]=m,t[12]=p):p=t[12];let x;return t[13]!==a||t[14]!==u||t[15]!==g||t[16]!==h||t[17]!==p?(x=l.jsx(mt,{collapsedId:Z.Perk,active:a,text:u,icon:g,onClick:h,right:p}),t[13]=a,t[14]=u,t[15]=g,t[16]=h,t[17]=p,t[18]=x):x=t[18],x}),Ix=()=>{const n=j.c(34),{t:e}=k();let t;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=Vs(Z.PerkS),n[0]=t):t=n[0];const s=b(t),i=dd("(min-width: 900px)"),o=b(pl),a=b(Gt);if(!o)return;const r=wt[o],c=r.requiredExp??r.requiredPerks,d=e[r.descId];let m;n[1]!==c||n[2]!==e.Requirements?(m=c&&l.jsx("span",{children:e.Requirements}),n[1]=c,n[2]=e.Requirements,n[3]=m):m=n[3];let f;n[4]!==r.requiredExp||n[5]!==r.requiredPerks||n[6]!==c?(f=c&&l.jsxs("ul",{children:[r.requiredExp?.map(vx),r.requiredPerks?.map(Sx)]}),n[4]=r.requiredExp,n[5]=r.requiredPerks,n[6]=c,n[7]=f):f=n[7];let u;n[8]!==d||n[9]!==m||n[10]!==f?(u=l.jsxs("div",{className:"text-sm",children:[d,m,f]}),n[8]=d,n[9]=m,n[10]=f,n[11]=u):u=n[11];const g=u,h=e[r.nameId],p=te[r.iconId];let x;n[12]!==h||n[13]!==p?(x=l.jsx(pe,{title:h,icon:p}),n[12]=h,n[13]=p,n[14]=x):x=n[14];let I;n[15]!==g?(I=l.jsx(de,{children:g}),n[15]=g,n[16]=I):I=n[16];let y;n[17]!==o||n[18]!==a?(y=!a&&l.jsx(ts,{children:l.jsx(ao,{perk:o})}),n[17]=o,n[18]=a,n[19]=y):y=n[19];let S;n[20]!==g||n[21]!==r.iconId||n[22]!==r.nameId||n[23]!==i||n[24]!==s||n[25]!==o||n[26]!==a||n[27]!==e?(S=!i&&l.jsx(Yt,{open:s,onOpenChange:cx,children:l.jsxs(Xt,{children:[l.jsxs(Cs,{children:[l.jsx(ws,{children:l.jsxs(et,{children:[te[r.iconId]," ",e[r.nameId]]})}),l.jsx(Zt,{})]}),g,!a&&l.jsx(La,{children:l.jsx(ao,{perk:o})})]})}),n[20]=g,n[21]=r.iconId,n[22]=r.nameId,n[23]=i,n[24]=s,n[25]=o,n[26]=a,n[27]=e,n[28]=S):S=n[28];let C;return n[29]!==S||n[30]!==x||n[31]!==I||n[32]!==y?(C=l.jsxs(ce,{children:[x,I,y,S]}),n[29]=S,n[30]=x,n[31]=I,n[32]=y,n[33]=C):C=n[33],C},bx=v.memo(function(e){const t=j.c(12),{req:s}=e,{t:i}=k(),{f:o}=G();let a;t[0]!==s.skill?(a=fa(s.skill,ie),t[0]=s.skill,t[1]=a):a=t[1];const r=b(a),c=Ha[s.skill],d=i[c.nameId];let m;t[2]!==o||t[3]!==s.level?(m=o(s.level),t[2]=o,t[3]=s.level,t[4]=m):m=t[4];let f;t[5]!==o||t[6]!==r?(f=o(r),t[5]=o,t[6]=r,t[7]=f):f=t[7];let u;return t[8]!==d||t[9]!==m||t[10]!==f?(u=l.jsxs("li",{children:[d," ",m,"/",f]}),t[8]=d,t[9]=m,t[10]=f,t[11]=u):u=t[11],u}),jx=v.memo(function(e){const t=j.c(7),{perk:s}=e,{t:i}=k();let o;t[0]!==s?(o=an(s),t[0]=s,t[1]=o):o=t[1];const a=b(o),r=wt[s];let c;t[2]!==a?(c=a?l.jsx(Go,{}):l.jsx(cd,{}),t[2]=a,t[3]=c):c=t[3];const d=i[r.nameId];let m;return t[4]!==c||t[5]!==d?(m=l.jsxs("li",{className:Bi.perkLi,children:[c,d]}),t[4]=c,t[5]=d,t[6]=m):m=t[6],m}),ao=v.memo(function(e){const t=j.c(12),{perk:s}=e,{t:i}=k(),o=b(Ne);let a;t[0]!==s?(a=p=>yi(p,s),t[0]=s,t[1]=a):a=t[1];const r=b(a);let c;t[2]!==s?(c=o1(s),t[2]=s,t[3]=c):c=t[3];const d=b(c);let m;t[4]!==o?(m=i1(o),t[4]=o,t[5]=m):m=t[5];const f=b(m),u=!r||d||!f;let g;t[6]!==s?(g=rx(s),t[6]=s,t[7]=g):g=t[7];let h;return t[8]!==i.Select||t[9]!==u||t[10]!==g?(h=l.jsx(se,{disabled:u,onClick:g,children:i.Select}),t[8]=i.Select,t[9]=u,t[10]=g,t[11]=h):h=t[11],h});function yx(n){return l.jsx(xx,{perk:n},n)}function vx(n){return l.jsx(bx,{req:n},n.skill)}function Sx(n){return l.jsx(jx,{perk:n},n)}const Cx=n=>e=>{const t=R.selectEx(e.characters,e.ui.selectedCharId).combatAbilities;if(t.length)return t[n]},Gl=n=>e=>{const s=R.selectEx(e.characters,e.ui.selectedCharId).combatAbilities;return s.length?s[n]:void 0},Vl=n=>n.characters.entries[n.ui.selectedCharId]?.allCombatAbilities.ids??[],wx=(n,e)=>W(t=>{const s=t.ui.selectedCharId,i=R.selectEx(t.characters,s);i.combatAbilities[n]=e}),kx=()=>W(n=>{const e=n.ui.selectedCharId;R.selectEx(n.characters,e).combatAbilities.push($e.NormalAttack)}),Nx=n=>W(e=>{const t=e.ui.selectedCharId;R.selectEx(e.characters,t).combatAbilities.splice(n,1)}),Dx="_abilityRow_eeonh_1",Ax={abilityRow:Dx},_x=v.memo(function(){const e=j.c(11),{t}=k(),s=b(sx),i=b(Gt);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(pe,{title:"Skill Rotation"}),e[0]=o):o=e[0];let a;e[1]!==i||e[2]!==s||e[3]!==t?(a=!i&&l.jsxs(l.Fragment,{children:[s.map(Ex),l.jsx(se,{variant:"secondary",onClick:kx,children:t.Add})]}),e[1]=i,e[2]=s,e[3]=t,e[4]=a):a=e[4];let r;e[5]!==i||e[6]!==s?(r=i&&l.jsx(l.Fragment,{children:s.map(Rx)}),e[5]=i,e[6]=s,e[7]=r):r=e[7];let c;return e[8]!==a||e[9]!==r?(c=l.jsxs(ce,{title:"Skill Rotation",children:[o,l.jsxs(de,{children:[a,r]})]}),e[8]=a,e[9]=r,e[10]=c):c=e[10],c}),Tx=v.memo(function(e){const t=j.c(4),{index:s}=e;let i;t[0]!==s?(i=Gl(s),t[0]=s,t[1]=i):i=t[1];const o=b(i);if(!o)return;let a;return t[2]!==o?(a=l.jsx(zl,{selectedId:o}),t[2]=o,t[3]=a):a=t[3],a}),Mx=v.memo(function(e){const t=j.c(27),{index:s}=e,{t:i}=k();let o;t[0]!==s?(o=Cx(s),t[0]=s,t[1]=o):o=t[1];const a=b(o),r=b(Vl);let c;t[2]!==s?(c=Gl(s),t[2]=s,t[3]=c):c=t[3];const d=b(c);let m;t[4]!==s?(m=C=>wx(s,C),t[4]=s,t[5]=m):m=t[5];const f=m;let u;t[6]!==s?(u=()=>Nx(s),t[6]=s,t[7]=u):u=t[7];const g=u,h=a??null;let p;t[8]!==d?(p=d?l.jsx(zl,{selectedId:d}):void 0,t[8]=d,t[9]=p):p=t[9];let x;if(t[10]!==r||t[11]!==f||t[12]!==a){let C;t[14]!==f||t[15]!==a?(C=w=>l.jsx(Px,{id:w,onSelect:f,selected:a===w},w),t[14]=f,t[15]=a,t[16]=C):C=t[16],x=r.map(C),t[10]=r,t[11]=f,t[12]=a,t[13]=x}else x=t[13];let I;t[17]!==h||t[18]!==p||t[19]!==x?(I=l.jsx(sn,{selectedId:h,triggerContent:p,children:x}),t[17]=h,t[18]=p,t[19]=x,t[20]=I):I=t[20];let y;t[21]!==g||t[22]!==i.Remove?(y=l.jsx(se,{variant:"ghost",title:i.Remove,onClick:g,children:Jn}),t[21]=g,t[22]=i.Remove,t[23]=y):y=t[23];let S;return t[24]!==I||t[25]!==y?(S=l.jsxs("div",{className:Ax.abilityRow,children:[I,y]}),t[24]=I,t[25]=y,t[26]=S):S=t[26],S}),Px=v.memo(function(e){const t=j.c(15),{id:s,onSelect:i,selected:o}=e,{t:a}=k();let r;t[0]!==s?(r=Ts(s),t[0]=s,t[1]=r):r=t[1];const c=b(r);let d;t[2]!==c.abilityId?(d=Ue.getEx(c.abilityId),t[2]=c.abilityId,t[3]=d):d=t[3];const m=d;let f;t[4]!==m?(f=y=>m.getIconId({state:y,characterId:y.ui.selectedCharId}),t[4]=m,t[5]=f):f=t[5];const u=b(f);let g;t[6]!==s||t[7]!==i?(g=()=>i(s),t[6]=s,t[7]=i,t[8]=g):g=t[8];const h=g,p=te[u],x=a[m.nameId];let I;return t[9]!==s||t[10]!==h||t[11]!==o||t[12]!==p||t[13]!==x?(I=l.jsx(nn,{value:s,icon:p,onSelect:h,selected:o,children:x}),t[9]=s,t[10]=h,t[11]=o,t[12]=p,t[13]=x,t[14]=I):I=t[14],I}),zl=v.memo(function(e){const t=j.c(9),{selectedId:s}=e,{t:i}=k();let o;t[0]!==s?(o=Ts(s),t[0]=s,t[1]=o):o=t[1];const a=b(o);let r;t[2]!==a.abilityId?(r=Ue.getEx(a.abilityId),t[2]=a.abilityId,t[3]=r):r=t[3];const c=r;let d;t[4]!==c?(d=h=>c.getIconId({state:h,characterId:h.ui.selectedCharId}),t[4]=c,t[5]=d):d=t[5];const m=b(d),f=te[m],u=i[c.nameId];let g;return t[6]!==f||t[7]!==u?(g=l.jsxs("span",{className:"select-trigger",children:[f," ",u]}),t[6]=f,t[7]=u,t[8]=g):g=t[8],g});function Ex(n,e){return l.jsx(Mx,{index:e},n+e)}function Rx(n,e){return l.jsx(Tx,{index:e},n+e)}const Lx=n=>W(e=>{R.update(e.characters,e.ui.selectedCharId,{selectedAbilityId:n})}),$x=n=>e=>e.characters.entries[e.ui.selectedCharId]?.selectedAbilityId===n,Bx=n=>n.characters.entries[n.ui.selectedCharId]?.selectedAbilityId??$e.NormalAttack,qx=v.memo(function(){const e=j.c(4),t=b(Vl);let s;e[0]!==t?(s=t.map(Fx),e[0]=t,e[1]=s):s=e[1];let i;return e[2]!==s?(i=l.jsx(kt,{collapsedId:Z.AbilityList,children:s}),e[2]=s,e[3]=i):i=e[3],i}),Ox=v.memo(function(e){const t=j.c(16),{id:s}=e,{t:i}=k(),o=b(Ne);let a;t[0]!==s?(a=Ts(s),t[0]=s,t[1]=a):a=t[1];const r=b(a);let c;t[2]!==r.abilityId?(c=Ue.getEx(r.abilityId),t[2]=r.abilityId,t[3]=c):c=t[3];const d=c;let m;t[4]!==d||t[5]!==o?(m=S=>d.getIconId({state:S,characterId:o}),t[4]=d,t[5]=o,t[6]=m):m=t[6];const f=b(m);let u;t[7]!==s?(u=$x(s),t[7]=s,t[8]=u):u=t[8];const g=b(u);let h;t[9]!==s?(h=()=>Lx(s),t[9]=s,t[10]=h):h=t[10];const p=h,x=i[d.nameId],I=te[f];let y;return t[11]!==p||t[12]!==g||t[13]!==x||t[14]!==I?(y=l.jsx(mt,{collapsedId:Z.AbilityList,active:g,text:x,icon:I,onClick:p}),t[11]=p,t[12]=g,t[13]=x,t[14]=I,t[15]=y):y=t[15],y}),Hx=v.memo(function(){const e=j.c(18),{t}=k(),s=b(Bx),i=b(Ne);let o;e[0]!==s?(o=Ts(s),e[0]=s,e[1]=o):o=e[1];const a=b(o);let r;e[2]!==a.abilityId?(r=Ue.getEx(a.abilityId),e[2]=a.abilityId,e[3]=r):r=e[3];const c=r;let d;e[4]!==c||e[5]!==i?(d=y=>c.getIconId({state:y,characterId:i}),e[4]=c,e[5]=i,e[6]=d):d=e[6];const m=b(d);let f;e[7]!==c||e[8]!==i?(f=y=>c.getDesc({state:y,characterId:i}),e[7]=c,e[8]=i,e[9]=f):f=e[9];const u=b(f),g=te[m],h=t[c.nameId];let p;e[10]!==g||e[11]!==h?(p=l.jsx(es,{children:l.jsxs(et,{children:[g," ",h]})}),e[10]=g,e[11]=h,e[12]=p):p=e[12];let x;e[13]!==u?(x=l.jsx(de,{children:u}),e[13]=u,e[14]=x):x=e[14];let I;return e[15]!==p||e[16]!==x?(I=l.jsxs(ce,{children:[p,x]}),e[15]=p,e[16]=x,e[17]=I):I=e[17],I});function Fx(n){return l.jsx(Ox,{id:n},n)}const Wx=Object.values(ae).sort(),Ux=v.memo(function(){const e=j.c(4),t=b(Ne);let s;e[0]!==t?(s=Wx.map(o=>l.jsx(en,{expType:o,charId:t},o)),e[0]=t,e[1]=s):s=e[1];let i;return e[2]!==s?(i=l.jsx(l.Fragment,{children:s}),e[2]=s,e[3]=i):i=e[3],i}),Qx="_line_kwros_1",Gx="_stats_kwros_17",Vx="_stat_kwros_17",zx="_max_kwros_37",Ce={line:Qx,stats:Gx,stat:Vx,max:zx},Kx=Object.keys(ge),Yx=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(l.Fragment,{children:Kx.map(Zx)}),e[0]=t):t=e[0],t}),Xx=v.memo(function(e){const t=j.c(2),{slot:s}=e;let i;return t[0]!==s?(i=l.jsx("div",{children:l.jsx(Ii,{slot:s})}),t[0]=s,t[1]=i):i=t[1],i});function Zx(n){return l.jsx(Xx,{slot:n},n)}const Jx=v.memo(function(){const e=j.c(29),{t}=k(),[s,i]=v.useState("info");let o=null;if(s==="perks"){let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(gx,{}),e[0]=N):N=e[0],o=N}else if(s==="abilities"){let N;e[1]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(qx,{}),e[1]=N):N=e[1],o=N}let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=N=>i(N),e[2]=a):a=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(t2,{}),e[3]=r):r=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(ds,{value:"info",children:l.jsx(e2,{})}),e[4]=c):c=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(ds,{value:"perks",children:l.jsx(hx,{})}),e[5]=d):d=e[5];let m;e[6]!==t.Abilities?(m=l.jsx(ds,{value:"abilities",children:t.Abilities}),e[6]=t.Abilities,e[7]=m):m=e[7];let f;e[8]!==t.Equipments?(f=l.jsx(ds,{value:"equipments",children:t.Equipments}),e[8]=t.Equipments,e[9]=f):f=e[9];let u;e[10]!==t.Skills?(u=l.jsx(ds,{value:"skills",children:t.Skills}),e[10]=t.Skills,e[11]=u):u=e[11];let g;e[12]!==m||e[13]!==f||e[14]!==u?(g=l.jsx("div",{className:"page__header",children:l.jsxs(ox,{className:"m-3",children:[c,d,m,f,u]})}),e[12]=m,e[13]=f,e[14]=u,e[15]=g):g=e[15];let h;e[16]!==o?(h=o&&l.jsx("div",{className:"page__sidebar",children:o}),e[16]=o,e[17]=h):h=e[17];let p;e[18]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(ms,{value:"info",children:l.jsxs(_e,{className:"page__main",children:[l.jsx(n2,{}),l.jsx(_x,{})]})}),e[18]=p):p=e[18];let x;e[19]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(ms,{value:"perks",children:l.jsx(_e,{className:"page__main",children:l.jsx(Ix,{})})}),e[19]=x):x=e[19];let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(ms,{value:"abilities",children:l.jsx(_e,{className:"page__main",children:l.jsx(Hx,{})})}),e[20]=I):I=e[20];let y;e[21]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(ms,{value:"equipments",children:l.jsx(_e,{className:"page__main",children:l.jsx(Yx,{})})}),e[21]=y):y=e[21];let S;e[22]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsxs("div",{className:"page__main2",children:[p,x,I,y,l.jsx(ms,{value:"skills",children:l.jsx(_e,{className:"page__main",children:l.jsx(Ux,{})})})]}),e[22]=S):S=e[22];let C;e[23]!==g||e[24]!==h?(C=l.jsx(ss,{sidebar:r,children:l.jsx("div",{className:"page__container-sidebar",children:l.jsxs("div",{className:"page__all",children:[g,h,S]})})}),e[23]=g,e[24]=h,e[25]=C):C=e[25];let w;return e[26]!==C||e[27]!==s?(w=l.jsx(ix,{value:s,onValueChange:a,className:"overflow-auto",orientation:"vertical",children:C}),e[26]=C,e[27]=s,e[28]=w):w=e[28],w}),e2=v.memo(function(){const e=j.c(7),{t}=k(),s=b(Ne);let i;e[0]!==s?(i=m=>ee(s).UsedAttributes(m),e[0]=s,e[1]=i):i=e[1];const o=b(i);let a;e[2]!==s?(a=m=>ee(s).MaxAttributes(m),e[2]=s,e[3]=a):a=e[3];const r=b(a),c=Math.floor(r-o);let d;return e[4]!==c||e[5]!==t.Stats?(d=l.jsx(Ql,{text:t.Stats,num:c}),e[4]=c,e[5]=t.Stats,e[6]=d):d=e[6],d}),t2=v.memo(function(){const e=j.c(4),t=b(Yp);let s;e[0]!==t?(s=t.map(g2),e[0]=t,e[1]=s):s=e[1];let i;return e[2]!==s?(i=l.jsx(kt,{collapsedId:Z.Characters,children:s}),e[2]=s,e[3]=i):i=e[3],i}),s2=v.memo(function(e){const t=j.c(15),{charId:s}=e;let i;t[0]!==s?(i=ee(s),t[0]=s,t[1]=i):i=t[1];const o=i;let a;t[2]!==o?(a=x=>o.Name(x),t[2]=o,t[3]=a):a=t[3];const r=b(a);let c;t[4]!==o?(c=x=>o.Icon(x),t[4]=o,t[5]=c):c=t[5];const d=b(c);let m;t[6]!==s?(m=am(s),t[6]=s,t[7]=m):m=t[7];const f=b(m);let u;t[8]!==s?(u=()=>y1(s),t[8]=s,t[9]=u):u=t[9];const g=u,h=te[d];let p;return t[10]!==f||t[11]!==r||t[12]!==g||t[13]!==h?(p=l.jsx(mt,{text:r,collapsedId:Z.Characters,icon:h,active:f,onClick:g}),t[10]=f,t[11]=r,t[12]=g,t[13]=h,t[14]=p):p=t[14],p}),n2=v.memo(function(){const e=j.c(14),{t}=k(),s=b(Ne);let i;e[0]!==s?(i=l.jsx(r2,{charId:s}),e[0]=s,e[1]=i):i=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Oo,{}),e[2]=o):o=e[2];let a;e[3]!==t.Info?(a=l.jsx(pe,{icon:o,title:t.Info}),e[3]=t.Info,e[4]=a):a=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(i2,{}),e[5]=r):r=e[5];let c;e[6]!==s?(c=l.jsxs(de,{className:"grid gap-2",children:[r,l.jsx(Kl,{charId:s})]}),e[6]=s,e[7]=c):c=e[7];let d;e[8]!==a||e[9]!==c?(d=l.jsxs(ce,{children:[a,c]}),e[8]=a,e[9]=c,e[10]=d):d=e[10];let m;return e[11]!==i||e[12]!==d?(m=l.jsxs("div",{className:"grid gap-4",children:[i,d]}),e[11]=i,e[12]=d,e[13]=m):m=e[13],m}),Kl=v.memo(function(e){const t=j.c(13),{t:s}=k(),{charId:i}=e;let o;t[0]!==s.Attack?(o=l.jsxs(et,{className:"mt-2",children:[te[D.Sword]," ",s.Attack]}),t[0]=s.Attack,t[1]=o):o=t[1];let a;t[2]!==i?(a=l.jsx(f2,{charId:i}),t[2]=i,t[3]=a):a=t[3];let r;t[4]!==s.Defence?(r=l.jsxs(et,{className:"mt-2",children:[te[D.Shield]," ",s.Defence]}),t[4]=s.Defence,t[5]=r):r=t[5];let c;t[6]!==i?(c=l.jsx(d2,{charId:i}),t[6]=i,t[7]=c):c=t[7];let d;return t[8]!==o||t[9]!==a||t[10]!==r||t[11]!==c?(d=l.jsxs(l.Fragment,{children:[o,a,r,c]}),t[8]=o,t[9]=a,t[10]=r,t[11]=c,t[12]=d):d=t[12],d}),i2=v.memo(function(){const e=j.c(22),{f:t}=G(),{t:s}=k(),i=b(Ne);let o;e[0]!==i?(o=ee(i),e[0]=i,e[1]=o):o=e[1];const a=o;let r;e[2]!==a?(r=C=>a.UsedAttributes(C),e[2]=a,e[3]=r):r=e[3];const c=b(r);let d;e[4]!==a?(d=C=>a.MaxAttributes(C),e[4]=a,e[5]=d):d=e[5];const m=b(d);let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=Le(Ce.stats,"text-sm"),e[6]=f):f=e[6];const u=s.Points;let g;e[7]!==t||e[8]!==c?(g=t(c),e[7]=t,e[8]=c,e[9]=g):g=e[9];let h;e[10]!==t||e[11]!==m?(h=t(m),e[10]=t,e[11]=m,e[12]=h):h=e[12];let p;e[13]!==s.Points||e[14]!==g||e[15]!==h?(p=l.jsxs("span",{children:[u," ",g,"/",h]}),e[13]=s.Points,e[14]=g,e[15]=h,e[16]=p):p=e[16];let x,I,y;e[17]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(o2,{}),y=l.jsx(a2,{}),x=l.jsx(l2,{}),e[17]=x,e[18]=I,e[19]=y):(x=e[17],I=e[18],y=e[19]);let S;return e[20]!==p?(S=l.jsxs("div",{className:f,children:[p,I,y,x]}),e[20]=p,e[21]=S):S=e[21],S}),o2=v.memo(function(){const e=j.c(57),{f:t}=G(),{t:s}=k(),i=b(Ne);let o;e[0]!==i?(o=ee(i),e[0]=i,e[1]=o):o=e[1];const a=o;let r;e[2]!==a?(r=H=>a.UsedAttributes(H),e[2]=a,e[3]=r):r=e[3];const c=b(r);let d;e[4]!==a?(d=H=>a.MaxAttributes(H),e[4]=a,e[5]=d):d=e[5];const m=b(d);let f;e[6]!==a?(f=H=>a.Health(H),e[6]=a,e[7]=f):f=e[7];const u=b(f);let g;e[8]!==a?(g=H=>a.MaxHealth(H),e[8]=a,e[9]=g):g=e[9];const h=b(g);let p;e[10]!==a?(p=a.MaxHealthListMemo.bind(a),e[10]=a,e[11]=p):p=e[11];const x=p;let I;e[12]!==a?(I=H=>a.HealthRegen(H),e[12]=a,e[13]=I):I=e[13];const y=b(I);let S;e[14]!==a?(S=a.HealthRegenList.bind(a),e[14]=a,e[15]=S):S=e[15];const C=S;let w;e[16]!==i?(w=()=>wu(i),e[16]=i,e[17]=w):w=e[17];const N=w,A=b(Gt),_=c<m;let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(Qs,{}),e[18]=P):P=e[18];let E;e[19]!==s.Health?(E=l.jsx("span",{className:Ce.stat,children:s.Health}),e[19]=s.Health,e[20]=E):E=e[20];let $;e[21]!==t||e[22]!==u?($=t(u),e[21]=t,e[22]=u,e[23]=$):$=e[23];let M;e[24]!==t||e[25]!==h?(M=t(h),e[24]=t,e[25]=h,e[26]=M):M=e[26];let q;e[27]!==$||e[28]!==M?(q=l.jsxs("span",{className:Ce.max,children:[$," / ",M]}),e[27]=$,e[28]=M,e[29]=q):q=e[29];let F;e[30]!==x||e[31]!==s.Health?(F=l.jsx(Pe,{title:s.Health,selectBonusResult:x}),e[30]=x,e[31]=s.Health,e[32]=F):F=e[32];let U;e[33]!==E||e[34]!==q||e[35]!==F?(U=l.jsxs(Ie,{children:[P,E," ",q,F]}),e[33]=E,e[34]=q,e[35]=F,e[36]=U):U=e[36];let K;e[37]!==t||e[38]!==y?(K=t(y),e[37]=t,e[38]=y,e[39]=K):K=e[39];let z;e[40]!==s.PerSec||e[41]!==K?(z=l.jsx("span",{className:Ce.stat,children:l.jsxs("span",{className:Ce.max,children:[K," ",s.PerSec]})}),e[40]=s.PerSec,e[41]=K,e[42]=z):z=e[42];let V;e[43]!==C||e[44]!==s.HealthRegen?(V=l.jsx(Pe,{title:s.HealthRegen,selectBonusResult:C}),e[43]=C,e[44]=s.HealthRegen,e[45]=V):V=e[45];let Y;e[46]!==z||e[47]!==V?(Y=l.jsxs(Ie,{children:[z,V]}),e[46]=z,e[47]=V,e[48]=Y):Y=e[48];let X;e[49]!==_||e[50]!==N||e[51]!==A?(X=!A&&l.jsx(se,{variant:"health",size:"xs",disabled:!_,onClick:N,children:l.jsx(Xn,{})}),e[49]=_,e[50]=N,e[51]=A,e[52]=X):X=e[52];let ne;return e[53]!==U||e[54]!==Y||e[55]!==X?(ne=l.jsxs("div",{className:Ce.line,children:[U,Y,X]}),e[53]=U,e[54]=Y,e[55]=X,e[56]=ne):ne=e[56],ne}),a2=v.memo(function(){const e=j.c(57),{f:t}=G(),{t:s}=k(),i=b(Ne);let o;e[0]!==i?(o=ee(i),e[0]=i,e[1]=o):o=e[1];const a=o;let r;e[2]!==a?(r=H=>a.UsedAttributes(H),e[2]=a,e[3]=r):r=e[3];const c=b(r);let d;e[4]!==a?(d=H=>a.MaxAttributes(H),e[4]=a,e[5]=d):d=e[5];const m=b(d);let f;e[6]!==a?(f=H=>a.Stamina(H),e[6]=a,e[7]=f):f=e[7];const u=b(f);let g;e[8]!==a?(g=H=>a.MaxStamina(H),e[8]=a,e[9]=g):g=e[9];const h=b(g);let p;e[10]!==a?(p=a.MaxStaminaListMemo.bind(a),e[10]=a,e[11]=p):p=e[11];const x=p;let I;e[12]!==a?(I=H=>a.StaminaRegen(H),e[12]=a,e[13]=I):I=e[13];const y=b(I);let S;e[14]!==a?(S=a.StaminaRegenList.bind(a),e[14]=a,e[15]=S):S=e[15];const C=S;let w;e[16]!==i?(w=()=>Nu(i),e[16]=i,e[17]=w):w=e[17];const N=w,A=b(Gt),_=c<m;let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(Us,{}),e[18]=P):P=e[18];let E;e[19]!==s.Stamina?(E=l.jsxs("span",{className:Ce.stat,children:[s.Stamina," "]}),e[19]=s.Stamina,e[20]=E):E=e[20];let $;e[21]!==t||e[22]!==u?($=t(u),e[21]=t,e[22]=u,e[23]=$):$=e[23];let M;e[24]!==t||e[25]!==h?(M=t(h),e[24]=t,e[25]=h,e[26]=M):M=e[26];let q;e[27]!==$||e[28]!==M?(q=l.jsxs("span",{className:Ce.max,children:[$," / ",M]}),e[27]=$,e[28]=M,e[29]=q):q=e[29];let F;e[30]!==x||e[31]!==s.Stamina?(F=l.jsx(Pe,{title:s.Stamina,selectBonusResult:x}),e[30]=x,e[31]=s.Stamina,e[32]=F):F=e[32];let U;e[33]!==E||e[34]!==q||e[35]!==F?(U=l.jsxs(Ie,{children:[P,E," ",q,F]}),e[33]=E,e[34]=q,e[35]=F,e[36]=U):U=e[36];let K;e[37]!==t||e[38]!==y?(K=t(y),e[37]=t,e[38]=y,e[39]=K):K=e[39];let z;e[40]!==s.PerSec||e[41]!==K?(z=l.jsx("span",{className:Ce.stat,children:l.jsxs("span",{className:Ce.max,children:[K," ",s.PerSec]})}),e[40]=s.PerSec,e[41]=K,e[42]=z):z=e[42];let V;e[43]!==C||e[44]!==s.StaminaRegen?(V=l.jsx(Pe,{title:s.StaminaRegen,selectBonusResult:C}),e[43]=C,e[44]=s.StaminaRegen,e[45]=V):V=e[45];let Y;e[46]!==z||e[47]!==V?(Y=l.jsxs(Ie,{children:[z,V]}),e[46]=z,e[47]=V,e[48]=Y):Y=e[48];let X;e[49]!==_||e[50]!==A||e[51]!==N?(X=!A&&l.jsx(se,{variant:"stamina",size:"xs",disabled:!_,onClick:N,children:l.jsx(Xn,{})}),e[49]=_,e[50]=A,e[51]=N,e[52]=X):X=e[52];let ne;return e[53]!==U||e[54]!==Y||e[55]!==X?(ne=l.jsxs("div",{className:Ce.line,children:[U,Y,X]}),e[53]=U,e[54]=Y,e[55]=X,e[56]=ne):ne=e[56],ne}),l2=v.memo(function(){const e=j.c(57),{f:t}=G(),{t:s}=k(),i=b(Ne);let o;e[0]!==i?(o=ee(i),e[0]=i,e[1]=o):o=e[1];const a=o;let r;e[2]!==a?(r=H=>a.UsedAttributes(H),e[2]=a,e[3]=r):r=e[3];const c=b(r);let d;e[4]!==a?(d=H=>a.MaxAttributes(H),e[4]=a,e[5]=d):d=e[5];const m=b(d);let f;e[6]!==a?(f=H=>a.Mana(H),e[6]=a,e[7]=f):f=e[7];const u=b(f);let g;e[8]!==a?(g=H=>a.MaxMana(H),e[8]=a,e[9]=g):g=e[9];const h=b(g);let p;e[10]!==a?(p=a.MaxManaListMemo.bind(a),e[10]=a,e[11]=p):p=e[11];const x=p;let I;e[12]!==a?(I=H=>a.ManaRegen(H),e[12]=a,e[13]=I):I=e[13];const y=b(I);let S;e[14]!==a?(S=a.ManaRegenList.bind(a),e[14]=a,e[15]=S):S=e[15];const C=S;let w;e[16]!==i?(w=()=>Au(i),e[16]=i,e[17]=w):w=e[17];const N=w,A=b(Gt),_=c<m;let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(Ws,{}),e[18]=P):P=e[18];let E;e[19]!==s.Mana?(E=l.jsxs("span",{className:Ce.stat,children:[s.Mana," "]}),e[19]=s.Mana,e[20]=E):E=e[20];let $;e[21]!==t||e[22]!==u?($=t(u),e[21]=t,e[22]=u,e[23]=$):$=e[23];let M;e[24]!==t||e[25]!==h?(M=t(h),e[24]=t,e[25]=h,e[26]=M):M=e[26];let q;e[27]!==$||e[28]!==M?(q=l.jsxs("span",{className:Ce.max,children:[$," / ",M]}),e[27]=$,e[28]=M,e[29]=q):q=e[29];let F;e[30]!==x||e[31]!==s.Mana?(F=l.jsx(Pe,{title:s.Mana,selectBonusResult:x}),e[30]=x,e[31]=s.Mana,e[32]=F):F=e[32];let U;e[33]!==E||e[34]!==q||e[35]!==F?(U=l.jsxs(Ie,{children:[P,E," ",q,F]}),e[33]=E,e[34]=q,e[35]=F,e[36]=U):U=e[36];let K;e[37]!==t||e[38]!==y?(K=t(y),e[37]=t,e[38]=y,e[39]=K):K=e[39];let z;e[40]!==s.PerSec||e[41]!==K?(z=l.jsx("span",{className:Ce.stat,children:l.jsxs("span",{className:Ce.max,children:[K," ",s.PerSec]})}),e[40]=s.PerSec,e[41]=K,e[42]=z):z=e[42];let V;e[43]!==C||e[44]!==s.ManaRegen?(V=l.jsx(Pe,{title:s.ManaRegen,selectBonusResult:C}),e[43]=C,e[44]=s.ManaRegen,e[45]=V):V=e[45];let Y;e[46]!==z||e[47]!==V?(Y=l.jsxs(Ie,{children:[z,V]}),e[46]=z,e[47]=V,e[48]=Y):Y=e[48];let X;e[49]!==_||e[50]!==N||e[51]!==A?(X=!A&&l.jsx(se,{variant:"mana",size:"xs",disabled:!_,onClick:N,children:l.jsx(Xn,{})}),e[49]=_,e[50]=N,e[51]=A,e[52]=X):X=e[52];let ne;return e[53]!==U||e[54]!==Y||e[55]!==X?(ne=l.jsxs("div",{className:Ce.line,children:[U,Y,X]}),e[53]=U,e[54]=Y,e[55]=X,e[56]=ne):ne=e[56],ne}),r2=v.memo(function(e){const t=j.c(15),{charId:s}=e;let i;t[0]!==s?(i=ee(s),t[0]=s,t[1]=i):i=t[1];const o=i;let a;t[2]!==o?(a=p=>o.Level(p),t[2]=o,t[3]=a):a=t[3];const r=b(a);let c;t[4]!==o?(c=p=>o.Exp(p),t[4]=o,t[5]=c):c=t[5];const d=b(c);let m;t[6]!==o?(m=p=>o.LevelExp(p),t[6]=o,t[7]=m):m=t[7];const f=b(m);let u;t[8]!==o?(u=p=>o.NextLevelExp(p),t[8]=o,t[9]=u):u=t[9];const g=b(u);let h;return t[10]!==r||t[11]!==f||t[12]!==g||t[13]!==d?(h=l.jsx(Wa,{title:"Level",level:r,xp:d,levelXp:f,nextLevelXp:g}),t[10]=r,t[11]=f,t[12]=g,t[13]=d,t[14]=h):h=t[14],h}),c2=Object.values(Ae).sort(),d2=v.memo(function(e){const t=j.c(4),{charId:s}=e;let i;t[0]!==s?(i=c2.map(a=>l.jsx(m2,{type:a,charId:s},a)),t[0]=s,t[1]=i):i=t[1];let o;return t[2]!==i?(o=l.jsx("ul",{children:i}),t[2]=i,t[3]=o):o=t[3],o}),m2=v.memo(function(e){const t=j.c(15),{type:s,charId:i}=e,{f:o}=G(),{t:a}=k();let r;t[0]!==i?(r=ee(i),t[0]=i,t[1]=r):r=t[1];const c=r;let d;t[2]!==c.armour||t[3]!==s?(d=I=>c.armour[s].Armour(I),t[2]=c.armour,t[3]=s,t[4]=d):d=t[4];const m=b(d),f=c.armour[s].ArmourList,u=Wt[s],g=a[u.ArmourName];let h;t[5]!==o||t[6]!==m?(h=o(m),t[5]=o,t[6]=m,t[7]=h):h=t[7];let p;t[8]!==f||t[9]!==g?(p=l.jsx(Pe,{title:g,selectBonusResult:f}),t[8]=f,t[9]=g,t[10]=p):p=t[10];let x;return t[11]!==g||t[12]!==h||t[13]!==p?(x=l.jsxs("li",{className:"grid grid-flow-col items-center justify-start gap-2 text-sm",children:[g," ",h,p]}),t[11]=g,t[12]=h,t[13]=p,t[14]=x):x=t[14],x}),f2=v.memo(function(e){const t=j.c(22),{charId:s}=e,{t:i,fun:o}=k();let a;t[0]!==s?(a=ee(s),t[0]=s,t[1]=a):a=t[1];const r=a,c=b(r.AllAttackDamage),d=b(r.AttackSpeed),m=r.AttackSpeedList,f=i.NormalAttack;let u;t[2]!==o||t[3]!==d?(u=o.formatTime(d),t[2]=o,t[3]=d,t[4]=u):u=t[4];let g;t[5]!==m||t[6]!==i.NormalAttack?(g=l.jsx(Pe,{title:i.NormalAttack,selectBonusResult:m,isTime:!0}),t[5]=m,t[6]=i.NormalAttack,t[7]=g):g=t[7];let h;t[8]!==i.NormalAttack||t[9]!==u||t[10]!==g?(h=l.jsxs("div",{className:"grid grid-flow-col items-center justify-start gap-2 text-sm",children:[f," ",u,g]}),t[8]=i.NormalAttack,t[9]=u,t[10]=g,t[11]=h):h=t[11];let p;if(t[12]!==s||t[13]!==c){let y;t[15]!==s?(y=S=>l.jsx(u2,{charId:s,damage:S[1],damageType:S[0]},S[0]),t[15]=s,t[16]=y):y=t[16],p=Object.entries(c).sort().map(y),t[12]=s,t[13]=c,t[14]=p}else p=t[14];let x;t[17]!==p?(x=l.jsx("div",{className:"grid grid-flow-col items-center justify-start gap-2 text-sm",children:l.jsx("ul",{children:p})}),t[17]=p,t[18]=x):x=t[18];let I;return t[19]!==h||t[20]!==x?(I=l.jsxs("div",{children:[h,x]}),t[19]=h,t[20]=x,t[21]=I):I=t[21],I}),u2=v.memo(function(e){const t=j.c(12),{charId:s,damage:i,damageType:o}=e,{f:a}=G(),{t:r}=k();let c;t[0]!==s?(c=ee(s),t[0]=s,t[1]=c):c=t[1];const d=c.damage[o].DamageList,m=r[Wt[o].DamageName];let f;t[2]!==i||t[3]!==a?(f=a(i),t[2]=i,t[3]=a,t[4]=f):f=t[4];let u;t[5]!==d||t[6]!==r.NormalAttack?(u=l.jsx(Pe,{title:r.NormalAttack,selectBonusResult:d}),t[5]=d,t[6]=r.NormalAttack,t[7]=u):u=t[7];let g;return t[8]!==m||t[9]!==f||t[10]!==u?(g=l.jsxs("li",{className:"grid grid-flow-col items-center justify-start gap-2",children:[m," ",f,u]}),t[8]=m,t[9]=f,t[10]=u,t[11]=g):g=t[11],g});function g2(n){return l.jsx(s2,{charId:n},n)}const Yl=n=>n.locations[n.location].loot;function h2(n,e){const t=n.locations[n.location].loot.find(o=>o.id===e);if(!t)throw new Error(`[collectLoot]: Loot with id ${e} not found`);vt(n,t.itemId,t.quantity);const s=n.locations[n.location].loot,i=s.findIndex(o=>o.id===e);i!==-1&&s.splice(i,1)}const p2=n=>W(e=>h2(e,n)),Xl=n=>n.battleLogs.ids,x2=n=>e=>qs.select(e.battleLogs,n),I2="_container_zzfxd_1",b2="_container2_zzfxd_9",j2="_row_zzfxd_19",Sn={container:I2,container2:b2,row:j2},Zl=({totalCount:n,itemContent:e,className:t,autoscroll:s=!0,estimateSize:i,lastId:o})=>{"use no memo";const a=v.useRef(null),r=v.useRef(!1),c=v.useRef(void 0),d=md({count:n,getScrollElement:()=>a.current,estimateSize:i,overscan:5});return v.useEffect(()=>{const m=a.current;if(!m)return;const f=2,u=()=>{r.current=m.scrollHeight-m.scrollTop-m.clientHeight<f};return u(),m.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",u),()=>{m.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[]),v.useEffect(()=>{c.current=o},[o]),v.useLayoutEffect(()=>{const m=a.current;if(!m)return;const u=c.current!==void 0&&c.current!==o,g=r.current;s&&u&&g&&(m.scrollTop=m.scrollHeight),c.current=o},[o,s,d.getTotalSize(),n]),l.jsx("div",{ref:a,className:L(Sn.container,t),children:l.jsx("div",{className:Sn.container2,style:{height:`${d.getTotalSize()}px`},children:d.getVirtualItems().map(m=>l.jsx("div",{className:Sn.row,style:{height:`${m.size}px`,transform:`translateY(${m.start}px)`},children:e(m.index)},m.key))})})};var Ms=(n=>(n.Kill="kill",n.Damage="Damage",n.Start="Start",n.End="End",n))(Ms||{});function y2(n){return n.type==="kill"}function v2(n){return n.type==="Start"}function S2(n){return n.type==="End"}function C2(n){return n.type==="Damage"}const w2=l.jsx(fd,{}),k2=v.memo(function(e){const t=j.c(6),{className:s}=e,{t:i}=k();let o;t[0]!==i.Log?(o=l.jsx(pe,{title:i.Log,icon:w2}),t[0]=i.Log,t[1]=o):o=t[1];let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(de,{className:"grid h-80 grid-cols-1 pr-0",children:l.jsx(A2,{})}),t[2]=a):a=t[2];let r;return t[3]!==s||t[4]!==o?(r=l.jsxs(ce,{className:s,children:[o,a]}),t[3]=s,t[4]=o,t[5]=r):r=t[5],r}),N2=()=>20,D2=v.memo(function(e){const t=j.c(2),{index:s}=e,o=b(Xl)[s];if(!o)return null;let a;return t[0]!==o?(a=l.jsx(_2,{id:o}),t[0]=o,t[1]=a):a=t[1],a}),A2=v.memo(function(){const e=j.c(3),t=b(Xl),s=t[t.length-1];let i;return e[0]!==t.length||e[1]!==s?(i=l.jsx(Zl,{className:"text-sm",totalCount:t.length,estimateSize:N2,autoscroll:!0,itemContent:R2,lastId:s}),e[0]=t.length,e[1]=s,e[2]=i):i=e[2],i}),_2=v.memo(function(e){const t=j.c(16),{id:s}=e;let i;t[0]!==s?(i=x2(s),t[0]=s,t[1]=i):i=t[1];const o=b(i);if(!o)return null;let a;t[2]!==o.date?(a=new Date(o.date).toLocaleTimeString(),t[2]=o.date,t[3]=a):a=t[3];const r=a;let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(l.Fragment,{}),t[4]=c):c=t[4];let d=c;if(y2(o)){let u;t[5]!==o?(u=l.jsx(T2,{log:o}),t[5]=o,t[6]=u):u=t[6],d=u}else if(C2(o)){let u;t[7]!==o?(u=l.jsx(M2,{log:o}),t[7]=o,t[8]=u):u=t[8],d=u}else if(v2(o)){let u;t[9]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(P2,{}),t[9]=u):u=t[9],d=u}else if(S2(o)){let u;t[10]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(E2,{}),t[10]=u):u=t[10],d=u}let m;t[11]!==r?(m=l.jsx("span",{className:"text-muted-foreground",children:r}),t[11]=r,t[12]=m):m=t[12];let f;return t[13]!==d||t[14]!==m?(f=l.jsxs("div",{className:"grid grid-flow-col items-center justify-start gap-2",children:[m,d]}),t[13]=d,t[14]=m,t[15]=f):f=t[15],f}),T2=v.memo(function(e){const t=j.c(5),{log:s}=e,{t:i}=k();let o;t[0]!==i.Killed?(o=l.jsx("span",{className:"text-muted-foreground",children:i.Killed}),t[0]=i.Killed,t[1]=o):o=t[1];let a;return t[2]!==s.targets||t[3]!==o?(a=l.jsxs(l.Fragment,{children:[te.Skull,s.targets,o]}),t[2]=s.targets,t[3]=o,t[4]=a):a=t[4],a}),M2=v.memo(function(e){const t=j.c(10),{log:s}=e,{t:i}=k(),{f:o}=G(),a=i[s.abilityId];let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("span",{className:"text-muted-foreground",children:" => "}),t[0]=r):r=t[0];let c;t[1]!==o||t[2]!==s.damageDone||t[3]!==i.Damage?(c=s.damageDone!==void 0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted-foreground",children:i.Damage}),o(s.damageDone)]}),t[1]=o,t[2]=s.damageDone,t[3]=i.Damage,t[4]=c):c=t[4];let d;return t[5]!==s.source||t[6]!==s.targets||t[7]!==a||t[8]!==c?(d=l.jsxs(l.Fragment,{children:[s.source," ",a,r,s.targets," ",c]}),t[5]=s.source,t[6]=s.targets,t[7]=a,t[8]=c,t[9]=d):d=t[9],d}),P2=v.memo(function(){const e=j.c(2),{t}=k();let s;return e[0]!==t.BattleStarted?(s=l.jsxs(l.Fragment,{children:[te.CrossedSwords,t.BattleStarted]}),e[0]=t.BattleStarted,e[1]=s):s=e[1],s}),E2=v.memo(function(){const e=j.c(2),{t}=k();let s;return e[0]!==t.BattleFinished?(s=l.jsxs(l.Fragment,{children:[te.CrossedSwords,t.BattleFinished]}),e[0]=t.BattleFinished,e[1]=s):s=e[1],s});function R2(n){return l.jsx(D2,{index:n})}const L2="_team_2xcge_1",$2="_label_2xcge_15",B2="_attackLabel_2xcge_31",q2="_abilitiesList_2xcge_47",O2="_charCard_2xcge_59",H2="_mainContainer_2xcge_69",F2="_log_2xcge_87",W2="_loot_2xcge_93",U2="_lootRow_2xcge_113",Q2="_svgIcon_2xcge_131",Qe={team:L2,label:$2,attackLabel:B2,abilitiesList:q2,charCard:O2,mainContainer:H2,log:F2,loot:W2,lootRow:U2,svgIcon:Q2},G2=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(_e,{children:l.jsxs("div",{className:Qe.mainContainer,children:[l.jsx(V2,{}),l.jsx(k2,{className:Qe.log}),l.jsx(s0,{})]})}),e[0]=t):t=e[0],t}),V2=v.memo(function(){const e=j.c(7),t=b(Gp);let s;e[0]!==t.allies?(s=t.allies.map(o0),e[0]=t.allies,e[1]=s):s=e[1];let i;e[2]!==t.enemies?(i=t.enemies.map(a0),e[2]=t.enemies,e[3]=i):i=e[3];let o;return e[4]!==s||e[5]!==i?(o=l.jsxs("div",{className:Qe.team,children:[s,i]}),e[4]=s,e[5]=i,e[6]=o):o=e[6],o}),Jl=v.memo(function(e){const t=j.c(34),{charId:s}=e,{t:i}=k();let o;t[0]!==s?(o=ee(s),t[0]=s,t[1]=o):o=t[1];const a=o;let r;t[2]!==a?(r=E=>a.Name(E),t[2]=a,t[3]=r):r=t[3];const c=b(r);let d;t[4]!==a?(d=E=>a.Icon(E),t[4]=a,t[5]=d):d=t[5];const m=b(d),[f,u]=v.useState(!1),g=te[m];let h;t[6]!==c||t[7]!==g?(h=l.jsx(pe,{title:c,icon:g}),t[6]=c,t[7]=g,t[8]=h):h=t[8];let p,x,I,y,S;t[9]!==s?(p=l.jsx(z2,{charId:s}),x=l.jsx(K2,{charId:s}),I=l.jsx(Y2,{charId:s}),y=l.jsx(X2,{charId:s}),S=l.jsx(Z2,{charId:s}),t[9]=s,t[10]=p,t[11]=x,t[12]=I,t[13]=y,t[14]=S):(p=t[10],x=t[11],I=t[12],y=t[13],S=t[14]);let C;t[15]===Symbol.for("react.memo_cache_sentinel")?(C=l.jsx(ud,{}),t[15]=C):C=t[15];let w;t[16]!==i.Stats?(w=l.jsx(C1,{asChild:!0,children:l.jsxs(se,{variant:"ghost",className:"w-full",children:[i.Stats,C]})}),t[16]=i.Stats,t[17]=w):w=t[17];let N;t[18]!==s?(N=l.jsx(Sl,{className:"CollapsibleContent",children:l.jsx(de,{className:"grid gap-2",children:l.jsx(Kl,{charId:s})})}),t[18]=s,t[19]=N):N=t[19];let A;t[20]!==f||t[21]!==w||t[22]!==N?(A=l.jsxs(vl,{open:f,onOpenChange:u,className:"text-sm",children:[w,N]}),t[20]=f,t[21]=w,t[22]=N,t[23]=A):A=t[23];let _;t[24]!==A||t[25]!==p||t[26]!==x||t[27]!==I||t[28]!==y||t[29]!==S?(_=l.jsx(de,{children:l.jsxs("div",{className:Qe.charCard,children:[p,x,I,y,S,A]})}),t[24]=A,t[25]=p,t[26]=x,t[27]=I,t[28]=y,t[29]=S,t[30]=_):_=t[30];let P;return t[31]!==_||t[32]!==h?(P=l.jsxs(ce,{children:[h,_]}),t[31]=_,t[32]=h,t[33]=P):P=t[33],P}),z2=v.memo(function(e){const t=j.c(21),{charId:s}=e,{f:i}=G();let o;t[0]!==s?(o=ee(s),t[0]=s,t[1]=o):o=t[1];const a=o;let r;t[2]!==a?(r=y=>a.Health(y),t[2]=a,t[3]=r):r=t[3];const c=b(r);let d;t[4]!==a?(d=y=>a.MaxHealth(y),t[4]=a,t[5]=d):d=t[5];const m=b(d),f=Math.floor(100*c/m);let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Qs,{}),t[6]=u):u=t[6];let g;t[7]!==i||t[8]!==c?(g=i(c),t[7]=i,t[8]=c,t[9]=g):g=t[9];let h;t[10]!==i||t[11]!==m?(h=i(m),t[10]=i,t[11]=m,t[12]=h):h=t[12];let p;t[13]!==g||t[14]!==h?(p=l.jsxs("span",{className:Qe.label,children:[u,g,"/",h]}),t[13]=g,t[14]=h,t[15]=p):p=t[15];let x;t[16]!==f?(x=l.jsx(Ct,{color:"health",value:f}),t[16]=f,t[17]=x):x=t[17];let I;return t[18]!==p||t[19]!==x?(I=l.jsxs("div",{children:[p,x]}),t[18]=p,t[19]=x,t[20]=I):I=t[20],I}),K2=v.memo(function(e){const t=j.c(21),{charId:s}=e,{f:i}=G();let o;t[0]!==s?(o=ee(s),t[0]=s,t[1]=o):o=t[1];const a=o;let r;t[2]!==a?(r=y=>a.Stamina(y),t[2]=a,t[3]=r):r=t[3];const c=b(r);let d;t[4]!==a?(d=y=>a.MaxStamina(y),t[4]=a,t[5]=d):d=t[5];const m=b(d),f=Math.floor(100*c/m);let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Us,{}),t[6]=u):u=t[6];let g;t[7]!==i||t[8]!==c?(g=i(c),t[7]=i,t[8]=c,t[9]=g):g=t[9];let h;t[10]!==i||t[11]!==m?(h=i(m),t[10]=i,t[11]=m,t[12]=h):h=t[12];let p;t[13]!==g||t[14]!==h?(p=l.jsxs("span",{className:Qe.label,children:[u,g,"/",h]}),t[13]=g,t[14]=h,t[15]=p):p=t[15];let x;t[16]!==f?(x=l.jsx(Ct,{color:"stamina",value:f}),t[16]=f,t[17]=x):x=t[17];let I;return t[18]!==p||t[19]!==x?(I=l.jsxs("div",{children:[p,x]}),t[18]=p,t[19]=x,t[20]=I):I=t[20],I}),Y2=v.memo(function(e){const t=j.c(21),{charId:s}=e,{f:i}=G();let o;t[0]!==s?(o=ee(s),t[0]=s,t[1]=o):o=t[1];const a=o;let r;t[2]!==a?(r=y=>a.Mana(y),t[2]=a,t[3]=r):r=t[3];const c=b(r);let d;t[4]!==a?(d=y=>a.MaxMana(y),t[4]=a,t[5]=d):d=t[5];const m=b(d),f=Math.floor(100*c/m);let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Ws,{}),t[6]=u):u=t[6];let g;t[7]!==i||t[8]!==c?(g=i(c),t[7]=i,t[8]=c,t[9]=g):g=t[9];let h;t[10]!==i||t[11]!==m?(h=i(m),t[10]=i,t[11]=m,t[12]=h):h=t[12];let p;t[13]!==g||t[14]!==h?(p=l.jsxs("span",{className:Qe.label,children:[u,g,"/",h]}),t[13]=g,t[14]=h,t[15]=p):p=t[15];let x;t[16]!==f?(x=l.jsx(Ct,{color:"mana",value:f}),t[16]=f,t[17]=x):x=t[17];let I;return t[18]!==p||t[19]!==x?(I=l.jsxs("div",{children:[p,x]}),t[18]=p,t[19]=x,t[20]=I):I=t[20],I}),X2=v.memo(function(e){const t=j.c(21),{charId:s}=e,{t:i,fun:o}=k();let a;t[0]!==s?(a=Vp(s),t[0]=s,t[1]=a):a=t[1];const r=b(a);let c;t[2]!==s?(c=zp(s),t[2]=s,t[3]=c):c=t[3];const d=b(c);let m;t[4]!==s?(m=Kp(s),t[4]=s,t[5]=m):m=t[5];const f=b(m);let u=null;if(r&&d){let w;t[6]!==d.abilityId?(w=Ue.getEx(d.abilityId),t[6]=d.abilityId,t[7]=w):w=t[7],u=w}const g=f&&te[f],h=!f&&te.Punch,p=u&&i[u.nameId];let x;t[8]!==o||t[9]!==r?(x=r&&l.jsx("span",{className:"text-muted-foreground",children:o.formatTime(r.to-r.from)}),t[8]=o,t[9]=r,t[10]=x):x=t[10];let I;t[11]!==g||t[12]!==h||t[13]!==p||t[14]!==x?(I=l.jsxs("span",{className:Qe.attackLabel,children:[g,h," ",p,x]}),t[11]=g,t[12]=h,t[13]=p,t[14]=x,t[15]=I):I=t[15];const y=r?.id;let S;t[16]!==y?(S=l.jsx(qa,{timerId:y,color:"primary"}),t[16]=y,t[17]=S):S=t[17];let C;return t[18]!==I||t[19]!==S?(C=l.jsxs("div",{children:[I,S]}),t[18]=I,t[19]=S,t[20]=C):C=t[20],C}),Z2=v.memo(function(e){const t=j.c(13),{charId:s}=e;let i;t[0]!==s?(i=nx(s),t[0]=s,t[1]=i):i=t[1];const o=b(i);let a;if(t[2]!==o||t[3]!==s){let d;t[5]!==s?(d=(m,f)=>l.jsx(lo,{characterId:s,abilityId:m,index:f},m+s+f),t[5]=s,t[6]=d):d=t[6],a=o.map(d),t[2]=o,t[3]=s,t[4]=a}else a=t[4];let r;t[7]!==o.length||t[8]!==s?(r=o.length===0&&l.jsx(lo,{characterId:s,abilityId:"NormalAttack",index:0}),t[7]=o.length,t[8]=s,t[9]=r):r=t[9];let c;return t[10]!==a||t[11]!==r?(c=l.jsxs("div",{className:Qe.abilitiesList,children:[a,r]}),t[10]=a,t[11]=r,t[12]=c):c=t[12],c}),lo=v.memo(function(e){const t=j.c(26),{characterId:s,abilityId:i,index:o}=e,{t:a}=k();let r;t[0]!==i||t[1]!==s?(r=Ts(i,s),t[0]=i,t[1]=s,t[2]=r):r=t[2];const c=b(r);let d;t[3]!==c.abilityId?(d=Ue.getEx(c.abilityId),t[3]=c.abilityId,t[4]=d):d=t[4];const m=d;let f;t[5]!==m||t[6]!==s?(f=_=>m.getIconId({state:_,characterId:s}),t[5]=m,t[6]=s,t[7]=f):f=t[7];const u=b(f);let g;t[8]!==m||t[9]!==s?(g=_=>m.getDesc({state:_,characterId:s}),t[8]=m,t[9]=s,t[10]=g):g=t[10];const h=b(g);let p;t[11]!==s||t[12]!==o?(p=_=>_.characters.entries[s]?.lastCombatAbilityNum===o,t[11]=s,t[12]=o,t[13]=p):p=t[13];const x=b(p),I=te[u],y=x?"default":"secondary";let S;t[14]!==I||t[15]!==y?(S=l.jsx(st,{variant:y,className:"text-xl",children:I}),t[14]=I,t[15]=y,t[16]=S):S=t[16];const C=a[m.nameId];let w;t[17]!==I||t[18]!==C?(w=l.jsxs("span",{className:"mb-2 grid grid-cols-[auto_1fr] items-center gap-1.5 text-lg leading-none font-semibold tracking-tight",children:[I," ",C]}),t[17]=I,t[18]=C,t[19]=w):w=t[19];let N;t[20]!==h?(N=l.jsx("div",{children:h}),t[20]=h,t[21]=N):N=t[21];let A;return t[22]!==S||t[23]!==w||t[24]!==N?(A=l.jsxs(ex,{trigger:S,children:[w,N]}),t[22]=S,t[23]=w,t[24]=N,t[25]=A):A=t[25],A}),J2=l.jsx(Gn,{}),e0=()=>24,t0=v.memo(function(e){const t=j.c(2),{index:s}=e,o=b(Yl)[s];if(!o)return null;let a;return t[0]!==o?(a=l.jsx(i0,{loot:o},o.id),t[0]=o,t[1]=a):a=t[1],a});function s0(){const n=j.c(7),{t:e}=k(),t=b(Yl);let s;n[0]!==e.Loot?(s=l.jsx(pe,{title:e.Loot,icon:J2}),n[0]=e.Loot,n[1]=s):s=n[1];let i;n[2]!==t.length?(i=l.jsx(de,{className:"grid h-80 grid-cols-1 pr-0",children:l.jsx(Zl,{totalCount:t.length,estimateSize:e0,autoscroll:!0,itemContent:n0})}),n[2]=t.length,n[3]=i):i=n[3];let o;return n[4]!==s||n[5]!==i?(o=l.jsxs(ce,{className:Qe.loot,children:[s,i]}),n[4]=s,n[5]=i,n[6]=o):o=n[6],o}function n0(n){return l.jsx(t0,{index:n})}const i0=v.memo(function(e){const t=j.c(22),{loot:s}=e,{t:i}=k(),{f:o}=G();let a;t[0]!==s.itemId?(a=oe(s.itemId),t[0]=s.itemId,t[1]=a):a=t[1];const r=b(a);let c;t[2]!==s.id?(c=()=>p2(s.id),t[2]=s.id,t[3]=c):c=t[3];const d=c,m=ze(r);if(!r)return;const f=te[r.icon];let u;t[4]!==f?(u=l.jsx("span",{className:Qe.svgIcon,children:f}),t[4]=f,t[5]=u):u=t[5];let g;t[6]!==m?(g=l.jsx("div",{children:m}),t[6]=m,t[7]=g):g=t[7];let h;t[8]!==o||t[9]!==s.quantity?(h=o(s.quantity),t[8]=o,t[9]=s.quantity,t[10]=h):h=t[10];let p;t[11]!==h?(p=l.jsx("div",{className:"text-right",children:h}),t[11]=h,t[12]=p):p=t[12];let x;t[13]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(Gn,{}),t[13]=x):x=t[13];let I;t[14]!==d||t[15]!==i.Collect?(I=l.jsx(se,{variant:"ghost",size:"xs",title:i.Collect,onClick:d,children:x}),t[14]=d,t[15]=i.Collect,t[16]=I):I=t[16];let y;return t[17]!==u||t[18]!==g||t[19]!==p||t[20]!==I?(y=l.jsxs("div",{className:Qe.lootRow,children:[u,g,p,I]}),t[17]=u,t[18]=g,t[19]=p,t[20]=I,t[21]=y):y=t[21],y});function o0(n){return l.jsx(Jl,{charId:n},n)}function a0(n){return l.jsx(Jl,{charId:n},n)}const l0=()=>W(n=>{n.ui.deadDialog=!1}),r0=v.memo(function(){const e=j.c(6),t=b(Xp),{t:s}=k();let i;e[0]!==s.YouDied?(i=l.jsx(Xt,{children:l.jsx(Cs,{children:s.YouDied})}),e[0]=s.YouDied,e[1]=i):i=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Zt,{}),e[2]=o):o=e[2];let a;return e[3]!==t||e[4]!==i?(a=l.jsxs(Yt,{open:t,onOpenChange:l0,children:[i,o]}),e[3]=t,e[4]=i,e[5]=a):a=e[5],a}),er=n=>n.ui.page,c0=n=>{const e=j.c(2);let t;return e[0]!==n?(t=l.jsx("h1",{className:"grid scroll-m-20 grid-cols-[auto_1fr] items-center gap-1.5 text-2xl font-extrabold tracking-tight text-balance",...n,children:n.children}),e[0]=n,e[1]=t):t=e[1],t},Ps=n=>{const e=j.c(2);let t;return e[0]!==n?(t=l.jsx("p",{className:"leading-7 [&:not(:first-child)]:mt-4",...n,children:n.children}),e[0]=n,e[1]=t):t=e[1],t},d0="_CollectSelects_1xod8_1",m0="_CollectContainer_1xod8_13",tr={CollectSelects:d0,CollectContainer:m0},f0=(n,e,t,s,i)=>W(o=>{const a=ct(o,n,e),r=a?.reqItems;if(!r)return;const c=r.findIndex(f=>f.id===t),d=r[c];if(!d)return;let m=[];s===0?m=r.with(c,{...d,selectedItem1:i}):s===1?m=r.with(c,{...d,selectedItem2:i}):s===2&&(m=r.with(c,{...d,selectedItem3:i})),a.reqItems=m}),u0=n=>{const e=j.c(18),{questId:t,outcomeId:s}=n;let i;e[0]!==s||e[1]!==t?(i=m=>ff(m,t,s),e[0]=s,e[1]=t,e[2]=i):i=e[2];const o=b(St(i));if(!o)return;let a;if(e[3]!==o||e[4]!==s||e[5]!==t){let m;e[7]!==s||e[8]!==t?(m=f=>l.jsx(h0,{questId:t,outcomeId:s,reqId:f},f),e[7]=s,e[8]=t,e[9]=m):m=e[9],a=o.map(m),e[3]=o,e[4]=s,e[5]=t,e[6]=a}else a=e[6];let r;e[10]!==a?(r=l.jsx("div",{className:"@container grid",children:l.jsx("div",{className:tr.CollectContainer,children:a})}),e[10]=a,e[11]=r):r=e[11];let c;e[12]!==s||e[13]!==t?(c=l.jsx(g0,{questId:t,outcomeId:s}),e[12]=s,e[13]=t,e[14]=c):c=e[14];let d;return e[15]!==r||e[16]!==c?(d=l.jsxs("div",{className:"flex flex-col gap-5",children:[r,c]}),e[15]=r,e[16]=c,e[17]=d):d=e[17],d},g0=n=>{const e=j.c(12),{questId:t,outcomeId:s}=n,{f:i}=G(),{t:o}=k();let a;e[0]!==s||e[1]!==t?(a=we(u=>ri(u,t,s)),e[0]=s,e[1]=t,e[2]=a):a=e[2];const c=b(a);if(c.usedItems.length<1)return;const d=o.collectConsume;let m;if(e[3]!==i||e[4]!==c.usedItems){let u;e[6]!==i||e[7]!==c.usedItems.length?(u=(g,h)=>l.jsxs(v.Fragment,{children:[l.jsxs(st,{variant:"secondary",size:"base",children:[i(g.quantity),l.jsx(mn,{itemId:g.itemId})]}),h<c.usedItems.length-1&&","]},g.itemId),e[6]=i,e[7]=c.usedItems.length,e[8]=u):u=e[8],m=c.usedItems.map(u),e[3]=i,e[4]=c.usedItems,e[5]=m}else m=e[5];let f;return e[9]!==o.collectConsume||e[10]!==m?(f=l.jsxs(Ps,{className:"flex items-center gap-1",children:[d,m]}),e[9]=o.collectConsume,e[10]=m,e[11]=f):f=e[11],f},h0=n=>{const e=j.c(38),{questId:t,outcomeId:s,reqId:i}=n,{fun:o}=k();let a;e[0]!==t?(a=w=>ci(t)(w),e[0]=t,e[1]=a):a=e[1];const r=b(a);let c;e[2]!==s||e[3]!==t||e[4]!==i?(c=w=>li(w,t,s,i),e[2]=s,e[3]=t,e[4]=i,e[5]=c):c=e[5];const d=b(c);let m;e[6]!==s||e[7]!==t||e[8]!==i?(m=w=>hf(w,t,s,i),e[6]=s,e[7]=t,e[8]=i,e[9]=m):m=e[9];const f=b(m);if(!d||!d.itemFilter)return null;let u;e[10]!==o||e[11]!==d.itemCount?(u=o.collectN(d.itemCount),e[10]=o,e[11]=d.itemCount,e[12]=u):u=e[12];let g;e[13]!==d.itemFilter?(g=l.jsx(Pl,{itemFilter:d.itemFilter}),e[13]=d.itemFilter,e[14]=g):g=e[14];let h;e[15]!==u||e[16]!==g?(h=l.jsxs(Ps,{children:[u,g]}),e[15]=u,e[16]=g,e[17]=h):h=e[17];const p=d.itemCount<=f&&zo;let x;e[18]!==d.itemCount||e[19]!==f?(x=d.itemCount>f&&l.jsx(gd,{}),e[18]=d.itemCount,e[19]=f,e[20]=x):x=e[20];let I;e[21]!==o||e[22]!==f?(I=o.collectItemsTotal(f),e[21]=o,e[22]=f,e[23]=I):I=e[23];let y;e[24]!==p||e[25]!==x||e[26]!==I?(y=l.jsxs("div",{className:"grid grow basis-0 grid-flow-col items-center justify-start gap-1",children:[p,x,I]}),e[24]=p,e[25]=x,e[26]=I,e[27]=y):y=e[27];let S;e[28]!==s||e[29]!==t||e[30]!==i||e[31]!==r||e[32]!==f?(S=r===Me.ACCEPTED&&f>0&&l.jsx(p0,{questId:t,outcomeId:s,reqId:i}),e[28]=s,e[29]=t,e[30]=i,e[31]=r,e[32]=f,e[33]=S):S=e[33];let C;return e[34]!==y||e[35]!==S||e[36]!==h?(C=l.jsxs("div",{children:[h,y,S]}),e[34]=y,e[35]=S,e[36]=h,e[37]=C):C=e[37],C},p0=n=>{const e=j.c(24),{questId:t,outcomeId:s,reqId:i}=n;let o;e[0]!==s||e[1]!==t||e[2]!==i?(o=g=>li(g,t,s,i),e[0]=s,e[1]=t,e[2]=i,e[3]=o):o=e[3];const a=b(o);let r;e[4]!==a?(r=g=>a?.itemFilter?ef(g,a.itemFilter):0,e[4]=a,e[5]=r):r=e[5];const c=b(r);if(!a||!a.itemFilter)return null;let d;e[6]!==s||e[7]!==t||e[8]!==i?(d=l.jsx(Cn,{questId:t,outcomeId:s,reqId:i,priority:0}),e[6]=s,e[7]=t,e[8]=i,e[9]=d):d=e[9];let m;e[10]!==c||e[11]!==s||e[12]!==t||e[13]!==i?(m=c>1&&l.jsx(Cn,{questId:t,outcomeId:s,reqId:i,priority:1}),e[10]=c,e[11]=s,e[12]=t,e[13]=i,e[14]=m):m=e[14];let f;e[15]!==c||e[16]!==s||e[17]!==t||e[18]!==i?(f=c>2&&l.jsx(Cn,{questId:t,outcomeId:s,reqId:i,priority:2}),e[15]=c,e[16]=s,e[17]=t,e[18]=i,e[19]=f):f=e[19];let u;return e[20]!==d||e[21]!==m||e[22]!==f?(u=l.jsxs("div",{className:tr.CollectSelects,children:[d,m,f]}),e[20]=d,e[21]=m,e[22]=f,e[23]=u):u=e[23],u},Cn=n=>{const e=j.c(19),{questId:t,outcomeId:s,reqId:i,priority:o}=n,{t:a}=k();let r;e[0]!==s||e[1]!==t||e[2]!==i?(r=p=>li(p,t,s,i),e[0]=s,e[1]=t,e[2]=i,e[3]=r):r=e[3];const c=b(r);let d;e[4]!==s||e[5]!==o||e[6]!==t||e[7]!==i?(d=p=>gf(p,t,s,i,o),e[4]=s,e[5]=o,e[6]=t,e[7]=i,e[8]=d):d=e[8];const m=b(d);let f;e[9]!==s||e[10]!==o||e[11]!==t||e[12]!==i?(f=p=>f0(t,s,i,o,p),e[9]=s,e[10]=o,e[11]=t,e[12]=i,e[13]=f):f=e[13];const u=f;if(!c||!c.itemFilter)return null;let g=a.highPriority;o===1?g=a.mediumPriority:o===2&&(g=a.lowPriority);let h;return e[14]!==g||e[15]!==u||e[16]!==c.itemFilter||e[17]!==m?(h=l.jsx(Ml,{itemFilter:c.itemFilter,selectedValue:m,onValueChange:u,label:g}),e[14]=g,e[15]=u,e[16]=c.itemFilter,e[17]=m,e[18]=h):h=e[18],h},x0="_killContainer_1mmqr_1",I0={killContainer:x0},sr=n=>{const e=j.c(13),{id:t}=n;let s;e[0]!==t?(s=g=>ka(t)(g),e[0]=t,e[1]=s):s=e[1];const i=b(s);let o;e[2]!==t?(o=g=>Na(t)(g),e[2]=t,e[3]=o):o=e[3];const a=b(o);let r;e[4]!==t?(r=()=>Af(t),e[4]=t,e[5]=r):r=e[5];const c=r;let d;e[6]!==t?(d=g=>yf(t)(g),e[6]=t,e[7]=d):d=e[7];const m=b(d),f=te[a];let u;return e[8]!==i||e[9]!==c||e[10]!==m||e[11]!==f?(u=l.jsx(mt,{collapsedId:Z.Quest,active:m,text:i,icon:f,onClick:c}),e[8]=i,e[9]=c,e[10]=m,e[11]=f,e[12]=u):u=e[12],u},b0=v.memo(function(){const e=j.c(6),t=b(ns),s=b(St(Bn)),i=t?"1":"0";let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Kn,{}),e[0]=o):o=e[0];let a;e[1]!==s?(a=s.map(T0),e[1]=s,e[2]=a):a=e[2];let r;return e[3]!==i||e[4]!==a?(r=l.jsx(_s,{collapsedId:Z.QuestAccepted,name:"AcceptedQuests",parentCollapsedId:Z.Quest,icon:o,children:a},i),e[3]=i,e[4]=a,e[5]=r):r=e[5],r}),j0=v.memo(function(){const e=j.c(6),t=b(ns),s=b(St(qn)),i=t?"1":"0";let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Kn,{}),e[0]=o):o=e[0];let a;e[1]!==s?(a=s.map(M0),e[1]=s,e[2]=a):a=e[2];let r;return e[3]!==i||e[4]!==a?(r=l.jsx(_s,{collapsedId:Z.QuestAvailable,name:"AvailableQuests",parentCollapsedId:Z.Quest,icon:o,children:a},i),e[3]=i,e[4]=a,e[5]=r):r=e[5],r}),y0=v.memo(function(){const e=j.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(v0,{}),e[0]=t):t=e[0];let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(ss,{sidebar:t,children:l.jsx(_e,{children:l.jsx("div",{className:"mx-auto max-w-6xl",children:l.jsx(S0,{})})})}),e[1]=s):s=e[1],s}),v0=()=>{const n=j.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsxs(kt,{collapsedId:Z.Quest,children:[l.jsx(b0,{}),l.jsx(j0,{})]}),n[0]=e):e=n[0],e},S0=v.memo(function(){const e=j.c(17),t=b(Ys),s=b(vf);let i;e[0]!==t?(i=f=>ci(t)(f),e[0]=t,e[1]=i):i=e[1];const o=b(i);if(!t||t===""){let f;return e[2]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(l.Fragment,{}),e[2]=f):f=e[2],f}let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(C0,{}),e[3]=a):a=e[3];let r;if(e[4]!==t||e[5]!==s){let f;e[7]!==t?(f=u=>l.jsx(N0,{questId:t,outcomeId:u},u),e[7]=t,e[8]=f):f=e[8],r=s.map(f),e[4]=t,e[5]=s,e[6]=r}else r=e[6];let c;e[9]!==r?(c=l.jsx(w0,{children:r}),e[9]=r,e[10]=c):c=e[10];let d;e[11]!==t||e[12]!==o?(d=o===Me.AVAILABLE&&l.jsx(k0,{id:t}),e[11]=t,e[12]=o,e[13]=d):d=e[13];let m;return e[14]!==c||e[15]!==d?(m=l.jsxs(l.Fragment,{children:[a,l.jsxs("div",{className:"mt-4 grid gap-4",children:[c,d]})]}),e[14]=c,e[15]=d,e[16]=m):m=e[16],m}),C0=()=>{const n=j.c(14),e=b(Ys);let t;n[0]!==e?(t=u=>ka(e)(u),n[0]=e,n[1]=t):t=n[1];const s=b(t);let i;n[2]!==e?(i=u=>Na(e)(u),n[2]=e,n[3]=i):i=n[3];const o=b(i);let a;n[4]!==e?(a=u=>jf(e)(u),n[4]=e,n[5]=a):a=n[5];const r=b(a),c=te[o];let d;n[6]!==s||n[7]!==c?(d=l.jsx(es,{children:l.jsx(et,{children:l.jsxs(c0,{children:[c,s]})})}),n[6]=s,n[7]=c,n[8]=d):d=n[8];let m;n[9]!==r?(m=l.jsx(de,{children:l.jsx(Ps,{children:r})}),n[9]=r,n[10]=m):m=n[10];let f;return n[11]!==d||n[12]!==m?(f=l.jsxs(ce,{children:[d,m]}),n[11]=d,n[12]=m,n[13]=f):f=n[13],f},w0=n=>{const e=j.c(8),{children:t}=n,s=b(Ys);let i;e[0]!==s?(i=d=>Pf(s,d),e[0]=s,e[1]=i):i=e[1];const o=i;let a;e[2]!==s?(a=d=>s?Nf(d,s):void 0,e[2]=s,e[3]=a):a=e[3];const r=b(a);let c;return e[4]!==t||e[5]!==r||e[6]!==o?(c=l.jsx(Dl,{type:"single",collapsible:!0,className:"grid w-full gap-4",value:r,onValueChange:o,children:t}),e[4]=t,e[5]=r,e[6]=o,e[7]=c):c=e[7],c},k0=n=>{const e=j.c(5),{id:t}=n,{t:s}=k();let i;e[0]!==t?(i=()=>Mf(t),e[0]=t,e[1]=i):i=e[1];const o=i;let a;return e[2]!==o||e[3]!==s.Accept?(a=l.jsx(se,{onClick:o,className:"justify-self-start",children:s.Accept}),e[2]=o,e[3]=s.Accept,e[4]=a):a=e[4],a},N0=n=>{const e=j.c(52),{questId:t,outcomeId:s}=n,{t:i}=k();let o;e[0]!==t?(o=M=>ci(t)(M),e[0]=t,e[1]=o):o=e[1];const a=b(o);let r;e[2]!==s||e[3]!==t?(r=M=>Da(t,s)(M),e[2]=s,e[3]=t,e[4]=r):r=e[4];const c=b(r);let d;e[5]!==s||e[6]!==t?(d=()=>{W(M=>Ef(M,t,s))},e[5]=s,e[6]=t,e[7]=d):d=e[7];const m=d;let f;e[8]!==s||e[9]!==t?(f=M=>Sf(t,s)(M),e[8]=s,e[9]=t,e[10]=f):f=e[10];const u=b(f);let g;e[11]!==s||e[12]!==t?(g=M=>Cf(t,s)(M),e[11]=s,e[12]=t,e[13]=g):g=e[13];const h=b(g);let p;e[14]!==s||e[15]!==t?(p=M=>xf(M,t,s),e[14]=s,e[15]=t,e[16]=p):p=e[16];const x=b(p);let I;e[17]!==s||e[18]!==t?(I=M=>uf(M,t,s),e[17]=s,e[18]=t,e[19]=I):I=e[19];const y=b(I);let S;e[20]!==u?(S=l.jsx(es,{children:l.jsx(_i,{className:"p-0",children:l.jsxs(et,{children:[Vo," ",u]})})}),e[20]=u,e[21]=S):S=e[21];let C;e[22]!==h?(C=l.jsx(Ps,{children:h}),e[22]=h,e[23]=C):C=e[23];let w;e[24]!==x||e[25]!==s||e[26]!==t?(w=x&&l.jsx(_0,{questId:t,outcomeId:s}),e[24]=x,e[25]=s,e[26]=t,e[27]=w):w=e[27];let N;e[28]!==y||e[29]!==s||e[30]!==t?(N=y&&l.jsx(u0,{questId:t,outcomeId:s}),e[28]=y,e[29]=s,e[30]=t,e[31]=N):N=e[31];let A;e[32]!==s||e[33]!==t?(A=l.jsx(D0,{questId:t,outcomeId:s}),e[32]=s,e[33]=t,e[34]=A):A=e[34];let _;e[35]!==m||e[36]!==c||e[37]!==a||e[38]!==i?(_=a===Me.ACCEPTED&&l.jsx(se,{onClick:m,disabled:!c,className:"self-start",children:i.Complete}),e[35]=m,e[36]=c,e[37]=a,e[38]=i,e[39]=_):_=e[39];let P;e[40]!==N||e[41]!==A||e[42]!==_||e[43]!==C||e[44]!==w?(P=l.jsx(Ti,{children:l.jsxs(de,{className:"flex flex-col gap-4",children:[C,w,N,A,_]})}),e[40]=N,e[41]=A,e[42]=_,e[43]=C,e[44]=w,e[45]=P):P=e[45];let E;e[46]!==P||e[47]!==S?(E=l.jsxs(ce,{children:[S,P]}),e[46]=P,e[47]=S,e[48]=E):E=e[48];let $;return e[49]!==s||e[50]!==E?($=l.jsx(Ai,{value:s,children:E}),e[49]=s,e[50]=E,e[51]=$):$=e[51],$},D0=n=>{const e=j.c(22),{questId:t,outcomeId:s}=n,{t:i}=k(),{f:o}=G();let a;e[0]!==s||e[1]!==t?(a=p=>wf(p,t,s),e[0]=s,e[1]=t,e[2]=a):a=e[2];const r=b(a);let c;e[3]!==s||e[4]!==t?(c=p=>kf(p,t,s),e[3]=s,e[4]=t,e[5]=c):c=e[5];const d=b(c);let m;e[6]!==i.Rewards?(m=l.jsx(et,{children:i.Rewards}),e[6]=i.Rewards,e[7]=m):m=e[7];let f;e[8]!==o||e[9]!==r?(f=r>0&&l.jsxs(st,{variant:"secondary",size:"base",children:[Ed,o(r)]}),e[8]=o,e[9]=r,e[10]=f):f=e[10];let u;if(e[11]!==d||e[12]!==t){let p;e[14]!==t?(p=x=>l.jsx(A0,{itemId:x.itemId,quantity:x.quantity},t+x.itemId+x.quantity),e[14]=t,e[15]=p):p=e[15],u=d.map(p),e[11]=d,e[12]=t,e[13]=u}else u=e[13];let g;e[16]!==f||e[17]!==u?(g=l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[f,u]}),e[16]=f,e[17]=u,e[18]=g):g=e[18];let h;return e[19]!==m||e[20]!==g?(h=l.jsxs("div",{children:[m,g]}),e[19]=m,e[20]=g,e[21]=h):h=e[21],h};function A0(n){const e=j.c(25),{itemId:t,quantity:s}=n,{f:i}=G();let o;e[0]!==t?(o=y=>t?oe(t)(y):null,e[0]=t,e[1]=o):o=e[1];const a=b(o),r=ze(a);if(!a){let y;return e[2]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(l.Fragment,{}),e[2]=y):y=e[2],y}const c=te[a.icon];let d;e[3]!==i||e[4]!==s?(d=i(s),e[3]=i,e[4]=s,e[5]=d):d=e[5];let m;e[6]!==t?(m=l.jsx(mn,{itemId:t}),e[6]=t,e[7]=m):m=e[7];let f;e[8]!==d||e[9]!==m?(f=l.jsx(hd,{asChild:!0,children:l.jsxs(st,{variant:"secondary",size:"base",children:[d," ",m]})}),e[8]=d,e[9]=m,e[10]=f):f=e[10];let u;e[11]!==i||e[12]!==s?(u=i(s),e[11]=i,e[12]=s,e[13]=u):u=e[13];const g=`${u} ${r}`;let h;e[14]!==c||e[15]!==g?(h=l.jsx(pe,{title:g,icon:c}),e[14]=c,e[15]=g,e[16]=h):h=e[16];let p;e[17]!==a?(p=l.jsx(de,{children:l.jsx(xi,{item:a})}),e[17]=a,e[18]=p):p=e[18];let x;e[19]!==h||e[20]!==p?(x=l.jsx(Lo,{children:l.jsx(pd,{side:"top",children:l.jsxs(ce,{className:"min-w-50",children:[h,p]})})}),e[19]=h,e[20]=p,e[21]=x):x=e[21];let I;return e[22]!==f||e[23]!==x?(I=l.jsxs(xd,{children:[f,x]}),e[22]=f,e[23]=x,e[24]=I):I=e[24],I}const _0=n=>{const e=j.c(29),{questId:t,outcomeId:s}=n;let i;e[0]!==s||e[1]!==t?(i=g=>wa.getDescription(t,s)(g),e[0]=s,e[1]=t,e[2]=i):i=e[2];const o=b(i);let a;e[3]!==s||e[4]!==t?(a=g=>If(g,t,s),e[3]=s,e[4]=t,e[5]=a):a=e[5];const r=b(a);if(!r){let g;return e[6]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(l.Fragment,{}),e[6]=g):g=e[6],g}let c;e[7]!==o?(c=l.jsx(Ps,{children:o}),e[7]=o,e[8]=c):c=e[8];let d;if(e[9]!==s||e[10]!==t||e[11]!==r){let g;e[13]!==s||e[14]!==t?(g=h=>l.jsx(ro,{target:h},t+s+h.targetId),e[13]=s,e[14]=t,e[15]=g):g=e[15],d=r.map(g),e[9]=s,e[10]=t,e[11]=r,e[12]=d}else d=e[12];let m;if(e[16]!==s||e[17]!==t||e[18]!==r){let g;e[20]!==s||e[21]!==t?(g=h=>l.jsx(ro,{target:h},t+s+h.targetId),e[20]=s,e[21]=t,e[22]=g):g=e[22],m=r.map(g),e[16]=s,e[17]=t,e[18]=r,e[19]=m}else m=e[19];let f;e[23]!==d||e[24]!==m?(f=l.jsxs("div",{className:I0.killContainer,children:[d,m]}),e[23]=d,e[24]=m,e[25]=f):f=e[25];let u;return e[26]!==c||e[27]!==f?(u=l.jsxs("div",{className:"@container",children:[c,f]}),e[26]=c,e[27]=f,e[28]=u):u=e[28],u},ro=n=>{const e=j.c(21),{target:t}=n,{targetId:s,targetCount:i,killedCount:o}=t,{t:a}=k(),{f:r}=G(),c=un[s];if(i<=0){let S;return e[0]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(l.Fragment,{}),e[0]=S):S=e[0],S}let d;e[1]!==o||e[2]!==i?(d=Math.round(o/i*100),e[1]=o,e[2]=i,e[3]=d):d=e[3];const m=d,f=o>=i&&zo,u=te[c.iconId],g=a[c.nameId];let h;e[4]!==r||e[5]!==o?(h=r(o),e[4]=r,e[5]=o,e[6]=h):h=e[6];let p;e[7]!==r||e[8]!==i?(p=r(i),e[7]=r,e[8]=i,e[9]=p):p=e[9];let x;e[10]!==f||e[11]!==u||e[12]!==g||e[13]!==h||e[14]!==p?(x=l.jsxs(st,{variant:"secondary",className:"mb-1",size:"base",children:[f," ",u," ",g," ",h,"/",p]}),e[10]=f,e[11]=u,e[12]=g,e[13]=h,e[14]=p,e[15]=x):x=e[15];let I;e[16]!==m?(I=l.jsx(Ct,{value:m,color:"primary"}),e[16]=m,e[17]=I):I=e[17];let y;return e[18]!==x||e[19]!==I?(y=l.jsxs("div",{children:[x,I]}),e[18]=x,e[19]=I,e[20]=y):y=e[20],y};function T0(n){return l.jsx(sr,{id:n},n)}function M0(n){return l.jsx(sr,{id:n},n)}const P0="_container_zyubl_1",E0="_header_zyubl_19",R0="_side_zyubl_53",L0="_menu_zyubl_99",$0="_headerLeft_zyubl_121",Is={container:P0,header:E0,side:R0,menu:L0,headerLeft:$0},B0=v.memo(function(){const e=j.c(8),t=b(ns);let s;e[0]!==t?(s=Le(Is.container,{sideOpen:t},{contentOpen:!t}),e[0]=t,e[1]=s):s=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(q0,{}),e[2]=i):i=e[2];let o,a,r;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("div",{className:Is.side,children:l.jsx(og,{})}),a=l.jsx(H0,{}),r=l.jsx(r0,{}),e[3]=o,e[4]=a,e[5]=r):(o=e[3],a=e[4],r=e[5]);let c;return e[6]!==s?(c=l.jsxs("div",{className:s,children:[i,o,a,r]}),e[6]=s,e[7]=c):c=e[7],c}),q0=v.memo(function(){const e=j.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsxs("header",{className:Is.header,children:[l.jsxs("div",{className:Is.headerLeft,children:[l.jsx(se,{onClick:g1,className:Is.menu,variant:"outline",children:l.jsx(Id,{})}),l.jsx(O0,{})]}),l.jsx("div",{children:l.jsx(np,{})})]}),e[0]=t):t=e[0],t}),O0=v.memo(function(){const e=j.c(3),t=b(er),{t:s}=k(),i=ln[t];if(!i)return null;const o=s[i.nameId];let a;return e[0]!==o||e[1]!==i.icon?(a=l.jsxs(et,{children:[i.icon,o]}),e[0]=o,e[1]=i.icon,e[2]=a):a=e[2],a}),H0=v.memo(function(){const e=j.c(9);switch(b(er)){case J.Woodcutting:{let s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Q1,{}),e[0]=s):s=e[0],s}case J.Storage:{let s;return e[1]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Hg,{}),e[1]=s):s=e[1],s}case J.Activities:{let s;return e[2]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(ph,{}),e[2]=s):s=e[2],s}case J.Mining:{let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Sp,{}),e[3]=s):s=e[3],s}case J.CombatZones:{let s;return e[4]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Lp,{}),e[4]=s):s=e[4],s}case J.Combat:{let s;return e[5]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(G2,{}),e[5]=s):s=e[5],s}case J.Characters:{let s;return e[6]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Jx,{}),e[6]=s):s=e[6],s}case J.Quest:{let s;return e[7]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(y0,{}),e[7]=s):s=e[7],s}case J.Woodworking:case J.Smithing:case J.Butchering:case J.Alchemy:{let s;return e[8]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(zh,{}),e[8]=s):s=e[8],s}}});function F0(){const n=j.c(4),e=b(Jd),t=b(em);let s,i;n[0]!==e||n[1]!==t?(s=()=>{const o=window.document.documentElement,a=["light","dark"];o.classList.forEach(d=>{d.startsWith("theme-")&&a.push(d)}),o.classList.remove(...a);let r=e;e==="system"&&(r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),o.classList.add(r);const c=r==="dark"?"dark-":"";t!==""&&o.classList.add(`theme-${c}${t}`)},i=[e,t],n[0]=e,n[1]=t,n[2]=s,n[3]=i):(s=n[2],i=n[3]),v.useEffect(s,i)}function W0(n,e){const t=Te.select(n.timers,e);if(!t)return;const s=t.to;n.isTimer=!0;try{let i=Hs(n.timers,s);for(;i;)n.now=i.to,Hn(n,i.id),i=Hs(n.timers,s);const o=Te.select(n.timers,e);o&&Hn(n,o.id)}finally{n.isTimer=!1}}const U0=n=>W(e=>W0(e,n)),Wn=new Map;function Q0(n){n.loading||n.isTimer||(Te.forEach(n.timers,e=>{const t=Wn.get(e.id);t?(e.from!==t.to||e.to!==t.to)&&(clearInterval(t.intervalId),co(e)):co(e)}),Wn.forEach((e,t,s)=>{Te.select(n.timers,t)||(clearInterval(e.intervalId),s.delete(t))}))}function co(n){const e=Math.max(n.to-Date.now(),0),t=setTimeout(()=>U0(n.id),e);Wn.set(n.id,{id:n.id,to:n.to,from:n.from,intervalId:t})}setInterval(()=>{b.getState().gameId===""||b.getState().loading||W(t=>di(t,Date.now()))},1e3);if("indexedDB"in window){const n=window.indexedDB.open("IdleCraft",1),e=bd(t=>{if(t.gameId===""||t.loading)return;const a=n.result.transaction("save","readwrite").objectStore("save").put(t);a.onerror=()=>{console.log("Save failed")}},500);n.onupgradeneeded=()=>{n.result.createObjectStore("save",{keyPath:"gameId"})},n.onsuccess=()=>{b.subscribe(e)}}b.subscribe(Q0);function G0(){const n=j.c(3);F0(),iu();const e=b(Hf),t=b(Pa);if(!("indexedDB"in window)){let i;return n[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("div",{className:"grid h-dvh items-center justify-center p-0",children:l.jsxs(Ze,{variant:"destructive",children:[l.jsx(Yn,{className:"h-4 w-4"}),l.jsx(ot,{children:"Error"}),l.jsx(gt,{children:"indexedDB not found, please check your browser permission"})]})}),n[0]=i):i=n[0],i}if(e!==""&&!t){let i;return n[1]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(B0,{}),n[1]=i):i=n[1],i}else{let i;return n[2]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Yf,{}),n[2]=i):i=n[2],i}}const V0=2.5,z0=1.5,K0=2,Y0=Ge(function(e,t){const s={};return Object.entries(e).forEach(i=>{const o=i[0];s[o]=i[1]*t}),s},{isDeepEqual:!0,maxSize:30});function nr(n,e){return n+Math.floor(Math.random()*(e-n+1))}function X0(n){const e=n.length;return e?n[nr(0,e-1)]:void 0}function Z0(n,e){const t=[];return R.forEach(n.characters,s=>{s.isEnemy!==e&&t.push(s.id)}),X0(t)}const J0=100;function gn(n,e){const t={...e,id:He(),date:n.now};for(qs.create(n.battleLogs,t);n.battleLogs.ids.length>J0;){const s=n.battleLogs.ids[0];s&&qs.remove(n.battleLogs,s)}}function eI(n,e){const s=ee(e).Name(n),i={type:Ms.Kill,targets:s};gn(n,i)}function tI(n,e){if(n<=0)return 0;let t=n/(n+e);return e<0&&t>2&&(t=(2.5*n-e**2)/(2.5*e)),Math.max(0,t)}function sI(n,e){const t=n.locations[n.location].loot;for(const s of e){if(t.length>=Pm)return;s.probability&&nr(0,100)>s.probability||t.unshift({id:He(),itemId:s.itemId,quantity:s.quantity})}}const Un=[];function ir(n,e){Te.select(n.timers,e)&&Te.remove(n.timers,e)}function or(n,e){if(e===ie){nI(n);return}R.remove(n.characters,e);const t=[];lt.forEach(n.castCharAbility,s=>{s.characterId===e&&t.push(s.id)}),Te.forEach(n.timers,s=>{t.some(i=>i===s.actId)&&ir(n,s.id)}),t.forEach(s=>{lt.remove(n.castCharAbility,s)})}function nI(n){const e=re.getIds(n.activities);for(const t of e)js(n,t);n.ui.deadDialog=!0,R.selectEx(n.characters,ie).health=1}function iI(n,e){const t=R.selectEx(n.characters,e).loot;t&&sI(n,t);for(const s of Un)s(n,e);or(n,e)}function oI(n,e,t,s){let i=!1;const o=R.selectEx(n.characters,e);let a=0;Object.entries(t).forEach(c=>{if(i)return;const d=c[0],m=c[1],u=ee(e).armour[d].Armour(n),g=tI(m,u),h=m*g;a+=h;let p=Math.max(0,Math.floor(o.health-h));p<1e-4&&(i=!0,p=0),o.health=p});const r={type:Ms.Damage,...s,damageDone:a};return gn(n,r),i&&iI(n,e),{killed:i,damageDone:a}}function hn(n,e,t,s=ie){const i=R.selectEx(n.characters,s);if(i.isEnemy)return;const o=i.skillsExp[e]??0,a=i.skillsLevel[e]??-1,r=Math.floor(o+t),c=r<_n?0:Math.floor(Math.log10(r*(Os-1)/_n+1)/Math.log10(Os));i.exp+=t,i.level=Dm(i.exp),i.skillsExp[e]=r,c!==a&&(i.skillsLevel[e]=c)}const aI=n=>Object.values(n).reduce((e,t)=>e+t);class ar{id=$e.NormalAttack;nameId="NormalAttack";getDesc(e){return ke(e.state).t.NormalAttackDesc}getIconId(e){return ee(e.characterId).MainWeapon(e.state)?.icon??D.Punch}getChargeTime(e){return ee(e.characterId).AttackSpeed(e.state)}getHealthCost(){return 0}getStaminaCost(e){return 0}getManaCost(){return 0}getDamage(e,t){return ee(e).AllAttackDamage(t)}exec(e){const{characterId:t}=e,{state:s}=e,i=R.selectEx(s.characters,t),o=Z0(s,i.isEnemy);if(!o)return;const a=this.getDamage(t,s),r=ee(e.characterId).Name(s),c=ee(o).Name(s);if(!i.isEnemy){const d=ee(t).MainWeapon(s);d&&d.weaponData&&hn(s,d.weaponData.expType,aI(a)*Mm)}oI(s,o,a,{iconId:this.getIconId(e),abilityId:this.nameId,source:r,targets:c})}}class lI extends ar{id=$e.ChargedAttack;nameId="ChargedAttack";getDesc(e){return ke(e.state).t.ChargedAttackDesc}getIconId(){return D.SaberSlash}getChargeTime(e){return ee(e.characterId).AttackSpeed(e.state)*z0}getHealthCost(){return 0}getStaminaCost(e){return this.getChargeTime(e)*K0/1e3}getManaCost(){return 0}getDamage(e,t){return Y0(ee(e).AllAttackDamage(t),V0)}}function lr(n,e,t){t===ue.NotPossible?js(n,e):t===ue.Ended&&(n.activityDone+=1,n.activityId=e,n.lastActivityDone=n.orderedActivities.indexOf(e)),t!==ue.Started&&Zs(n)}function rI(n){return!R.find(n.characters,t=>t.isEnemy)}function cI(n,e,t){const s=Ue.get(t);if(!s)throw new Error(`[execAbility] ability ${t} not found`);const i=R.selectEx(n.characters,e),o=s.getHealthCost({state:n,characterId:e});if(o>i.health+1)return!1;const a=s.getStaminaCost({state:n,characterId:e});if(a>i.stamina)return!1;const r=s.getManaCost({state:n,characterId:e});if(r>i.mana)return!1;const c=R.selectEx(n.characters,e),d={health:c.health-o,stamina:c.stamina-a,mana:c.mana-r};return R.update(n.characters,e,d),!0}function mo(n,e,t){const s=Ue.getEx(t);if(!cI(n,e,t))return!1;const o=He();lt.create(n.castCharAbility,{id:o,abilityId:t,characterId:e});const a=s.getChargeTime({state:n,characterId:e});return It(n,a,Q.Ability,o),!0}function rr(n,e){const t=R.selectEx(n.characters,e);let s=!1;const i=t.lastCombatAbilityNum+1,o=t.combatAbilities.length,a=i%o,r=t.combatAbilities[a];if(r){const c=t.allCombatAbilities.entries[r];c&&mo(n,e,c.abilityId)&&(s=!0,t.lastCombatAbilityNum=a,t.lastCombatAbilityId=r)}s||mo(n,e,$e.NormalAttack)}function cr(n){const e=R.getIds(n.characters);for(const s of e){const i=R.selectEx(n.characters,s);i&&i.isEnemy&&or(n,s)}n.castCharAbility=lt.getInitialState(),Te.findMany(n.timers,s=>s.type===Q.Ability)?.forEach(s=>{ir(n,s.id)}),gn(n,{type:Ms.End})}function dI(n,e,t){if(Ue.getEx(e).exec({state:n,characterId:t}),!n.activityId)return n;if(!rI(n)){R.select(n.characters,t)&&rr(n,t);return}const i=re.select(n.activities,n.activityId);if(!i||i.type!==Q.Battle)return n;cr(n),lr(n,i.id,ue.Ended)}function mI(n,e){const t=lt.select(n.castCharAbility,e.actId);if(!t)return n;lt.remove(n.castCharAbility,t.id),dI(n,t.abilityId,t.characterId)}function fI(n){return n.type===Q.Battle}const qi=(n,e)=>{const t=re.selectEx(n.activities,e);if(!fI(t))throw new Error(`Activity ${e} is not a battle`);return t};function uI(n,e){const t=qi(n,e);return fn[t.battleZoneEnum].iconId}function gI(n,e){const t=qi(n,e),s=fn[t.battleZoneEnum];return ke(n).fun.fighting(s.nameId)}function hI(n,e){const t=n.timers;for(const s of t.ids){const i=Te.select(t,s);i&&e===i.actId&&Te.remove(t,s)}}const pn=n=>(e,t)=>{const s=e.activityId===t;n&&n(e,t);const i=e.lastActivityDone>=e.orderedActivities.indexOf(t)?Math.max(0,e.lastActivityDone-1):e.lastActivityDone;re.remove(e.activities,t),e.lastActivityDone=i,e.activityId=t===e.activityId?null:e.activityId,e.orderedActivities=e.orderedActivities.filter(o=>o!==t),hI(e,t),s&&Zs(e)},pI=pn((n,e)=>{n.activityId===e&&cr(n)}),xn=n=>(e,t)=>{const s=n(e,t);return e.activityId=t,s},xI=xn((n,e)=>(It(n,3e3,Q.StartBattle,e),ue.Started));function II(n,e){const t=ee(e).MaxHealth(n);R.selectEx(n.characters,e).health=t}function bI(n,e){const t=ee(e).MaxMana(n);R.selectEx(n.characters,e).mana=t}function jI(n,e){const t=ee(e).MaxStamina(n);R.selectEx(n.characters,e).stamina=t}function yI(n,e){e.forEach(s=>{for(let i=0;i<s.quantity;i++){const o=$i(un[s.template]);o.isEnemy=!0,R.create(n.characters,o)}}),R.getIds(n.characters).forEach(s=>{R.selectEx(n.characters,s).isEnemy&&(II(n,s),bI(n,s),jI(n,s))})}function vI(n,e){const t=qi(n,e.actId),s=fn[t.battleZoneEnum];yI(n,s.enemies),gn(n,{type:Ms.Start});const i=R.getIds(n.characters);for(const o of i)rr(n,o)}const nt=n=>({...n,getResult:Pn(n.getResult),getParameters:Pn(n.getParameters)}),SI=[{id:"corpse",nameId:"Corpse",type:ve.ItemType,itemFilter:{itemType:O.Corpse}}],fo=nt({id:"butcheringRecipe",type:he.Butchering,nameId:"Butchering",iconId:D.MeatCleaver,itemSubType:qe.Crafting,getParameters:()=>SI,getResult:function(n,e){const t=e.find(i=>i.id==="corpse");if(!t||!t.itemId)return;const s=ha[t.itemId];if(s&&s.butchering)return{time:3e3,requirements:[{qta:1,itemId:t.itemId}],results:s.butchering}}}),Oi=n=>(e,t)=>{const s=n(e,t),i=t.actId;i&&lr(e,i,s)};function dr(n,e){if(!e)return!1;for(const t of e.requirements)if(Tt(n.location,t.itemId)(n)<t.qta)return!1;return!0}const CI=Oi((n,e)=>{const t=e.actId,s=dn(n,t),i=xe.getEx(s.recipeId),o=s.result;if(!dr(n,o))return ue.NotPossible;for(const a of o.requirements)Ks(n,a.itemId,a.qta);for(const a of o.results)if(a.stdItemId)vt(n,a.stdItemId,a.qta);else if(a.craftedItem){const{id:r}=Om(n.craftedItems,a.craftedItem);vt(n,r,a.qta)}return hn(n,Tl[i.type].expType,10),i.afterCrafting&&i.afterCrafting(n,s.paramsValue,s.result),ue.Ended}),wI=pn(),kI=xn((n,e)=>{const t=dn(n,e),i=xe.getEx(t.recipeId).getResult(n,t.paramsValue);return!i||!dr(n,i)?ue.NotPossible:(t.result=i,It(n,i.time,Q.Crafting,e),ue.Started)});function NI(n,e,t){return(n.locations[n.location].ores[e]?.qta??1)>0}function DI(n,e,t){const s=Ns(n,e);n.locations[t].ores[e]=structuredClone(s)}function AI(n,e,t,s){const i=n.locations[s].ores[e];let o,a;const r=Ns(n,e);i?(o=i.qta,a=i.hp):(o=r.qta,a=r.hp);const c=dt[e];let d=a-Math.max(0,t-c.armour),m=!1;return d<=0&&(d=r.hp,o=Math.max(0,o-1),m=!0,d<=0&&(d=0)),n.locations[s].ores[e]={hp:d,qta:o},{mined:m}}function In(n,e){const t=re.selectEx(n,e);if(!tn(t))throw new Error(`[getMiningIcon]: ${e} is not a mining activity`);return t}function mr(n,e){const t=In(n.activities,e),s=ql(n);It(n,s,Q.Mining,e),t.isMining=!0}const _I=Oi((n,e)=>{const t=re.selectEx(n.activities,e.actId);if(!tn(t))throw new Error("[makeExecActivity] Not a mining activity");const s=e.actId;let i=!1;if(!t.isMining)t.isMining=!0,DI(n,t.oreType,n.location);else{const o=xp(n);hn(n,ae.Mining,o*.1),i=AI(n,t.oreType,o,n.location).mined}return i?vt(n,`${t.oreType}Ore`,1):mr(n,s),i?ue.Ended:ue.Started});function TI(n,e){const t=In(n.activities,e);return dt[t.oreType].iconId}function MI(n,e){const t=In(n.activities,e);return ke(n).fun.mining(dt[t.oreType].nameId)}const PI=pn(),EI=xn((n,e)=>{const t=In(n.activities,e);if(NI(n,t.oreType))mr(n,e);else{const s=ql(n);It(n,s,Q.Mining,e),t.isMining&&(t.isMining=!1)}return ue.Started});class fr{getOutcomeGoldReward=(e,t)=>s=>{const i=le.selectEx(s.quests,e),o=_t.selectEx(i.outcomeData,t);return o?o.goldReward??0:0};getOutcomeItemReward=(e,t)=>s=>{const i=le.selectEx(s.quests,e),o=_t.selectEx(i.outcomeData,t);return o?o.itemsRewards??[]:[]}}class RI extends fr{nextQuestId="kill-n";id="kill-n";getName=e=>t=>ke(t).fun.testQuestName(le.selectEx(t.quests,e).parameters);getDescription=e=>t=>ke(t).fun.testQuestDesc(le.selectEx(t.quests,e).parameters);getIcon=e=>t=>D.Skull;getOutcomeTitle=(e,t)=>s=>t==="k"?"Kill":"Collect";getOutcomeDescription=(e,t)=>s=>{const i=ke(s).fun;return t==="k"?i.testOutcomeDesc(le.selectEx(s.quests,e).parameters):i.testOutcome2Desc(le.selectEx(s.quests,e).parameters)};generateQuestData=e=>{const t={id:"k",location:at.StartVillage,goldReward:100,itemsRewards:[{itemId:"DeadBoar",quantity:10}],targets:[{targetId:Je.Boar,targetCount:5,killedCount:0}]},s=5+Math.floor(Math.random()*10),i=5+Math.floor(Math.random()*10),o=5+Math.floor(Math.random()*10),a={id:"c",location:at.StartVillage,goldReward:100,itemsRewards:[{itemId:"TinOre",quantity:10}],reqItems:[{id:"1",itemCount:i,itemFilter:{minStats:{value:s}}},{id:"2",itemCount:o,itemFilter:{itemType:O.Plank,minStats:{value:s}}}]};return{id:He(),state:Me.AVAILABLE,templateId:"kill-n",parameters:{"param-1":"Test"},expandedOutcome:"k",outcomeData:{ids:["k","c"],entries:{k:t,c:a}}}}}const LI=[{id:"bar",nameId:"Bar",type:ve.ItemType,itemFilter:{itemType:O.Bar}}],uo=nt({id:"TwoHSwordRecipe",nameId:"TwoHSword",iconId:D.Sword,type:he.Smithing,itemSubType:qe.Weapon,getParameters:()=>LI,getResult(n,e){const t=e.find(c=>c.id==="bar");if(t===void 0)return;const s=oe(t.itemId)(n);if(!s||!s.craftingData)return;const i=[s,s,s,s],o=s.materials?.primary,a={};o&&(a.primary=o);const r={id:"",nameId:"TwoHSword",materials:a,icon:D.Broadsword,type:O.TwoHands,equipSlot:ge.TwoHand,value:os(i),weaponData:{expType:ae.OneHanded,attackSpeed:Math.floor(1.4*si/(s.craftingData.speedBonus??1)),damage:{[Ae.Slashing]:Math.floor(1.4*ti*(s.craftingData.damage?.Slashing??1))}}};return{time:as(i),requirements:[{qta:4,itemId:t.itemId}],results:[{id:"crafted2HSword",qta:1,craftedItem:r}]}}}),$I=[{id:"bar",nameId:"Bar",type:ve.ItemType,itemFilter:{itemType:O.Bar}}],go=nt({id:"ArmourRecipe",nameId:"Armour",iconId:D.Breastplate,type:he.Smithing,itemSubType:qe.Armour,getParameters:()=>$I,getResult(n,e){const t=e.find(m=>m.id==="bar");if(t===void 0)return;const s=oe(t.itemId)(n);if(!s||!s.craftingData)return;const i=[s,s,s,s],o=s.craftingData.armour;if(!o)return;const a={};Object.entries(o).forEach(m=>{a[m[0]]=10*m[1]});const r=s.materials?.primary,c={};r&&(c.primary=r);const d={id:"",nameId:"Armour",materials:c,icon:D.Breastplate,type:O.Body,subType:qe.Armour,equipSlot:ge.Body,value:os(i),armourData:a};return{time:as(i),requirements:[{qta:4,itemId:t.itemId}],results:[{id:"craftedItem",qta:1,craftedItem:d}]}}}),BI=[{id:"bar",nameId:"Bar",type:ve.ItemType,itemFilter:{itemType:O.Bar}},{id:"handle",nameId:"Handle",type:ve.ItemType,itemFilter:{itemType:O.Handle}}],ho=nt({id:"AxeRecipe",type:he.Smithing,iconId:D.Axe,nameId:"WoodAxe",itemSubType:qe.Tool,getParameters:()=>BI,getResult:(n,e)=>{const t=e.find(f=>f.id==="bar");if(t===void 0)return;const s=e.find(f=>f.id==="handle");if(s===void 0)return;const i=oe(t.itemId)(n);if(!i)return;const o=oe(s.itemId)(n);if(!o||!i.craftingWoodAxeData||!o.craftingData)return;const a=[i,o],r=i.materials?.primary,c={};r&&(c.primary=r);const d=o.materials?.primary;d&&(c.secondary=d);const m={id:"",nameId:"WoodAxe",materials:c,icon:D.Axe,type:O.WoodAxe,equipSlot:ge.WoodAxe,value:os(a),woodAxeData:{damage:i.craftingWoodAxeData.damage,time:i.craftingWoodAxeData.time/(o.craftingData.speedBonus??1)}};return{time:as(a),requirements:[{qta:1,itemId:t.itemId},{qta:1,itemId:s.itemId}],results:[{id:"craftedAxe",qta:1,craftedItem:m}]}}}),ur=new Map;Object.values(dt).forEach(n=>ur.set(n.oreId,n.barId));const qI=[{id:"ore",nameId:"Ore",type:ve.ItemType,itemFilter:{itemType:O.Ore}}],po=nt({id:"BarRecipe",type:he.Smithing,nameId:"Bar",iconId:D.Bar,itemSubType:qe.Crafting,getParameters:()=>qI,getResult:function(n,e){const t=e.find(i=>i.id==="ore");if(!t||!t.itemId)return;const s=ur.get(t.itemId);if(!s)throw new Error(`OreToBar not found ${t.itemId}`);return{time:3e3,requirements:[{qta:1,itemId:t.itemId}],results:[{id:s,qta:1,stdItemId:s}]}}}),OI=[{id:"bar",nameId:"Bar",type:ve.ItemType,itemFilter:{itemType:O.Bar}}],xo=nt({id:"DaggerRecipe",nameId:"Dagger",iconId:D.Sword,type:he.Smithing,itemSubType:qe.Weapon,getParameters:()=>OI,getResult:(n,e)=>{const t=e.find(c=>c.id==="bar");if(t===void 0)return;const s=oe(t.itemId)(n);if(!s||!s.craftingData)return;const i=[s],o=s.materials?.primary,a={};o&&(a.primary=o);const r={id:"",nameId:"Dagger",materials:a,icon:D.Dagger,type:O.OneHand,equipSlot:ge.MainHand,value:os(i),weaponData:{expType:ae.OneHanded,attackSpeed:Math.floor(.65*si/(s.craftingData.speedBonus??1)),damage:{[Ae.Piercing]:Math.floor(.65*ti*(s.craftingData.damage?.Piercing??1))}}};return{time:as(i),requirements:[{qta:1,itemId:t.itemId}],results:[{id:"craftedDagger",qta:1,craftedItem:r}]}}}),HI=[{id:"bar",nameId:"Bar",type:ve.ItemType,itemFilter:{itemType:O.Bar}}],Io=nt({id:"LongSwordRecipe",nameId:"LongSword",iconId:D.Sword,type:he.Smithing,itemSubType:qe.Weapon,getParameters:()=>HI,getResult:(n,e)=>{const t=e.find(c=>c.id==="bar");if(t===void 0)return;const s=oe(t.itemId)(n);if(!s||!s.craftingData)return;const i=[s,s],o=s.materials?.primary,a={};o&&(a.primary=o);const r={id:"",nameId:"LongSword",materials:a,icon:D.Sword,type:O.OneHand,equipSlot:ge.MainHand,value:os(i),weaponData:{expType:ae.OneHanded,attackSpeed:si/(s.craftingData.speedBonus??1),damage:{[Ae.Slashing]:Math.floor(ti*(s.craftingData.damage?.Slashing??1))}}};return{time:as(i),requirements:[{qta:2,itemId:t.itemId}],results:[{id:"craftedSword",qta:1,craftedItem:r}]}}}),FI=[{id:"bar",nameId:"Bar",type:ve.ItemType,itemFilter:{itemType:O.Bar}},{id:"handle",nameId:"Handle",type:ve.ItemType,itemFilter:{itemType:O.Handle}}],bo=nt({id:"Pickaxe",type:he.Smithing,nameId:"Pickaxe",iconId:D.Pickaxe,itemSubType:qe.Tool,getParameters:function(){return FI},getResult:function(n,e){const t=e.find(f=>f.id==="bar");if(t===void 0)return;const s=e.find(f=>f.id==="handle");if(s===void 0)return;const i=oe(t.itemId)(n);if(!i)return;const o=oe(s.itemId)(n);if(!o||!i.craftingPickaxeData||!o.craftingData)return;const a=[i,o],r=i.materials?.primary,c={};r&&(c.primary=r);const d=o.materials?.primary;d&&(c.secondary=d);const m={id:"",nameId:"Pickaxe",materials:c,icon:D.Pickaxe,type:O.Pickaxe,equipSlot:ge.Pickaxe,value:os(a),pickaxeData:{damage:i.craftingPickaxeData.damage,time:i.craftingPickaxeData.time/(o.craftingData.speedBonus??1),armourPen:i.craftingPickaxeData.armourPen}};return{time:as(a),requirements:[{qta:1,itemId:t.itemId},{qta:1,itemId:s.itemId}],results:[{id:"craftedAxe",qta:1,craftedItem:m}]}}});function WI(n,e,t,s){const i=Jt(n,e),o=n.locations[s].forests[e];if(o!==void 0){if(t=Math.max(0,Math.min(o.qta+t,i.qta)),t>=i.qta){delete n.locations[s].forests[e];return}o.qta=t}}function gr(n,e,t){return(n.locations[n.location].forests[e]?.qta??1)>0}const hr=(n,e,t)=>{const s=bu(n,e,t);if(s>=Xo)return;const i=n.locations[n.location].forests[e];if(!i)return;const o=Jt(n,e);if(i.qta+s>=o.qta)return;const a=hu(),r={id:He(),location:t,woodType:e};Ot.create(n.treeGrowth,r),It(n,a,Q.Tree,r.id)};function UI(n,e){const t=Ot.select(n.treeGrowth,e);t!==void 0&&(Ot.remove(n.treeGrowth,e),WI(n,t.woodType,1,t.location),hr(n,t.woodType,t.location))}function QI(n,e){UI(n,e.actId),n.waitingTrees===n.activityId&&Zs(n)}function GI(n,e,t,s){const i=n.locations[s].forests[e];let o,a;const r=Jt(n,e);i?(o=i.qta,a=i.hp):(o=r.qta,a=r.hp);let c=a-t,d=!1;return c<=0&&(c=r.hp,o=Math.max(0,o-1),d=!0,hr(n,e,s)),n.locations[s].forests[e]={hp:c,qta:o},{cut:d}}const VI=Oi((n,e)=>{const t=e.actId;if(!t)throw new Error(`[onWoodcuttingExec] data not found ${JSON.stringify(e)}`);const s=re.selectEx(n.activities,t);if(!s)throw new Error(`[onWoodcuttingExec] data not found ${t}`);if(!Ds(s))throw new Error(`[onWoodcuttingExec] wrong type ${s.type}`);if(!gr(n,s.woodType))return ue.NotPossible;const i=hl(n),o=GI(n,s.woodType,i,n.location);if(hn(n,ae.Woodcutting,i*.1),o.cut)vt(n,`${s.woodType}Log`,1);else{const a=Ci(n);It(n,a,Q.Woodcutting,t)}return o.cut?ue.Ended:ue.Started});function zI(n,e){const t=re.selectEx(n.activities,e);if(!Ds(t))throw new Error("[getWoodcuttingIcon] Activity is not woodcutting");return xt[t.woodType].iconId}function KI(n,e){const t=re.selectEx(n.activities,e);if(!Ds(t))throw new Error("[getWoodcuttingIcon] Activity is not woodcutting");return ke(n).fun.cutting(t.woodType)}const YI=pn(),XI=xn((n,e)=>{const t=re.selectEx(n.activities,e);if(!gr(n,t.woodType))return n.waitingTrees=e,ue.Started;n.waitingTrees=null;const s=Ci(n);return It(n,s,Q.Woodcutting,e),ue.Started}),Qn=new Map;Object.values(xt).forEach(n=>Qn.set(n.plankId,n.handleId));const ZI=[{id:"plank",nameId:"Plank",type:ve.ItemType,itemFilter:{itemType:O.Plank}}],jo=nt({id:"handleRecipe",type:he.Woodworking,nameId:"Handle",iconId:D.Handle,itemSubType:qe.Crafting,getParameters:()=>ZI,getResult:function(n,e){const t=e.find(i=>i.id==="plank");if(t===void 0||!t.itemId)return;const s=Qn.get(t.itemId);if(!s)throw new Error(`PlankToHandle not found ${t.itemId}`);return{time:3e3,requirements:[{qta:1,itemId:t.itemId}],results:[{id:s,qta:1,stdItemId:Qn.get(t.itemId)}]}}}),pr=new Map;Object.values(xt).forEach(n=>pr.set(n.logId,n.plankId));const JI=[{id:"log",nameId:"Log",type:ve.ItemType,itemFilter:{itemType:O.Log}}],yo=nt({id:"PlankRecipe",type:he.Woodworking,nameId:"Plank",iconId:D.Plank,itemSubType:qe.Crafting,getParameters:()=>JI,getResult:function(n,e){const t=e.find(i=>i.id==="log");if(!t||!t.itemId)return;const s=pr.get(t.itemId);if(!s)throw new Error(`LogToPlank not found ${t.itemId}`);return{time:3e3,requirements:[{qta:1,itemId:t.itemId}],results:[{id:s,qta:1,stdItemId:s}]}}}),e3=(n,e)=>{le.forEach(n.quests,t=>{t.state===Me.ACCEPTED&&Object.values(t.outcomeData.entries).forEach(s=>{if(s.location!==n.location||!s.targets)return;s.targets.forEach(o=>{if(o.killedCount>=o.targetCount)return;const a=R.selectEx(n.characters,e).templateId;o.targetId===a&&(o.killedCount=o.killedCount+1)})})})},t3=(n,e,t)=>{le.forEach(n.quests,s=>{Object.values(s.outcomeData.entries).forEach(i=>{if(i.location!==t||!i.reqItems||!i.reqItems.some(c=>c.selectedItem1===e||c.selectedItem2===e||c.selectedItem3===e))return;const o=i.reqItems;let a=o.findIndex(c=>c.selectedItem1===e||c.selectedItem2===e||c.selectedItem3===e),r=0;for(;a>-1&&r<1e3;){r++;const c=o[a];c&&(c.selectedItem1===e&&(c.selectedItem1=void 0),c.selectedItem2===e&&(c.selectedItem2=void 0),c.selectedItem3===e&&(c.selectedItem3=void 0)),a=o.findIndex(d=>d.selectedItem1===e||d.selectedItem2===e||d.selectedItem3===e)}})})};function s3(n,e){const t=dn(n,e);if(t.result.results[0]?.stdItemId){const s=Vt[t.result.results[0].stdItemId];if(!s)throw new Error(`StdItem not found ${t.result.results[0].stdItemId}`);return s.icon}else return t.result.results[0]?.craftedItem?t.result.results[0].craftedItem.icon:D.Bar}function n3(n,e){const t=dn(n,e),s=ke(n);if(!t.result.results)return s.t.CraftingUnknown;let i;if(t.result.results[0]?.craftedItem?i=t.result.results[0]?.craftedItem:t.result.results[0]?.stdItemId&&(i=oe(t.result.results[0]?.stdItemId)(n)),i){const o=kl(n,i);return s.fun.crafting(o)}return s.t.CraftingUnknown}const i3=(n,e)=>{if(!cn(e))return;const t=xe.getEx(e.recipeId);n.ui.recipeType=t.type,n.recipeId=t.id,n.craftingForm.paramsValue=structuredClone(Hi(e.paramsValue)),n.craftingForm.result=structuredClone(Hi(e.result)),n.craftingForm.params=t.getParameters(n);const s=Object.entries(ln).find(i=>i[1].recipeType&&i[1].recipeType===t.type)?.[0];s&&(n.ui.page=s)},o3=(n,e)=>{Ds(e)&&(n.ui.page=J.Woodcutting,n.ui.woodType=e.woodType)},a3=(n,e)=>{tn(e)&&(n.ui.page=J.Mining,n.ui.oreType=e.oreType)},l3=[{id:"Flask",nameId:"Flask",type:ve.ItemType,itemFilter:{descriptionId:"Flask",has:["flaskData"]}},{id:"Solvent",nameId:"Solvent",type:ve.ItemType,itemFilter:{descriptionId:"Solvent",has:["solventData"]}},{id:"Ingredient1",nameId:"Ingredient",type:ve.ItemType,itemFilter:{descriptionId:"Ingredient",has:["ingredientData"]}},{id:"Ingredient2",nameId:"Ingredient",type:ve.ItemType,itemFilter:{descriptionId:"Ingredient",has:["ingredientData"]}}],vo=nt({id:"Potion",nameId:"Potion",iconId:D.Potion,type:he.Alchemy,itemSubType:qe.Potion,getParameters:function(n){return l3},getResult:function(n,e){const t=e.find(m=>m.id==="Solvent")?.itemId;if(!t)return;const s=e.find(m=>m.id==="Flask")?.itemId;if(!s||!oe(t)(n)?.solventData||!oe(s)(n)?.flaskData)return;const a=[];for(let m=1;m<=ug;m++){const f=e.find(g=>g.id===`Ingredient${m}`)?.itemId;if(!f||a.some(g=>g.id===f))continue;const u=oe(f)(n);if(!u?.ingredientData)return;a.push(u)}if(a.length<2)return;const r=no(n,!0,a),c=no(n,!1,a);return{time:5e3,requirements:[{itemId:t,qta:1},{itemId:s,qta:1},...a.map(m=>({itemId:m.id,qta:1}))],results:[{id:"craftedPotion",qta:1,stability:c?.stability??0,potionResult:c?.potionResult??je.NotPotion,craftedItem:r?.item,uiCraftedItem:c?.item,unknownEffects:c?.unknownEffects??!1,potionResultBonusList:c?.potionResultBonusList}]}},afterCrafting:(n,e,t)=>{const s=[];for(const i of t.results)El(i)&&i.potionResult!==je.NotPotion&&i.craftedItem?.potionData?.effects?.forEach(o=>{s.includes(o.effect)||s.push(o.effect)});t.requirements.forEach(i=>{const o=oe(i.itemId)(n);o&&o?.ingredientData&&r3(n,o,s)})}}),r3=(n,e,t)=>{if(!t.length)return;n.discoveredEffects[e.id]||(n.discoveredEffects[e.id]=[]);const s=oe(e.id)(n)?.ingredientData?.effects;s&&t.forEach(i=>{s.some(o=>o.effect===i)&&!n.discoveredEffects[e.id]?.includes(i)&&n.discoveredEffects[e.id].push(i)})},c3=100,Pt="Alchemy",fs="Wood",us="Mining";class d3 extends fr{nextQuestId="SupplyQuest";id="SupplyQuest";getName=e=>t=>"Supply Quest";getDescription=e=>t=>"Free supply";getIcon=e=>t=>D.Axe;getOutcomeTitle=(e,t)=>s=>t===Pt?"Alchemy Supply":t===fs?"Wood Supply":t===us?"Mining Supply":"";getOutcomeDescription=(e,t)=>s=>t===Pt?"Alchemy Supply":t===fs?"Wood Supply":t===us?"Mining Supply":"";generateQuestData=e=>{const t=c3+Math.floor(Math.random()*100),s={id:Pt,location:at.StartVillage,goldReward:0,itemsRewards:Object.entries(ga).filter(([,r])=>!r.unlimited).map(([r])=>({itemId:r,quantity:t}))},i={id:fs,location:at.StartVillage,goldReward:0,itemsRewards:Object.entries(Ia).map(([r])=>({itemId:r,quantity:t}))},o={id:us,location:at.StartVillage,goldReward:0,itemsRewards:Object.entries(pa).map(([r])=>({itemId:r,quantity:t})).concat(Object.entries(xa).map(([r])=>({itemId:r,quantity:t})))};return{id:He(),state:Me.AVAILABLE,templateId:"SupplyQuest",parameters:{},expandedOutcome:Pt,outcomeData:{ids:[Pt,fs,us],entries:{[Pt]:s,[fs]:i,[us]:o}}}}}function m3(){f3(),u3(),g3(),h3(),p3()}function f3(){bt.set(Q.Woodcutting,VI),hs.set(Q.Woodcutting,YI),Et.set(Q.Woodcutting,XI),Rt.set(Q.Woodcutting,KI),Lt.set(Q.Woodcutting,zI),xs.set(Q.Woodcutting,o3),bt.set(Q.Mining,_I),hs.set(Q.Mining,PI),Et.set(Q.Mining,EI),Rt.set(Q.Mining,MI),Lt.set(Q.Mining,TI),xs.set(Q.Mining,a3),bt.set(Q.Crafting,CI),hs.set(Q.Crafting,wI),Et.set(Q.Crafting,kI),Rt.set(Q.Crafting,n3),Lt.set(Q.Crafting,s3),xs.set(Q.Crafting,i3),hs.set(Q.Battle,pI),Et.set(Q.Battle,xI),Rt.set(Q.Battle,gI),Lt.set(Q.Battle,uI),bt.set(Q.Tree,QI),bt.set(Q.Ability,mI),bt.set(Q.StartBattle,vI),bt.set(Q.Effect,fg)}function u3(){xe.set(yo.id,yo),xe.set(jo.id,jo),xe.set(po.id,po),xe.set(ho.id,ho),xe.set(bo.id,bo),xe.set(xo.id,xo),xe.set(Io.id,Io),xe.set(uo.id,uo),xe.set(go.id,go),xe.set(fo.id,fo),xe.set(vo.id,vo)}function g3(){Ue.set($e.NormalAttack,new ar),Ue.set($e.ChargedAttack,new lI)}function h3(){Ft.set("kill-n",new RI),Ft.set("SupplyQuest",new d3)}function p3(){Un.push(eI),Un.push(e3),Mn.push(t3),Mn.push(u1)}const x3=n=>{const e=j.c(6);let t;e[0]!==n?({...t}=n,e[0]=n,e[1]=t):t=e[1];const{theme:s}=jd(),o=s===void 0?"system":s;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},e[2]=a):a=e[2];let r;return e[3]!==t||e[4]!==o?(r=l.jsx(yd,{theme:o,className:"toaster group",style:a,...t}),e[3]=t,e[4]=o,e[5]=r):r=e[5],r};m3();vd.createRoot(document.getElementById("root")).render(l.jsxs(Sd.StrictMode,{children:[l.jsx(Cd,{delayDuration:150,children:l.jsx(G0,{})}),l.jsx(x3,{})]}));
